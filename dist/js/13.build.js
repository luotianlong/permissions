webpackJsonp([13],{106:function(e,t,n){"use strict";function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){return{data:{list:[]},config:{menuName:"",branchName:"",needClear:{item:{},index:0},modalBox:{isShow:!1,content:"",btn:[{text:"确定",handel:"confirmClick"},{text:"取消",handel:"cancelClick"}]}}}};t.default={data:function(){return new i},activated:function(){var e=this;Bestone.ui.pageInit({setTitle:"管理账户权限",reviewCallBack:function(){e.config.menuName=Bestone.util.query().MenuName||"",e.config.branchName=Bestone.util.query().Branch_Name||"",Bestone.util.ajax({url:"api/UserManage/GetMenuUserConfigByRole",data:JSON.stringify({MenuCode:Bestone.util.query().MenuCode,BranchId:parseInt(Bestone.util.query().Branch_ID||0,10)}),success:function(t){var n;(n=e.data.list).push.apply(n,a(t.data))}})}})},deactivated:function(){var e=this;Bestone.util.resetData(function(){e.data=i().data,e.config=i().config})},methods:{textStatusDeal:function(e){return Bestone.util.textStatusDeal(e)},mgmt:function(e,t){var n=this;n.config.needClear.item=e,n.config.needClear.index=t,n.config.modalBox.content='<p style="font-size: 14px;text-align: center;padding: 20px 0px;line-height: 16px;">确定移除 <span style="color: #23A4FF;">'+e.User_UserName+"</span> 的权限？</p>",n.config.modalBox.isShow=!0},confirmClickDeal:function(){var e=this;Bestone.util.ajax({url:"api/UserManage/DeleteMenuUserConfigById",data:JSON.stringify({ConfigId:e.config.needClear.item.Config_ID,UserId:e.config.needClear.item.Config_UserID,OperId:Bestone.user.id,OperName:Bestone.user.name}),success:function(t){e.config.modalBox.isShow=!1,e.data.list.splice(e.config.needClear.index,1),Bestone.ui.message({content:"操作成功！"})}})},cancelClickDeal:function(){this.config.modalBox.isShow=!1}}}},126:function(e,t,n){t=e.exports=n(0)(void 0),t.push([e.i,"#permission-mgmt[data-v-188d3f27]{padding-top:10px;padding-bottom:10px}#permission-mgmt>.ui-card-list[data-v-188d3f27]{margin-bottom:10px}#permission-mgmt>.no-data[data-v-188d3f27]{color:#999;font-size:12px;line-height:20px;text-align:center;margin-top:50px;padding:0 20px}#permission-mgmt>.no-data>span[data-v-188d3f27]{color:#38adff}",""])},159:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{attrs:{id:"permission-mgmt"}},[n("div",{staticClass:"ui ui-text-list"},[n("p",[e._v("权限菜单："+e._s(e.config.menuName))]),e._v(" "),n("p",{directives:[{name:"show",rawName:"v-show",value:e.config.branchName.length>0,expression:"config.branchName.length>0"}]},[e._v("权限管理范围："+e._s(e.config.branchName))])]),e._v(" "),n("div",{staticClass:"ui ui-title"},[e._v("拥有以上权限的账户如下：")]),e._v(" "),e.data.list&&e.data.list.length>0?n("div",{staticClass:"ui ui-card-list"},[n("ul",e._l(e.data.list,function(t,a){return n("li",{key:t.Config_ID},[n("div",{staticClass:"list-text"},[n("p",[e._v("申请人："+e._s(t.User_UserName))]),e._v(" "),n("p",[e._v("权限名称："+e._s(t.Menu_Name))]),e._v(" "),n("p",[e._v("管理范围："+e._s(t.Branch_Name))])]),e._v(" "),n("v-touch",{staticClass:"btn",attrs:{tag:"div"},on:{pressup:function(n){n.preventDefault(),e.mgmt(t,a)},tap:function(n){n.preventDefault(),e.mgmt(t,a)}}},[e._v("移除权限")])],1)}))]):e._e(),e._v(" "),e.data.list&&e.data.list.length<=0?n("div",{staticClass:"no-data"},[e._v("暂无数据")]):e._e(),e._v(" "),n("modal-box",{attrs:{setConfig:e.config.modalBox},on:{confirmClick:e.confirmClickDeal,cancelClick:e.cancelClickDeal}})],1)])},staticRenderFns:[]}},190:function(e,t,n){var a=n(126);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);n(2)("502d715e",a,!0)},75:function(e,t,n){function a(e){n(190)}var i=n(1)(n(106),n(159),a,"data-v-188d3f27",null);e.exports=i.exports}});