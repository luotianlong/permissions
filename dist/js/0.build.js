webpackJsonp([0],{143:function(e,n,t){n=e.exports=t(0)(void 0),n.push([e.i,"#index>.banner[data-v-cd0ce228]{width:100%;height:155px;background-image:url("+t(150)+");background-position:50%;background-repeat:no-repeat;background-size:100% 100%;background-color:#4d9971}@media screen and (min-width:540px){#index>.banner[data-v-cd0ce228]{height:240px}}@media screen and (max-width:540px){#index>.banner[data-v-cd0ce228]{height:240px}}@media screen and (max-width:480px){#index>.banner[data-v-cd0ce228]{height:215px}}@media screen and (max-width:425px){#index>.banner[data-v-cd0ce228]{height:190px}}@media screen and (max-width:375px){#index>.banner[data-v-cd0ce228]{height:155px}}@media screen and (max-width:320px){#index>.banner[data-v-cd0ce228]{height:120px}}#index>.nav[data-v-cd0ce228]{background-color:#fff;margin-top:10px;padding:15px 10px 3px}#index>.nav>ul[data-v-cd0ce228]{overflow:hidden}#index>.nav>ul>li[data-v-cd0ce228]{width:48%;float:left;color:#404040;text-align:center;margin-bottom:12px;cursor:pointer;position:relative;height:50px;border:1px solid #ddd;border-radius:5px;line-height:50px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}#index>.nav>ul>li[data-v-cd0ce228]:nth-child(2n){float:right}#index>.nav>ul>li>.text[data-v-cd0ce228]{padding-right:40px;font-size:16px;height:50px;overflow:hidden}@media screen and (max-width:320px){#index>.nav>ul>li>.text[data-v-cd0ce228]{font-size:14px}}#index>.nav>ul>li>.icon-box[data-v-cd0ce228]{position:absolute;top:-1px;right:-1px;border-bottom-right-radius:5px;border-top-right-radius:5px;width:40px;height:52px}#index>.nav>ul>li>.icon-box>i[data-v-cd0ce228]{color:#fff;font-size:20px}#index>.nav>ul>li[data-v-cd0ce228]:active{background-color:#eee}",""])},150:function(e,n,t){e.exports=t.p+"images/index_banner.jpg?b7a1c064"},176:function(e,n){e.exports={render:function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",[t("div",{attrs:{id:"index"}},[t("div",{staticClass:"banner"}),e._v(" "),t("div",{staticClass:"nav"},[t("ul",e._l(e.config.navList,function(n,i){return n.isShow?t("v-touch",{key:n.id,attrs:{tag:"li"},on:{pressup:function(t){t.preventDefault(),e.routerPush(n,i)},tap:function(t){t.preventDefault(),e.routerPush(n,i)}}},[t("div",{staticClass:"text"},[e._v(e._s(n.name))]),e._v(" "),t("div",{staticClass:"icon-box",style:{backgroundColor:n.iconBgColor}},[t("i",{staticClass:"iconfont",class:n.iconfont})])]):e._e()}))]),e._v(" "),e.config.tdsLoginShow?t("tds-login-modal",{attrs:{setConfig:e.config.tdsLoginModal},on:{getCode:e.getCodeDeal,submit:e.submitDeal}}):e._e()],1)])},staticRenderFns:[]}},207:function(e,n,t){var i=t(143);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);t(2)("315c1974",i,!0)},67:function(e,n,t){function i(e){t(207)}var o=t(1)(t(98),t(176),i,"data-v-cd0ce228",null);e.exports=o.exports},98:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){return{data:{},config:{navList:[{name:"我的权限管理",iconfont:"icon-yonghu_shezhi",iconBgColor:"#FFC835",isShow:!1,path:"/myPermissionMgmt/myPermissionMgmt"},{name:"申请记录",iconfont:"icon-biaodan",iconBgColor:"#4DA9EB",isShow:!1,path:"/applyRecord/applyRecord"},{name:"代为权限申请",iconfont:"icon-shenhe",iconBgColor:"#80C269",isShow:!1,path:"/applyPermission/applyPermission?ProxyApply=true"},{name:"权限申请审核",iconfont:"icon-icon7",iconBgColor:"#17C295",isShow:!1,path:"/applyPermissionAudit/applyPermissionAudit"},{name:"员工权限管理",iconfont:"icon-tuandui",iconBgColor:"#8F82BC",isShow:!1,path:"/permissionControl/permissionControl"},{name:"权限管理配置",iconfont:"icon-manager",iconBgColor:"#448ACA",isShow:!1,path:"/permissionMgmtConfig/permissionMgmtConfig"}],tdsLoginShow:!1,tdsLoginModal:{getCodeBtnText:"获取短信验证码",submitBtnText:"绑定TDS业支端账号",prompt:"",warn:"注：账号绑定不可更改，请绑定本人TDS业支端账号。"},msgType:1,ddAuthCode:"",corpId:0}}};n.default={data:function(){return new i},activated:function(){var e=this;Bestone.ui.pageInit({setTitle:"权限管理首页",reviewCallBack:function(){var n=(new Date).getTime();Bestone.ui.loadingFrame({timestamp:n}),Bestone.util.isDev()&&Bestone.util.ajax({url:"api/DingTalk/TestHole",data:JSON.stringify({}),showLoad:!1,success:function(t){t=t.data,Bestone.user.id=t.UserId,Bestone.user.user=t.AccountName,Bestone.user.name=t.UserName,Bestone.user.branchId=t.BranchId,Bestone.user.branchName=t.BranchName,sessionStorage.user=JSON.stringify({id:t.UserId,user:t.AccountName,name:t.UserName,branchId:t.BranchId,branchName:t.BranchName}),Bestone.util.getToken({showLoad:!1,success:function(){Bestone.util.ajax({url:"api/UserManage/GetUserModule",showLoad:!1,data:JSON.stringify({UserId:Bestone.user.id}),success:function(n){$.each(n.data,function(n,t){e.config.navList[t-1].isShow=!0})},complete:function(e,t){Bestone.ui.hideLoadingFrame({timestamp:n})}})}})},complete:function(e,t){"success"!=t&&Bestone.ui.hideLoadingFrame({timestamp:n})}})}})},deactivated:function(){var e=this;Bestone.util.resetData(function(){e.data=i().data,e.config=i().config})},mounted:function(){},methods:{routerPush:function(e,n){Bestone.util.vueJump({path:e.path})},getCodeDeal:function(e){var n=this;Bestone.util.ajax({url:"api/DingTalk/SendMessage",data:JSON.stringify({accountName:e,msgType:n.config.msgType,businessType:1}),success:function(e){var t=e.data.PhoneNum,i=t.substr(0,4)+"****"+t.substr(t.length-3,t.length),o="";o=1===n.config.msgType?"文字短信":"语音口令",n.config.tdsLoginModal.prompt="你的手机"+i+"将会收到一条"+o+"，请注意查收！"},fail:function(){n.config.msgType=2,n.config.tdsLoginModal.getCodeBtnText="发送语音口令"}})},submitDeal:function(e){var n=this;dd.ready(function(){dd.runtime.permission.requestAuthCode({corpId:n.config.corpId,onSuccess:function(t){n.config.ddAuthCode=t.code,Bestone.util.ajax({url:"api/DingTalk/AuthLogin?dingCode="+n.config.ddAuthCode,data:JSON.stringify({accountName:e.accountVal,code:e.verifyCode}),success:function(e){e=e.data,n.config.tdsLoginShow=!1,Bestone.user.id=e.UserId,Bestone.user.user=e.AccountName,Bestone.user.name=e.UserName,Bestone.user.branchId=e.BranchId,Bestone.user.branchName=e.BranchName,sessionStorage.user=JSON.stringify({id:e.UserId,user:e.AccountName,name:e.UserName,branchId:e.BranchId,branchName:e.BranchName}),Bestone.util.getToken({success:function(){Bestone.util.ajax({url:"api/UserManage/GetUserModule",data:JSON.stringify({UserId:Bestone.user.id}),success:function(e){$.each(e.data,function(e,t){n.config.navList[t-1].isShow=!0})}})}})}})},onFail:function(e){Bestone.ui.message({content:"获取授权码失败，请退出页面重新进入"})}})})}}}}});