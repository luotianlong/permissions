webpackJsonp([11],{108:function(a,e,t){"use strict";function i(a){if(Array.isArray(a)){for(var e=0,t=Array(a.length);e<a.length;e++)t[e]=a[e];return t}return Array.from(a)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){return{data:{list:[]},config:{noDataText:"请搜索TDS业支端登录账户或姓名进行相关配置。",pageIndex:1,pageSize:10,isLoadAll:!1,isSendAjax:!1,isFirstAjax:!0,searchAjaxVal:"",searchBox:{searchVal:"",placeholder:"登录账号/姓名搜索"}}}};e.default={data:function(){return new s},activated:function(){var a=this;Bestone.ui.pageInit({setTitle:"新增“权限管理”配置",reviewCallBack:function(){}}),Bestone.util.scrollRefresh({callback:function(e){a.config.isFirstAjax||a.config.isSendAjax||a.config.isLoadAll||(a.config.isSendAjax=!0,Bestone.util.ajax({url:"api/UserManage/GetUsers",showLoad:!1,data:JSON.stringify({PageIndex:a.config.pageIndex+1,PageSize:a.config.pageSize,Keyword:a.config.searchAjaxVal}),success:function(e){var t;e.data.list.length<a.config.pageSize&&(a.config.isLoadAll=!0),a.config.pageIndex=e.data.page,(t=a.data.list).push.apply(t,i(e.data.list))},complete:function(){a.config.isSendAjax=!1}}))}})},deactivated:function(){var a=this;Bestone.util.resetData(function(){a.data=s().data,a.config=s().config})},methods:{textStatusDeal:function(a){return Bestone.util.textStatusDeal(a)},configClick:function(a){Bestone.util.vueJump({path:"/permissionMgmtConfig/configPermissionMgmt",query:{UserID:a.User_ID,UserName:a.User_Name,UserUserName:a.User_UserName,UserBranchName:a.UserBranchName}})},searchClickDeal:function(a){var e=this;e.config.isSendAjax=!0,Bestone.util.ajax({url:"api/UserManage/GetUsers",data:JSON.stringify({PageIndex:1,PageSize:e.config.pageSize,Keyword:a}),success:function(t){e.config.noDataText="暂无数据",e.config.isFirstAjax=!1,e.config.searchAjaxVal=a,e.config.pageIndex=1,t.data.list.length<e.config.pageSize?e.config.isLoadAll=!0:e.config.isLoadAll=!1,e.data.list=t.data.list||[]},complete:function(){e.config.isSendAjax=!1}})},searchValChangeDeal:function(a){this.config.searchBox.searchVal=a}}}},134:function(a,e,t){e=a.exports=t(0)(void 0),e.push([a.i,"#add-permission-mgmt[data-v-7093cf6c]{padding-top:10px}#add-permission-mgmt>.search[data-v-7093cf6c]{background-color:#fff;padding:10px 15px}",""])},167:function(a,e){a.exports={render:function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",[t("div",{attrs:{id:"add-permission-mgmt"}},[t("div",{staticClass:"search"},[t("search-box",{attrs:{searchVal:a.config.searchBox.searchVal,placeholder:a.config.searchBox.placeholder},on:{searchClick:a.searchClickDeal,searchValChange:a.searchValChangeDeal}})],1),a._v(" "),t("div",{staticClass:"ui ui-card-list"},[a.data.list&&a.data.list.length>0?t("ul",a._l(a.data.list,function(e,i){return t("li",[t("div",{staticClass:"list-text"},[t("p",[a._v("TDS账号："+a._s(e.User_Name))]),a._v(" "),t("p",[a._v("姓名："+a._s(e.User_UserName))]),a._v(" "),t("p",[a._v("账号所属公司："+a._s(e.UserBranchName))])]),a._v(" "),t("v-touch",{staticClass:"btn",attrs:{tag:"div"},on:{pressup:function(t){t.preventDefault(),a.configClick(e,i)},tap:function(t){t.preventDefault(),a.configClick(e,i)}}},[a._v("配置")])],1)})):a._e()]),a._v(" "),a.data.list.length>0?t("div",{staticClass:"ui ui-scrollRefresh"},[a.config.isLoadAll?a._e():[t("i",{staticClass:"iconfont icon-load"}),t("span",[a._v("加载中")])],a._v(" "),a.config.isLoadAll?[t("span",[a._v("没有更多了")])]:a._e()],2):a._e(),a._v(" "),a.data.list&&a.data.list.length<=0?t("div",{staticClass:"ui no-data"},[a._v(a._s(a.config.noDataText))]):a._e()])])},staticRenderFns:[]}},198:function(a,e,t){var i=t(134);"string"==typeof i&&(i=[[a.i,i,""]]),i.locals&&(a.exports=i.locals);t(2)("4fc18f0d",i,!0)},77:function(a,e,t){function i(a){t(198)}var s=t(1)(t(108),t(167),i,"data-v-7093cf6c",null);a.exports=s.exports}});