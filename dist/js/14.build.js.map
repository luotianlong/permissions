{"version":3,"sources":["webpack:///js/14.build.js","webpack:///permissionLimit.vue","webpack:///./src/component/permissionControl/permissionLimit.vue?6eba","webpack:///./src/component/permissionControl/permissionLimit.vue?7a9f","webpack:///./src/component/permissionControl/permissionLimit.vue?b009","webpack:///./src/component/permissionControl/permissionLimit.vue"],"names":["webpackJsonp","105","module","__webpack_exports__","__webpack_require__","_toConsumableArray","arr","Array","isArray","i","arr2","length","from","Object","defineProperty","value","initData","data","titleName","pageOne","treeView","pageTwo","config","showFunctionMenu","tabIndex","tabShow","searchBox","searchVal","placeholder","suggest","isShow","isShowIcon","keyConfig","name","id","childKey","btn","iconFontClass","color","handle","locationConfig","key","pageIndex","pageSize","isLoadAll","isSendAjax","searchAjaxVal","activated","self","this","Bestone","ui","pageInit","setTitle","reviewCallBack","storeAjaxGet","util","ajax","url","showLoad","JSON","stringify","PageIndex","PageSize","Keyword","success","ajaxData","list","hideLoadingFrame","vueJump","path","query","MenuName","MenuCode","complete","loadingFrame","getTreeViewDataForSearch","scrollRefresh","callback","height","_self$data$pageTwo$tr","page","push","apply","deactivated","resetData","methods","switchTab","clickFunctionMenu","pageOneClickDeal","str","console","log","pageOneValChangeDeal","pageOneItemClickDeal","item","val","$loca","$","css","setTimeout","window","scrollTop","offset","top","pageOneTreeDataChangeDeal","pageOneTreeMgmt","Branch_ID","Branch_Name","pageTwoClickDeal","pageTwoValChangeDeal","pageTwoTreeDataChangeDeal","pageTwoTreeMgmt","144","exports","undefined","177","render","_vm","_h","$createElement","_c","_self","attrs","staticClass","_v","_s","class","tag","on","tap","$event","preventDefault","pressup","_e","directives","rawName","expression","searchClick","searchValChange","itemClick","dataArr","setConfig","dataArrChange","treeMgmt","staticRenderFns","208","content","locals","74","injectStyle","ssrContext","Component"],"mappings":"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","file":"js/14.build.js?42363b00","sourcesContent":["webpackJsonp([14],{\n\n/***/ 105:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nvar initData = function initData() {\n    return {\n        data: {\n            titleName: '',\n            pageOne: {\n                treeView: []\n            },\n            pageTwo: {\n                treeView: []\n            }\n        },\n        config: {\n            showFunctionMenu: false, // 是否显示功能菜单提示框\n            tabIndex: 0, // 1-按公司，2-按门市\n            tabShow: false, // 是否显示tab\n            pageOne: {\n                searchBox: {\n                    searchVal: '',\n                    placeholder: '公司名称',\n                    suggest: {\n                        isShow: 1,\n                        data: []\n                    }\n                },\n                treeView: {\n                    isShow: 1,\n                    isShowIcon: 1,\n                    keyConfig: {\n                        name: 'Branch_Name',\n                        id: 'Branch_ID',\n                        childKey: 'ChildList'\n                    },\n                    btn: [{\n                        iconFontClass: 'icon-manager',\n                        color: '#E5B626',\n                        handle: 'treeMgmt'\n                    }],\n                    locationConfig: {\n                        key: 'id'\n                    }\n                }\n            },\n            pageTwo: {\n                pageIndex: 1,\n                pageSize: 20,\n                isLoadAll: false, // 是否加载所有数据\n                isSendAjax: false, // 是否发起请求\n                searchAjaxVal: '',\n                searchBox: {\n                    searchVal: '',\n                    placeholder: '门市名称'\n                },\n                treeView: {\n                    isShow: 1,\n                    isShowIcon: 2,\n                    keyConfig: {\n                        name: 'Branch_Name',\n                        id: 'Branch_ID',\n                        childKey: 'ChildList'\n                    },\n                    btn: [{\n                        iconFontClass: 'icon-manager',\n                        color: '#E5B626',\n                        handle: 'treeMgmt'\n                    }],\n                    locationConfig: {\n                        key: 'id'\n                    }\n                }\n            }\n        }\n    };\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    data: function data() {\n        return new initData();\n    },\n\n    activated: function activated() {\n        var self = this;\n        Bestone.ui.pageInit({\n            setTitle: '管理范围选择',\n            reviewCallBack: function reviewCallBack() {\n                // title\n                self.data.titleName = Bestone.util.query().MenuName;\n\n                // 按门市\n                function storeAjaxGet() {\n                    self.config.pageTwo.isSendAjax = true;\n                    Bestone.util.ajax({\n                        url: 'api/UserManage/GetStoreBranchList',\n                        showLoad: false,\n                        data: JSON.stringify({\n                            PageIndex: self.config.pageTwo.pageIndex,\n                            PageSize: self.config.pageTwo.pageSize,\n                            Keyword: self.config.pageTwo.searchAjaxVal\n                        }),\n                        success: function success(ajaxData) {\n                            if (ajaxData.data.list.length < self.config.pageTwo.pageSize) {\n                                self.config.pageTwo.isLoadAll = true;\n                            }\n                            self.data.pageTwo.treeView = ajaxData.data.list || [];\n                            Bestone.ui.hideLoadingFrame();\n                            // 根据获取的数据渲染页面\n                            if (self.data.pageOne.treeView.length > 0) {\n                                self.config.tabIndex = 1;\n                                if (self.data.pageTwo.treeView.length > 0) {\n                                    self.config.tabShow = true;\n                                }\n                            } else {\n                                // 功能菜单，不需要选择范围\n                                self.config.showFunctionMenu = true;\n                                Bestone.util.vueJump({\n                                    path: '/permissionControl/permissionMgmt',\n                                    query: {\n                                        MenuName: Bestone.util.query().MenuName,\n                                        MenuCode: Bestone.util.query().MenuCode\n                                    }\n                                });\n                            }\n                        },\n                        complete: function complete() {\n                            self.config.pageTwo.isSendAjax = false;\n                        }\n                    });\n                }\n\n                // 按公司\n                Bestone.ui.loadingFrame();\n                Bestone.util.ajax({\n                    url: 'api/UserManage/GetCompanyBranchList',\n                    showLoad: false,\n                    data: JSON.stringify({}),\n                    success: function success(ajaxData) {\n                        self.config.pageOne.searchBox.suggest.data = Bestone.util.getTreeViewDataForSearch({\n                            data: ajaxData.data || [],\n                            name: 'Branch_Name',\n                            id: 'Branch_ID',\n                            childKey: 'ChildList'\n                        });\n                        self.data.pageOne.treeView = ajaxData.data || [];\n                        storeAjaxGet();\n                    }\n                });\n            }\n        });\n\n        // 门市数据滚动加载\n        Bestone.util.scrollRefresh({\n            callback: function callback(height) {\n                if (self.config.tabIndex === 2 && !self.config.pageTwo.isSendAjax && !self.config.pageTwo.isLoadAll) {\n                    self.config.pageTwo.isSendAjax = true;\n                    Bestone.util.ajax({\n                        url: 'api/UserManage/GetStoreBranchList',\n                        showLoad: false,\n                        data: JSON.stringify({\n                            PageIndex: self.config.pageTwo.pageIndex + 1,\n                            PageSize: self.config.pageTwo.pageSize,\n                            Keyword: self.config.pageTwo.searchAjaxVal\n                        }),\n                        success: function success(ajaxData) {\n                            var _self$data$pageTwo$tr;\n\n                            if (ajaxData.data.list.length < self.config.pageTwo.pageSize) {\n                                self.config.pageTwo.isLoadAll = true;\n                            }\n                            self.config.pageTwo.pageIndex = ajaxData.data.page; // 更新pageIndex\n                            (_self$data$pageTwo$tr = self.data.pageTwo.treeView).push.apply(_self$data$pageTwo$tr, _toConsumableArray(ajaxData.data.list)); // 更新树形数组\n                        },\n                        complete: function complete() {\n                            self.config.pageTwo.isSendAjax = false;\n                        }\n                    });\n                }\n            }\n        });\n    },\n    deactivated: function deactivated() {\n        var self = this;\n        // 回退时清除数据\n        Bestone.util.resetData(function () {\n            self.data = initData().data;\n            self.config = initData().config;\n        });\n    },\n    methods: {\n        // 切换tab\n        switchTab: function switchTab(id) {\n            this.config.tabIndex = id;\n        },\n        // 功能菜单情况点击跳转\n        clickFunctionMenu: function clickFunctionMenu() {\n            Bestone.util.vueJump({\n                path: '/permissionControl/permissionMgmt',\n                query: {\n                    MenuName: Bestone.util.query().MenuName,\n                    MenuCode: Bestone.util.query().MenuCode\n                }\n            });\n        },\n        /***************************************  按公司  ***************************************/\n        // 搜索点击\n        pageOneClickDeal: function pageOneClickDeal(str) {\n            console.log(str);\n        },\n        // 输入框值改变\n        pageOneValChangeDeal: function pageOneValChangeDeal(str) {\n            this.config.pageOne.searchBox.searchVal = str; // 必须，用于父子组件数据双向绑定\n        },\n        // 搜索下拉框点击\n        pageOneItemClickDeal: function pageOneItemClickDeal(item) {\n            var val = item.id;\n            if (!!val) {\n                var $loca = $('.page-one .ui.tree-view .loca' + val);\n                $('.page-one .ui.tree-view .item').css('background-color', 'transparent');\n                if ($loca.length > 0) {\n                    setTimeout(function () {\n                        $loca.css('background-color', '#FFFBE6');\n                        $(window).scrollTop($loca.offset().top - 5);\n                    }, 100);\n                }\n            }\n        },\n        // 树形组件数据更改\n        pageOneTreeDataChangeDeal: function pageOneTreeDataChangeDeal(arr) {\n            this.data.pageOne.treeView = arr; // 必须，用于父子组件数据双向绑定\n            console.log(arr);\n        },\n        // 点击树形管理\n        pageOneTreeMgmt: function pageOneTreeMgmt(item) {\n            Bestone.util.vueJump({\n                path: '/permissionControl/permissionMgmt',\n                query: {\n                    MenuName: Bestone.util.query().MenuName,\n                    MenuCode: Bestone.util.query().MenuCode,\n                    Branch_ID: item.Branch_ID,\n                    Branch_Name: item.Branch_Name\n                }\n            });\n        },\n        /************************************  按门市  ***************************************/\n        // 搜索点击\n        pageTwoClickDeal: function pageTwoClickDeal(str) {\n            var self = this;\n            self.config.pageTwo.isSendAjax = true;\n            Bestone.util.ajax({\n                url: 'api/UserManage/GetStoreBranchList',\n                data: JSON.stringify({\n                    PageIndex: 1,\n                    PageSize: self.config.pageTwo.pageSize,\n                    Keyword: str\n                }),\n                success: function success(ajaxData) {\n                    self.config.pageTwo.searchAjaxVal = str;\n                    self.config.pageTwo.pageIndex = 1;\n                    if (ajaxData.data.list.length < self.config.pageTwo.pageSize) {\n                        self.config.pageTwo.isLoadAll = true;\n                    } else {\n                        self.config.pageTwo.isLoadAll = false;\n                    }\n                    self.data.pageTwo.treeView = ajaxData.data.list || [];\n                },\n                complete: function complete() {\n                    self.config.pageTwo.isSendAjax = false;\n                }\n            });\n        },\n        // 输入框值改变\n        pageTwoValChangeDeal: function pageTwoValChangeDeal(str) {\n            this.config.pageTwo.searchBox.searchVal = str; // 必须，用于父子组件数据双向绑定\n        },\n        // 树形组件数据更改\n        pageTwoTreeDataChangeDeal: function pageTwoTreeDataChangeDeal(arr) {\n            this.data.pageTwo.treeView = arr; // 必须，用于父子组件数据双向绑定\n        },\n        // 点击树形管理\n        pageTwoTreeMgmt: function pageTwoTreeMgmt(item) {\n            Bestone.util.vueJump({\n                path: '/permissionControl/permissionMgmt',\n                query: {\n                    MenuName: Bestone.util.query().MenuName,\n                    MenuCode: Bestone.util.query().MenuCode,\n                    Branch_ID: item.Branch_ID,\n                    Branch_Name: item.Branch_Name\n                }\n            });\n        }\n    }\n});\n\n/***/ }),\n\n/***/ 144:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(0)(undefined);\n// imports\n\n\n// module\nexports.push([module.i, \"#permission-limit[data-v-a88309d6]{padding-top:10px}#permission-limit>.tab[data-v-a88309d6]{background-color:#fff;height:40px;overflow:hidden;border-bottom:1px solid #eee;margin-bottom:10px}#permission-limit>.tab>.item[data-v-a88309d6]{position:relative;width:50%;height:40px;float:left;line-height:40px;font-size:14px;color:#666;text-align:center;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}#permission-limit>.tab>.item[data-v-a88309d6]:after{content:\\\"\\\";position:absolute;width:1px;height:26px;background-color:#eee;top:7px;right:0}#permission-limit>.tab>.item.action[data-v-a88309d6]{color:#38adff}#permission-limit>.tab>.item.action[data-v-a88309d6]:before{content:\\\"\\\";position:absolute;width:99%;height:1px;background-color:#38adff;top:0;left:0}#permission-limit>.tab>.item[data-v-a88309d6]:last-child{float:right}#permission-limit>.tab>.item[data-v-a88309d6]:last-child:after{width:0}#permission-limit>.tab>.item:last-child.action[data-v-a88309d6]:before{right:0;left:auto}#permission-limit .page-two>.search[data-v-a88309d6],#permission-limit>.page-one>.search[data-v-a88309d6]{background-color:#fff;padding:10px 15px}#permission-limit .page-two>.tree-view-content[data-v-a88309d6],#permission-limit>.page-one>.tree-view-content[data-v-a88309d6]{margin-top:10px}#permission-limit .page-two>.tree-view-content>.no-data[data-v-a88309d6],#permission-limit>.page-one>.tree-view-content>.no-data[data-v-a88309d6]{color:#999;font-size:12px;line-height:20px;text-align:center;margin-top:50px;padding:0 20px}#permission-limit>.page-one[data-v-a88309d6]{padding-bottom:10px}#permission-limit>.function-menu[data-v-a88309d6]{margin-top:60px;text-align:center}#permission-limit>.function-menu>p[data-v-a88309d6]{padding:30px 15px;line-height:18px;font-size:14px;color:#999;text-align:center}#permission-limit>.function-menu>a[data-v-a88309d6]{margin-top:20px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 177:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('div', {\n    attrs: {\n      \"id\": \"permission-limit\"\n    }\n  }, [_c('div', {\n    staticClass: \"ui ui-title\"\n  }, [_vm._v(\"菜单权限：\" + _vm._s(_vm.data.titleName))]), _vm._v(\" \"), (_vm.config.tabShow) ? _c('div', {\n    staticClass: \"tab\"\n  }, [_c('v-touch', {\n    staticClass: \"item\",\n    class: _vm.config.tabIndex === 1 ? 'action' : '',\n    attrs: {\n      \"tag\": \"div\"\n    },\n    on: {\n      \"tap\": function($event) {\n        $event.preventDefault();\n        _vm.switchTab(1)\n      },\n      \"pressup\": function($event) {\n        $event.preventDefault();\n        _vm.switchTab(1)\n      }\n    }\n  }, [_vm._v(\"按公司\")]), _vm._v(\" \"), _c('v-touch', {\n    staticClass: \"item\",\n    class: _vm.config.tabIndex === 2 ? 'action' : '',\n    attrs: {\n      \"tag\": \"div\"\n    },\n    on: {\n      \"tap\": function($event) {\n        $event.preventDefault();\n        _vm.switchTab(2)\n      },\n      \"pressup\": function($event) {\n        $event.preventDefault();\n        _vm.switchTab(2)\n      }\n    }\n  }, [_vm._v(\"按门市\")])], 1) : _vm._e(), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.config.tabIndex === 1),\n      expression: \"config.tabIndex===1\"\n    }],\n    staticClass: \"page-one\"\n  }, [_c('div', {\n    staticClass: \"search\"\n  }, [_c('search-box', {\n    attrs: {\n      \"searchVal\": _vm.config.pageOne.searchBox.searchVal,\n      \"placeholder\": _vm.config.pageOne.searchBox.placeholder,\n      \"suggest\": _vm.config.pageOne.searchBox.suggest\n    },\n    on: {\n      \"searchClick\": _vm.pageOneClickDeal,\n      \"searchValChange\": _vm.pageOneValChangeDeal,\n      \"itemClick\": _vm.pageOneItemClickDeal\n    }\n  })], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"tree-view-content\"\n  }, [(_vm.data.pageOne.treeView.length == 0) ? _c('div', {\n    staticClass: \"no-data\"\n  }, [_vm._v(\"暂无数据\")]) : _vm._e(), _vm._v(\" \"), _c('tree-view', {\n    attrs: {\n      \"dataArr\": _vm.data.pageOne.treeView,\n      \"setConfig\": _vm.config.pageOne.treeView\n    },\n    on: {\n      \"dataArrChange\": _vm.pageOneTreeDataChangeDeal,\n      \"treeMgmt\": _vm.pageOneTreeMgmt\n    }\n  })], 1)]), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.config.tabIndex === 2),\n      expression: \"config.tabIndex===2\"\n    }],\n    staticClass: \"page-two\"\n  }, [_c('div', {\n    staticClass: \"search\"\n  }, [_c('search-box', {\n    attrs: {\n      \"searchVal\": _vm.config.pageTwo.searchBox.searchVal,\n      \"placeholder\": _vm.config.pageTwo.searchBox.placeholder\n    },\n    on: {\n      \"searchClick\": _vm.pageTwoClickDeal,\n      \"searchValChange\": _vm.pageTwoValChangeDeal\n    }\n  })], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"tree-view-content\"\n  }, [(_vm.data.pageTwo.treeView.length == 0) ? _c('div', {\n    staticClass: \"no-data\"\n  }, [_vm._v(\"暂无数据\")]) : _vm._e(), _vm._v(\" \"), _c('tree-view', {\n    attrs: {\n      \"dataArr\": _vm.data.pageTwo.treeView,\n      \"setConfig\": _vm.config.pageTwo.treeView\n    },\n    on: {\n      \"dataArrChange\": _vm.pageTwoTreeDataChangeDeal,\n      \"treeMgmt\": _vm.pageTwoTreeMgmt\n    }\n  }), _vm._v(\" \"), (_vm.data.pageTwo.treeView.length > 0) ? _c('div', {\n    staticClass: \"ui ui-scrollRefresh\"\n  }, [(!_vm.config.pageTwo.isLoadAll) ? [_c('i', {\n    staticClass: \"iconfont icon-load\"\n  }), _c('span', [_vm._v(\"加载中\")])] : _vm._e(), _vm._v(\" \"), (_vm.config.pageTwo.isLoadAll) ? [_c('span', [_vm._v(\"没有更多了\")])] : _vm._e()], 2) : _vm._e()], 1)]), _vm._v(\" \"), (_vm.config.showFunctionMenu) ? _c('div', {\n    staticClass: \"function-menu\"\n  }, [_c('p', [_vm._v(\"该菜单为功能菜单，无需选择范围\")]), _vm._v(\" \"), _c('v-touch', {\n    staticClass: \"ui ui-button\",\n    attrs: {\n      \"tag\": \"a\"\n    },\n    on: {\n      \"pressup\": function($event) {\n        $event.preventDefault();\n        _vm.clickFunctionMenu($event)\n      },\n      \"tap\": function($event) {\n        $event.preventDefault();\n        _vm.clickFunctionMenu($event)\n      }\n    }\n  }, [_vm._v(\"继续\")])], 1) : _vm._e()])])\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 208:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(144);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(2)(\"3d5fc5fc\", content, true);\n\n/***/ }),\n\n/***/ 74:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(208)\n}\nvar Component = __webpack_require__(1)(\n  /* script */\n  __webpack_require__(105),\n  /* template */\n  __webpack_require__(177),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-a88309d6\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// js/14.build.js?42363b00","<!-- 权限管理-按权限-管理范围选择 -->\r\n<template>\r\n    <div>\r\n    <div id=\"permission-limit\">\r\n        <div class=\"ui ui-title\">菜单权限：{{data.titleName}}</div>\r\n        <div class=\"tab\" v-if=\"config.tabShow\">\r\n            <v-touch tag=\"div\" class=\"item\" :class=\"config.tabIndex===1?'action':''\" @tap.prevent=\"switchTab(1)\" @pressup.prevent=\"switchTab(1)\">按公司</v-touch>\r\n            <v-touch tag=\"div\" class=\"item\" :class=\"config.tabIndex===2?'action':''\" @tap.prevent=\"switchTab(2)\" @pressup.prevent=\"switchTab(2)\">按门市</v-touch>\r\n        </div>\r\n        <!-- 按公司 -->\r\n        <div v-show=\"config.tabIndex===1\" class=\"page-one\">\r\n            <div class=\"search\">\r\n                <search-box :searchVal=\"config.pageOne.searchBox.searchVal\" :placeholder=\"config.pageOne.searchBox.placeholder\" :suggest=\"config.pageOne.searchBox.suggest\" @searchClick=\"pageOneClickDeal\" @searchValChange=\"pageOneValChangeDeal\" @itemClick=\"pageOneItemClickDeal\"></search-box>\r\n            </div>\r\n            <div class=\"tree-view-content\">\r\n                <div v-if=\"data.pageOne.treeView.length==0\" class=\"no-data\">暂无数据</div>\r\n                <tree-view :dataArr=\"data.pageOne.treeView\" :setConfig=\"config.pageOne.treeView\" @dataArrChange=\"pageOneTreeDataChangeDeal\" @treeMgmt=\"pageOneTreeMgmt\"></tree-view>\r\n            </div>\r\n        </div>\r\n        <!-- 按门市 -->\r\n        <div v-show=\"config.tabIndex===2\" class=\"page-two\">\r\n            <div class=\"search\">\r\n                <search-box :searchVal=\"config.pageTwo.searchBox.searchVal\" :placeholder=\"config.pageTwo.searchBox.placeholder\" @searchClick=\"pageTwoClickDeal\" @searchValChange=\"pageTwoValChangeDeal\"></search-box>\r\n            </div>\r\n            <div class=\"tree-view-content\">\r\n                <div v-if=\"data.pageTwo.treeView.length==0\" class=\"no-data\">暂无数据</div>\r\n                <tree-view :dataArr=\"data.pageTwo.treeView\" :setConfig=\"config.pageTwo.treeView\" @dataArrChange=\"pageTwoTreeDataChangeDeal\" @treeMgmt=\"pageTwoTreeMgmt\"></tree-view>\r\n                <div v-if=\"data.pageTwo.treeView.length>0\" class=\"ui ui-scrollRefresh\">\r\n                    <template v-if=\"!config.pageTwo.isLoadAll\">\r\n                        <i class=\"iconfont icon-load\"></i><span>加载中</span>\r\n                    </template>\r\n                    <template v-if=\"config.pageTwo.isLoadAll\">\r\n                        <span>没有更多了</span>\r\n                    </template>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <!-- 功能菜单 -->\r\n        <div class=\"function-menu\" v-if=\"config.showFunctionMenu\">\r\n            <p>该菜单为功能菜单，无需选择范围</p>\r\n            <v-touch tag=\"a\" class=\"ui ui-button\" @pressup.prevent=\"clickFunctionMenu\" @tap.prevent=\"clickFunctionMenu\">继续</v-touch>\r\n        </div>\r\n    </div>\r\n</div>\r\n</template>\r\n\r\n<script scoped>\r\n    var initData = function () {\r\n        return {\r\n            data: {\r\n                titleName: '',\r\n                pageOne: {\r\n                    treeView: []\r\n                },\r\n                pageTwo: {\r\n                    treeView: []\r\n                }\r\n            },\r\n            config: {\r\n                showFunctionMenu: false, // 是否显示功能菜单提示框\r\n                tabIndex: 0, // 1-按公司，2-按门市\r\n                tabShow: false, // 是否显示tab\r\n                pageOne: {\r\n                    searchBox: {\r\n                        searchVal: '',\r\n                        placeholder: '公司名称',\r\n                        suggest: {\r\n                            isShow: 1,\r\n                            data: [],\r\n                        }\r\n                    },\r\n                    treeView: {\r\n                        isShow: 1,\r\n                        isShowIcon: 1,\r\n                        keyConfig: {\r\n                            name: 'Branch_Name',\r\n                            id: 'Branch_ID',\r\n                            childKey: 'ChildList'\r\n                        },\r\n                        btn: [{\r\n                            iconFontClass: 'icon-manager',\r\n                            color: '#E5B626',\r\n                            handle: 'treeMgmt'\r\n                        }],\r\n                        locationConfig: {\r\n                            key: 'id'\r\n                        }\r\n                    }\r\n                },\r\n                pageTwo: {\r\n                    pageIndex: 1,\r\n                    pageSize: 20,\r\n                    isLoadAll: false, // 是否加载所有数据\r\n                    isSendAjax: false, // 是否发起请求\r\n                    searchAjaxVal: '',\r\n                    searchBox: {\r\n                        searchVal: '',\r\n                        placeholder: '门市名称'\r\n                    },\r\n                    treeView: {\r\n                        isShow: 1,\r\n                        isShowIcon: 2,\r\n                        keyConfig: {\r\n                            name: 'Branch_Name',\r\n                            id: 'Branch_ID',\r\n                            childKey: 'ChildList'\r\n                        },\r\n                        btn: [{\r\n                            iconFontClass: 'icon-manager',\r\n                            color: '#E5B626',\r\n                            handle: 'treeMgmt'\r\n                        }],\r\n                        locationConfig: {\r\n                            key: 'id'\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    };\r\n    export default {\r\n        data() {\r\n            return new initData()\r\n        },\r\n        activated: function () {\r\n            let self = this;\r\n            Bestone.ui.pageInit({\r\n                setTitle: '管理范围选择',\r\n                reviewCallBack: function () {\r\n                    // title\r\n                    self.data.titleName = Bestone.util.query().MenuName;\r\n\r\n                    // 按门市\r\n                    function storeAjaxGet() {\r\n                        self.config.pageTwo.isSendAjax = true;\r\n                        Bestone.util.ajax({\r\n                            url: 'api/UserManage/GetStoreBranchList',\r\n                            showLoad: false,\r\n                            data: JSON.stringify({\r\n                                PageIndex: self.config.pageTwo.pageIndex,\r\n                                PageSize: self.config.pageTwo.pageSize,\r\n                                Keyword: self.config.pageTwo.searchAjaxVal\r\n                            }),\r\n                            success: function (ajaxData) {\r\n                                if(ajaxData.data.list.length<self.config.pageTwo.pageSize) {\r\n                                    self.config.pageTwo.isLoadAll = true;\r\n                                }\r\n                                self.data.pageTwo.treeView = ajaxData.data.list || [];\r\n                                Bestone.ui.hideLoadingFrame();\r\n                                // 根据获取的数据渲染页面\r\n                                if(self.data.pageOne.treeView.length>0) {\r\n                                    self.config.tabIndex = 1;\r\n                                    if(self.data.pageTwo.treeView.length>0) {\r\n                                        self.config.tabShow = true;\r\n                                    }\r\n                                }else { // 功能菜单，不需要选择范围\r\n                                    self.config.showFunctionMenu = true;\r\n                                    Bestone.util.vueJump({\r\n                                        path: '/permissionControl/permissionMgmt',\r\n                                        query: {\r\n                                            MenuName: Bestone.util.query().MenuName,\r\n                                            MenuCode: Bestone.util.query().MenuCode\r\n                                        }\r\n                                    });\r\n                                }\r\n                            },\r\n                            complete: function () {\r\n                                self.config.pageTwo.isSendAjax = false;\r\n                            }\r\n                        });\r\n                    }\r\n\r\n                    // 按公司\r\n                    Bestone.ui.loadingFrame();\r\n                    Bestone.util.ajax({\r\n                        url: 'api/UserManage/GetCompanyBranchList',\r\n                        showLoad: false,\r\n                        data: JSON.stringify({}),\r\n                        success: function (ajaxData) {\r\n                            self.config.pageOne.searchBox.suggest.data = Bestone.util.getTreeViewDataForSearch({\r\n                                data: ajaxData.data || [],\r\n                                name: 'Branch_Name',\r\n                                id: 'Branch_ID',\r\n                                childKey: 'ChildList'\r\n                            });\r\n                            self.data.pageOne.treeView = ajaxData.data || [];\r\n                            storeAjaxGet();\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n\r\n            // 门市数据滚动加载\r\n            Bestone.util.scrollRefresh({\r\n                callback: function (height) {\r\n                    if(self.config.tabIndex===2 && !self.config.pageTwo.isSendAjax && !self.config.pageTwo.isLoadAll) {\r\n                        self.config.pageTwo.isSendAjax = true;\r\n                        Bestone.util.ajax({\r\n                            url: 'api/UserManage/GetStoreBranchList',\r\n                            showLoad: false,\r\n                            data: JSON.stringify({\r\n                                PageIndex: self.config.pageTwo.pageIndex + 1,\r\n                                PageSize: self.config.pageTwo.pageSize,\r\n                                Keyword: self.config.pageTwo.searchAjaxVal\r\n                            }),\r\n                            success: function (ajaxData) {\r\n                                if(ajaxData.data.list.length<self.config.pageTwo.pageSize) {\r\n                                    self.config.pageTwo.isLoadAll = true;\r\n                                }\r\n                                self.config.pageTwo.pageIndex = ajaxData.data.page; // 更新pageIndex\r\n                                self.data.pageTwo.treeView.push(...ajaxData.data.list); // 更新树形数组\r\n                            },\r\n                            complete: function () {\r\n                                self.config.pageTwo.isSendAjax = false;\r\n                            }\r\n                        });\r\n                    }\r\n                }\r\n            })\r\n        },\r\n        deactivated: function () {\r\n            var self = this;\r\n            // 回退时清除数据\r\n            Bestone.util.resetData(function () {\r\n                self.data = initData().data;\r\n                self.config = initData().config;\r\n            });\r\n        },\r\n        methods: {\r\n            // 切换tab\r\n            switchTab: function (id) {\r\n                this.config.tabIndex = id;\r\n            },\r\n            // 功能菜单情况点击跳转\r\n            clickFunctionMenu: function () {\r\n                Bestone.util.vueJump({\r\n                    path: '/permissionControl/permissionMgmt',\r\n                    query: {\r\n                        MenuName: Bestone.util.query().MenuName,\r\n                        MenuCode: Bestone.util.query().MenuCode\r\n                    }\r\n                });\r\n            },\r\n            /***************************************  按公司  ***************************************/\r\n            // 搜索点击\r\n            pageOneClickDeal: function (str) {\r\n                console.log(str)\r\n            },\r\n            // 输入框值改变\r\n            pageOneValChangeDeal: function (str) {\r\n                this.config.pageOne.searchBox.searchVal = str; // 必须，用于父子组件数据双向绑定\r\n            },\r\n            // 搜索下拉框点击\r\n            pageOneItemClickDeal: function (item) {\r\n                let val = item.id;\r\n                if(!!val) {\r\n                    let $loca = $('.page-one .ui.tree-view .loca' + val);\r\n                    $('.page-one .ui.tree-view .item').css('background-color', 'transparent');\r\n                    if ($loca.length > 0) {\r\n                        setTimeout(function () {\r\n                            $loca.css('background-color', '#FFFBE6');\r\n                            $(window).scrollTop($loca.offset().top-5);\r\n                        },100);\r\n                    }\r\n                }\r\n            },\r\n            // 树形组件数据更改\r\n            pageOneTreeDataChangeDeal: function (arr) {\r\n                this.data.pageOne.treeView = arr; // 必须，用于父子组件数据双向绑定\r\n                console.log(arr)\r\n            },\r\n            // 点击树形管理\r\n            pageOneTreeMgmt: function (item) {\r\n                Bestone.util.vueJump({\r\n                    path: '/permissionControl/permissionMgmt',\r\n                    query: {\r\n                        MenuName: Bestone.util.query().MenuName,\r\n                        MenuCode: Bestone.util.query().MenuCode,\r\n                        Branch_ID: item.Branch_ID,\r\n                        Branch_Name: item.Branch_Name\r\n                    }\r\n                });\r\n            },\r\n            /************************************  按门市  ***************************************/\r\n            // 搜索点击\r\n            pageTwoClickDeal: function (str) {\r\n                let self = this;\r\n                self.config.pageTwo.isSendAjax = true;\r\n                Bestone.util.ajax({\r\n                    url: 'api/UserManage/GetStoreBranchList',\r\n                    data: JSON.stringify({\r\n                        PageIndex: 1,\r\n                        PageSize: self.config.pageTwo.pageSize,\r\n                        Keyword: str\r\n                    }),\r\n                    success: function (ajaxData) {\r\n                        self.config.pageTwo.searchAjaxVal = str;\r\n                        self.config.pageTwo.pageIndex = 1;\r\n                        if(ajaxData.data.list.length<self.config.pageTwo.pageSize) {\r\n                            self.config.pageTwo.isLoadAll = true;\r\n                        }else {\r\n                            self.config.pageTwo.isLoadAll = false;\r\n                        }\r\n                        self.data.pageTwo.treeView = ajaxData.data.list || [];\r\n                    },\r\n                    complete: function () {\r\n                        self.config.pageTwo.isSendAjax = false;\r\n                    }\r\n                });\r\n            },\r\n            // 输入框值改变\r\n            pageTwoValChangeDeal: function (str) {\r\n                this.config.pageTwo.searchBox.searchVal = str; // 必须，用于父子组件数据双向绑定\r\n            },\r\n            // 树形组件数据更改\r\n            pageTwoTreeDataChangeDeal: function (arr) {\r\n                this.data.pageTwo.treeView = arr; // 必须，用于父子组件数据双向绑定\r\n            },\r\n            // 点击树形管理\r\n            pageTwoTreeMgmt: function (item) {\r\n                Bestone.util.vueJump({\r\n                    path: '/permissionControl/permissionMgmt',\r\n                    query: {\r\n                        MenuName: Bestone.util.query().MenuName,\r\n                        MenuCode: Bestone.util.query().MenuCode,\r\n                        Branch_ID: item.Branch_ID,\r\n                        Branch_Name: item.Branch_Name\r\n                    }\r\n                });\r\n            },\r\n        }\r\n    }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n    #permission-limit {\r\n        padding-top: 10px;\r\n        & > .tab {\r\n            background-color: #fff;\r\n            height: 40px;\r\n            overflow: hidden;\r\n            border-bottom: solid 1px #eee;\r\n            margin-bottom: 10px;\r\n            & > .item {\r\n                position: relative;\r\n                width: 50%;\r\n                height: 40px;\r\n                float: left;\r\n                line-height: 40px;\r\n                font-size: 14px;\r\n                color: #666666;\r\n                text-align: center;\r\n                cursor: pointer;\r\n                user-select: none;\r\n                &::after {\r\n                    content: '';\r\n                    position: absolute;\r\n                    width: 1px;\r\n                    height: 26px;\r\n                    background-color: #eee;\r\n                    top: 7px;\r\n                    right: 0px;\r\n                }\r\n                &.action {\r\n                    color: #38ADFF;\r\n                    &::before {\r\n                        content: '';\r\n                        position: absolute;\r\n                        width: 99%;\r\n                        height: 1px;\r\n                        background-color: #38ADFF;\r\n                        top: 0px;\r\n                        left: 0px;\r\n                    }\r\n                }\r\n                &:last-child {\r\n                    float: right;\r\n                    &::after {\r\n                        width: 0px;\r\n                    }\r\n                    &.action {\r\n                        &::before {\r\n                            right: 0px;\r\n                            left: auto;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        & > .page-one,.page-two {\r\n            & > .search {\r\n                background-color: #fff;\r\n                padding: 10px 15px;\r\n            }\r\n            & > .tree-view-content {\r\n                margin-top: 10px;\r\n                & > .no-data {\r\n                    color: #999;\r\n                    font-size: 12px;\r\n                    line-height: 20px;\r\n                    text-align: center;\r\n                    margin-top: 50px;\r\n                    padding: 0px 20px;\r\n                }\r\n            }\r\n        }\r\n        &>.page-one {\r\n            padding-bottom: 10px;\r\n        }\r\n        &>.function-menu {\r\n            margin-top: 60px;\r\n            text-align: center;\r\n            &>p {\r\n                padding: 30px 15px;\r\n                line-height: 18px;\r\n                font-size: 14px;\r\n                color: #999;\r\n                text-align: center;\r\n            }\r\n            &>a {\r\n                margin-top: 20px;\r\n            }\r\n        }\r\n    }\r\n</style>\n\n\n// WEBPACK FOOTER //\n// permissionLimit.vue?9bd8de3a","exports = module.exports = require(\"../../../node_modules/_css-loader@0.28.7@css-loader/lib/css-base.js\")(undefined);\n// imports\n\n\n// module\nexports.push([module.id, \"#permission-limit[data-v-a88309d6]{padding-top:10px}#permission-limit>.tab[data-v-a88309d6]{background-color:#fff;height:40px;overflow:hidden;border-bottom:1px solid #eee;margin-bottom:10px}#permission-limit>.tab>.item[data-v-a88309d6]{position:relative;width:50%;height:40px;float:left;line-height:40px;font-size:14px;color:#666;text-align:center;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}#permission-limit>.tab>.item[data-v-a88309d6]:after{content:\\\"\\\";position:absolute;width:1px;height:26px;background-color:#eee;top:7px;right:0}#permission-limit>.tab>.item.action[data-v-a88309d6]{color:#38adff}#permission-limit>.tab>.item.action[data-v-a88309d6]:before{content:\\\"\\\";position:absolute;width:99%;height:1px;background-color:#38adff;top:0;left:0}#permission-limit>.tab>.item[data-v-a88309d6]:last-child{float:right}#permission-limit>.tab>.item[data-v-a88309d6]:last-child:after{width:0}#permission-limit>.tab>.item:last-child.action[data-v-a88309d6]:before{right:0;left:auto}#permission-limit .page-two>.search[data-v-a88309d6],#permission-limit>.page-one>.search[data-v-a88309d6]{background-color:#fff;padding:10px 15px}#permission-limit .page-two>.tree-view-content[data-v-a88309d6],#permission-limit>.page-one>.tree-view-content[data-v-a88309d6]{margin-top:10px}#permission-limit .page-two>.tree-view-content>.no-data[data-v-a88309d6],#permission-limit>.page-one>.tree-view-content>.no-data[data-v-a88309d6]{color:#999;font-size:12px;line-height:20px;text-align:center;margin-top:50px;padding:0 20px}#permission-limit>.page-one[data-v-a88309d6]{padding-bottom:10px}#permission-limit>.function-menu[data-v-a88309d6]{margin-top:60px;text-align:center}#permission-limit>.function-menu>p[data-v-a88309d6]{padding:30px 15px;line-height:18px;font-size:14px;color:#999;text-align:center}#permission-limit>.function-menu>a[data-v-a88309d6]{margin-top:20px}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_css-loader@0.28.7@css-loader?minimize!./~/_vue-loader@12.2.2@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-a88309d6\",\"scoped\":true,\"hasInlineConfig\":true}!./~/_sass-loader@6.0.6@sass-loader/lib/loader.js!./~/_vue-loader@12.2.2@vue-loader/lib/selector.js?type=styles&index=0!./src/component/permissionControl/permissionLimit.vue\n// module id = 144\n// module chunks = 14","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('div', {\n    attrs: {\n      \"id\": \"permission-limit\"\n    }\n  }, [_c('div', {\n    staticClass: \"ui ui-title\"\n  }, [_vm._v(\"菜单权限：\" + _vm._s(_vm.data.titleName))]), _vm._v(\" \"), (_vm.config.tabShow) ? _c('div', {\n    staticClass: \"tab\"\n  }, [_c('v-touch', {\n    staticClass: \"item\",\n    class: _vm.config.tabIndex === 1 ? 'action' : '',\n    attrs: {\n      \"tag\": \"div\"\n    },\n    on: {\n      \"tap\": function($event) {\n        $event.preventDefault();\n        _vm.switchTab(1)\n      },\n      \"pressup\": function($event) {\n        $event.preventDefault();\n        _vm.switchTab(1)\n      }\n    }\n  }, [_vm._v(\"按公司\")]), _vm._v(\" \"), _c('v-touch', {\n    staticClass: \"item\",\n    class: _vm.config.tabIndex === 2 ? 'action' : '',\n    attrs: {\n      \"tag\": \"div\"\n    },\n    on: {\n      \"tap\": function($event) {\n        $event.preventDefault();\n        _vm.switchTab(2)\n      },\n      \"pressup\": function($event) {\n        $event.preventDefault();\n        _vm.switchTab(2)\n      }\n    }\n  }, [_vm._v(\"按门市\")])], 1) : _vm._e(), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.config.tabIndex === 1),\n      expression: \"config.tabIndex===1\"\n    }],\n    staticClass: \"page-one\"\n  }, [_c('div', {\n    staticClass: \"search\"\n  }, [_c('search-box', {\n    attrs: {\n      \"searchVal\": _vm.config.pageOne.searchBox.searchVal,\n      \"placeholder\": _vm.config.pageOne.searchBox.placeholder,\n      \"suggest\": _vm.config.pageOne.searchBox.suggest\n    },\n    on: {\n      \"searchClick\": _vm.pageOneClickDeal,\n      \"searchValChange\": _vm.pageOneValChangeDeal,\n      \"itemClick\": _vm.pageOneItemClickDeal\n    }\n  })], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"tree-view-content\"\n  }, [(_vm.data.pageOne.treeView.length == 0) ? _c('div', {\n    staticClass: \"no-data\"\n  }, [_vm._v(\"暂无数据\")]) : _vm._e(), _vm._v(\" \"), _c('tree-view', {\n    attrs: {\n      \"dataArr\": _vm.data.pageOne.treeView,\n      \"setConfig\": _vm.config.pageOne.treeView\n    },\n    on: {\n      \"dataArrChange\": _vm.pageOneTreeDataChangeDeal,\n      \"treeMgmt\": _vm.pageOneTreeMgmt\n    }\n  })], 1)]), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.config.tabIndex === 2),\n      expression: \"config.tabIndex===2\"\n    }],\n    staticClass: \"page-two\"\n  }, [_c('div', {\n    staticClass: \"search\"\n  }, [_c('search-box', {\n    attrs: {\n      \"searchVal\": _vm.config.pageTwo.searchBox.searchVal,\n      \"placeholder\": _vm.config.pageTwo.searchBox.placeholder\n    },\n    on: {\n      \"searchClick\": _vm.pageTwoClickDeal,\n      \"searchValChange\": _vm.pageTwoValChangeDeal\n    }\n  })], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"tree-view-content\"\n  }, [(_vm.data.pageTwo.treeView.length == 0) ? _c('div', {\n    staticClass: \"no-data\"\n  }, [_vm._v(\"暂无数据\")]) : _vm._e(), _vm._v(\" \"), _c('tree-view', {\n    attrs: {\n      \"dataArr\": _vm.data.pageTwo.treeView,\n      \"setConfig\": _vm.config.pageTwo.treeView\n    },\n    on: {\n      \"dataArrChange\": _vm.pageTwoTreeDataChangeDeal,\n      \"treeMgmt\": _vm.pageTwoTreeMgmt\n    }\n  }), _vm._v(\" \"), (_vm.data.pageTwo.treeView.length > 0) ? _c('div', {\n    staticClass: \"ui ui-scrollRefresh\"\n  }, [(!_vm.config.pageTwo.isLoadAll) ? [_c('i', {\n    staticClass: \"iconfont icon-load\"\n  }), _c('span', [_vm._v(\"加载中\")])] : _vm._e(), _vm._v(\" \"), (_vm.config.pageTwo.isLoadAll) ? [_c('span', [_vm._v(\"没有更多了\")])] : _vm._e()], 2) : _vm._e()], 1)]), _vm._v(\" \"), (_vm.config.showFunctionMenu) ? _c('div', {\n    staticClass: \"function-menu\"\n  }, [_c('p', [_vm._v(\"该菜单为功能菜单，无需选择范围\")]), _vm._v(\" \"), _c('v-touch', {\n    staticClass: \"ui ui-button\",\n    attrs: {\n      \"tag\": \"a\"\n    },\n    on: {\n      \"pressup\": function($event) {\n        $event.preventDefault();\n        _vm.clickFunctionMenu($event)\n      },\n      \"tap\": function($event) {\n        $event.preventDefault();\n        _vm.clickFunctionMenu($event)\n      }\n    }\n  }, [_vm._v(\"继续\")])], 1) : _vm._e()])])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-loader@12.2.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-a88309d6\",\"hasScoped\":true}!./~/_vue-loader@12.2.2@vue-loader/lib/selector.js?type=template&index=0!./src/component/permissionControl/permissionLimit.vue\n// module id = 177\n// module chunks = 14","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/_css-loader@0.28.7@css-loader/index.js?minimize!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-a88309d6\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":true}!../../../node_modules/_sass-loader@6.0.6@sass-loader/lib/loader.js!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/selector.js?type=styles&index=0!./permissionLimit.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/_vue-style-loader@3.0.1@vue-style-loader/lib/addStylesClient.js\")(\"3d5fc5fc\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-style-loader@3.0.1@vue-style-loader!./~/_css-loader@0.28.7@css-loader?minimize!./~/_vue-loader@12.2.2@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-a88309d6\",\"scoped\":true,\"hasInlineConfig\":true}!./~/_sass-loader@6.0.6@sass-loader/lib/loader.js!./~/_vue-loader@12.2.2@vue-loader/lib/selector.js?type=styles&index=0!./src/component/permissionControl/permissionLimit.vue\n// module id = 208\n// module chunks = 14","function injectStyle (ssrContext) {\n  require(\"!!vue-loader/node_modules/vue-style-loader!css-loader?minimize!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-a88309d6\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":true}!sass-loader!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/selector?type=styles&index=0!./permissionLimit.vue\")\n}\nvar Component = require(\"!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/selector?type=script&index=0!./permissionLimit.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-a88309d6\\\",\\\"hasScoped\\\":true}!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/selector?type=template&index=0!./permissionLimit.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-a88309d6\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/component/permissionControl/permissionLimit.vue\n// module id = 74\n// module chunks = 14"],"sourceRoot":""}