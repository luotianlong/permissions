{"version":3,"sources":["webpack:///js/10.build.js","webpack:///configPermissionAudit.vue","webpack:///./src/component/permissionMgmtConfig/configPermissionAudit.vue?93d0","webpack:///./src/component/permissionMgmtConfig/configPermissionAudit.vue?893a","webpack:///./src/component/permissionMgmtConfig/configPermissionAudit.vue?f6d5","webpack:///./src/component/permissionMgmtConfig/configPermissionAudit.vue"],"names":["webpackJsonp","109","module","__webpack_exports__","__webpack_require__","_toConsumableArray","arr","Array","isArray","i","arr2","length","from","Object","defineProperty","value","initData","data","configCompany","treeView","configMenu","config","userID","userName","userUserName","userBranchName","tabIndex","modalBox","isShow","content","btn","text","handel","searchBox","searchVal","placeholder","suggest","isShowIcon","showChoice","keyConfig","name","id","childKey","locationConfig","key","activated","self","this","Bestone","ui","pageInit","setTitle","reviewCallBack","util","query","UserID","UserName","UserUserName","UserBranchName","ajax","url","JSON","stringify","success","ajaxData","getData","$","each","k","v","push","apply","ChildList","getTreeViewDataForSearch","Keyword","ddSetRight","control","show","onSuccess","submitConfig","deactivated","resetData","methods","switchTab","branchIds","recursive","frontActive","Branch_ID","message","roleIds","Id","confirmClickDeal","substring","UserId","CheckLevel","BranchIds","RoleIds","OperId","user","OperName","notOper","setTimeout","window","app","$router","go","cancelClickDeal","configCompanyClickDeal","str","configCompanyValChangeDeal","configCompanyItemClickDeal","item","val","$loca","css","scrollTop","offset","top","configCompanyTreeDataChangeDeal","console","log","configCompanyTreeMgmt","vueJump","path","configMenuClickDeal","configMenuValChangeDeal","configMenuItemClickDeal","configMenuTreeDataChangeDeal","configMenuTreeMgmt","126","exports","undefined","159","render","_vm","_h","$createElement","_c","_self","attrs","staticClass","_v","_s","on","searchClick","searchValChange","itemClick","dataArr","setConfig","dataArrChange","treeMgmt","_e","class","tag","tap","$event","preventDefault","pressup","directives","rawName","expression","confirmClick","cancelClick","staticRenderFns","190","locals","78","injectStyle","ssrContext","Component"],"mappings":"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","file":"js/10.build.js?097ab7f6","sourcesContent":["webpackJsonp([10],{\n\n/***/ 109:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nvar initData = function initData() {\n    return {\n        data: {\n            configCompany: {\n                treeView: []\n            },\n            configMenu: {\n                treeView: []\n            }\n        },\n        config: {\n            userID: 0,\n            userName: '',\n            userUserName: '',\n            userBranchName: '',\n            tabIndex: 1, // 1-1级，2-2级\n            modalBox: {\n                isShow: false,\n                content: '',\n                btn: [{\n                    text: '确定',\n                    handel: 'confirmClick'\n                }, {\n                    text: '取消',\n                    handel: 'cancelClick'\n                }]\n            },\n            configCompany: {\n                searchBox: {\n                    searchVal: '',\n                    placeholder: '公司名称搜索',\n                    suggest: {\n                        isShow: 1,\n                        data: []\n                    }\n                },\n                treeView: {\n                    isShow: 1,\n                    isShowIcon: 2,\n                    showChoice: true,\n                    keyConfig: {\n                        name: 'Branch_Name',\n                        id: 'Branch_ID',\n                        childKey: 'ChildList'\n                    },\n                    locationConfig: {\n                        key: 'id'\n                    }\n                }\n            },\n            configMenu: {\n                searchBox: {\n                    searchVal: '',\n                    placeholder: '搜索部门权限',\n                    suggest: {\n                        isShow: 1,\n                        data: []\n                    }\n                },\n                treeView: {\n                    isShow: 1,\n                    isShowIcon: 2,\n                    showChoice: true,\n                    keyConfig: {\n                        name: 'RoleName',\n                        id: 'Id',\n                        childKey: 'ChildList'\n                    },\n                    locationConfig: {\n                        key: 'id'\n                    }\n                }\n            }\n        }\n    };\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    data: function data() {\n        return new initData();\n    },\n\n    activated: function activated() {\n        var self = this;\n        Bestone.ui.pageInit({\n            setTitle: '配置权限审核',\n            reviewCallBack: function reviewCallBack() {\n                self.config.userID = Bestone.util.query().UserID || 0;\n                self.config.userName = Bestone.util.query().UserName || '';\n                self.config.userUserName = Bestone.util.query().UserUserName || '';\n                self.config.userBranchName = Bestone.util.query().UserBranchName || '';\n                // 配置审核公司\n                Bestone.util.ajax({\n                    url: 'api/UserManage/GetCompanyBranchList',\n                    data: JSON.stringify({}),\n                    success: function success(ajaxData) {\n                        // 去掉第一级集团\n                        var getData = [];\n                        $.each(ajaxData.data, function (k, v) {\n                            getData.push.apply(getData, _toConsumableArray(v.ChildList));\n                        });\n                        self.config.configCompany.searchBox.suggest.data = Bestone.util.getTreeViewDataForSearch({\n                            data: getData || [],\n                            name: 'Branch_Name',\n                            id: 'Branch_ID',\n                            childKey: 'ChildList'\n                        });\n                        self.data.configCompany.treeView = getData || [];\n                    }\n                });\n                // 配置审核菜单\n                Bestone.util.ajax({\n                    url: 'api/AuthManage/GetRolesByKeyword',\n                    data: JSON.stringify({\n                        Keyword: ''\n                    }),\n                    success: function success(ajaxData) {\n                        self.config.configMenu.searchBox.suggest.data = Bestone.util.getTreeViewDataForSearch({\n                            data: ajaxData.data || [],\n                            name: 'RoleName',\n                            id: 'Id',\n                            childKey: 'ChildList'\n                        });\n                        self.data.configMenu.treeView = ajaxData.data || [];\n                    }\n                });\n            }\n        });\n\n        Bestone.ui.ddSetRight({\n            control: true,\n            text: '提交',\n            show: true,\n            onSuccess: function onSuccess() {\n                self.submitConfig();\n            }\n        });\n    },\n    deactivated: function deactivated() {\n        var self = this;\n        // 回退时清除数据\n        Bestone.util.resetData(function () {\n            self.data = initData().data;\n            self.config = initData().config;\n        });\n    },\n    methods: {\n        // 切换tab\n        switchTab: function switchTab(id) {\n            this.config.tabIndex = id;\n        },\n        // 提交配置\n        submitConfig: function submitConfig() {\n            var self = this;\n            // 选中的机构列表\n            var branchIds = '';\n            if (self.config.tabIndex === 1) {\n                // 如果是一级审核\n                var recursive = function recursive(arr) {\n                    $.each(arr, function (k, v) {\n                        if (!!v.frontActive && v.frontActive === 1) {\n                            branchIds = branchIds + v.Branch_ID + ',';\n                        }\n                        if (!!v.ChildList && v.ChildList.length > 0) {\n                            // 如果有子级\n                            recursive(v.ChildList);\n                        }\n                    });\n                };\n\n                recursive(self.data.configCompany.treeView);\n\n                if (branchIds.length <= 0) {\n                    Bestone.ui.message({\n                        content: '请至少选择一家分公司'\n                    });\n                    return;\n                }\n            }\n            // 选中的权限部门列表\n            var roleIds = '';\n            $.each(self.data.configMenu.treeView, function (k, v) {\n                if (!!v.frontActive && v.frontActive === 1) {\n                    roleIds = roleIds + v.Id + ',';\n                }\n            });\n            if (roleIds.length <= 0) {\n                Bestone.ui.message({\n                    content: '请至少选择一个部门'\n                });\n                return;\n            }\n\n            self.config.modalBox.content = '<p style=\"font-size: 14px;text-align: center;padding: 20px 0px;line-height: 16px;\">确定提交？</p>';\n            self.config.modalBox.isShow = true;\n        },\n        // 弹出框确认\n        confirmClickDeal: function confirmClickDeal() {\n            var self = this;\n            // 选中的机构列表\n            var branchIds = '';\n            if (self.config.tabIndex === 1) {\n                // 如果是一级审核\n                var recursive = function recursive(arr) {\n                    $.each(arr, function (k, v) {\n                        if (!!v.frontActive && v.frontActive === 1) {\n                            branchIds = branchIds + v.Branch_ID + ',';\n                        }\n                        if (!!v.ChildList && v.ChildList.length > 0) {\n                            // 如果有子级\n                            recursive(v.ChildList);\n                        }\n                    });\n                };\n\n                recursive(self.data.configCompany.treeView);\n\n                if (branchIds.length <= 0) {\n                    Bestone.ui.message({\n                        content: '请至少选择一家分公司'\n                    });\n                    return;\n                }\n                branchIds = branchIds.substring(0, branchIds.length - 1); // 去掉最后一个逗号\n            }\n\n            // 选中的权限部门列表\n            var roleIds = '';\n            $.each(self.data.configMenu.treeView, function (k, v) {\n                if (!!v.frontActive && v.frontActive === 1) {\n                    roleIds = roleIds + v.Id + ',';\n                }\n            });\n            if (roleIds.length <= 0) {\n                Bestone.ui.message({\n                    content: '请至少选择一个部门'\n                });\n                return;\n            }\n            roleIds = roleIds.substring(0, roleIds.length - 1); // 去掉最后一个逗号\n\n            // 发起请求\n            Bestone.util.ajax({\n                url: 'api/AuthManage/AddUserCheck',\n                data: JSON.stringify({\n                    UserId: self.config.userID,\n                    CheckLevel: self.config.tabIndex, // 1-分公司 2-集团\n                    BranchIds: branchIds,\n                    RoleIds: roleIds,\n                    OperId: Bestone.user.id,\n                    OperName: Bestone.user.name\n                }),\n                success: function success(ajaxData) {\n                    Bestone.ui.message({\n                        content: '权限审核配置成功',\n                        notOper: true\n                    });\n                    setTimeout(function () {\n                        window.app.$router.go(-1);\n                    }, 1000);\n                }\n            });\n        },\n        // 弹出框取消\n        cancelClickDeal: function cancelClickDeal() {\n            var self = this;\n            self.config.modalBox.isShow = false;\n        },\n        /***************************************  配置审核公司  ***************************************/\n        // 搜索点击\n        configCompanyClickDeal: function configCompanyClickDeal(str) {\n            Bestone.ui.message({\n                content: '仅支持智能匹配搜索'\n            });\n        },\n        // 输入框值改变\n        configCompanyValChangeDeal: function configCompanyValChangeDeal(str) {\n            this.config.configCompany.searchBox.searchVal = str; // 必须，用于父子组件数据双向绑定\n        },\n        // 搜索下拉框点击\n        configCompanyItemClickDeal: function configCompanyItemClickDeal(item) {\n            var val = item.id;\n            if (!!val) {\n                var $loca = $('.config-company .ui.tree-view .loca' + val);\n                $('.config-company .ui.tree-view .item').css('background-color', 'transparent');\n                if ($loca.length > 0) {\n                    setTimeout(function () {\n                        $loca.css('background-color', '#FFFBE6');\n                        $(window).scrollTop($loca.offset().top - 5);\n                    }, 100);\n                }\n            }\n        },\n        // 树形组件数据更改\n        configCompanyTreeDataChangeDeal: function configCompanyTreeDataChangeDeal(arr) {\n            this.data.configCompany.treeView = arr; // 必须，用于父子组件数据双向绑定\n            console.log(arr);\n        },\n        // 点击树形管理\n        configCompanyTreeMgmt: function configCompanyTreeMgmt() {\n            Bestone.util.vueJump({\n                path: '/permissionControl/permissionMgmt'\n            });\n        },\n        /************************************  配置审核菜单  ***************************************/\n        // 搜索点击\n        configMenuClickDeal: function configMenuClickDeal(str) {\n            Bestone.ui.message({\n                content: '仅支持智能匹配搜索'\n            });\n        },\n        // 输入框值改变\n        configMenuValChangeDeal: function configMenuValChangeDeal(str) {\n            this.config.configMenu.searchBox.searchVal = str; // 必须，用于父子组件数据双向绑定\n        },\n        // 搜索下拉框点击\n        configMenuItemClickDeal: function configMenuItemClickDeal(item) {\n            var val = item.id;\n            if (!!val) {\n                var $loca = $('.config-menu .ui.tree-view .loca' + val);\n                $('.config-menu .ui.tree-view .item').css('background-color', 'transparent');\n                if ($loca.length > 0) {\n                    setTimeout(function () {\n                        $loca.css('background-color', '#FFFBE6');\n                        $(window).scrollTop($loca.offset().top - 5);\n                    }, 100);\n                }\n            }\n        },\n        // 树形组件数据更改\n        configMenuTreeDataChangeDeal: function configMenuTreeDataChangeDeal(arr) {\n            this.data.configMenu.treeView = arr; // 必须，用于父子组件数据双向绑定\n        },\n        // 点击树形管理\n        configMenuTreeMgmt: function configMenuTreeMgmt() {\n            Bestone.util.vueJump({\n                path: '/permissionControl/permissionMgmt'\n            });\n        }\n    }\n});\n\n/***/ }),\n\n/***/ 126:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(0)(undefined);\n// imports\n\n\n// module\nexports.push([module.i, \"#mgmt-limit[data-v-1cc17df3]{padding-bottom:10px}#mgmt-limit .config-menu[data-v-1cc17df3],#mgmt-limit>.config-company[data-v-1cc17df3]{margin-top:10px}#mgmt-limit .config-menu .search[data-v-1cc17df3],#mgmt-limit>.config-company .search[data-v-1cc17df3]{background-color:#fff;padding:10px 15px}#mgmt-limit .config-menu .tree-view-content[data-v-1cc17df3],#mgmt-limit>.config-company .tree-view-content[data-v-1cc17df3]{margin-top:10px}#mgmt-limit .config-menu .prompting[data-v-1cc17df3],#mgmt-limit>.config-company .prompting[data-v-1cc17df3]{color:#999;font-size:12px;line-height:20px;text-align:center;margin-top:10px;margin-bottom:20px;padding:0 20px}#mgmt-limit>.config-company>.tab[data-v-1cc17df3]{background-color:#fff;height:40px;overflow:hidden;border-bottom:1px solid #eee}#mgmt-limit>.config-company>.tab>.item[data-v-1cc17df3]{position:relative;width:50%;height:40px;float:left;line-height:40px;font-size:14px;color:#666;text-align:center;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}#mgmt-limit>.config-company>.tab>.item[data-v-1cc17df3]:after{content:\\\"\\\";position:absolute;width:1px;height:26px;background-color:#eee;top:7px;right:0}#mgmt-limit>.config-company>.tab>.item.action[data-v-1cc17df3]{color:#38adff}#mgmt-limit>.config-company>.tab>.item.action[data-v-1cc17df3]:before{content:\\\"\\\";position:absolute;width:99%;height:1px;background-color:#38adff;top:0;left:0}#mgmt-limit>.config-company>.tab>.item[data-v-1cc17df3]:last-child{float:right}#mgmt-limit>.config-company>.tab>.item[data-v-1cc17df3]:last-child:after{width:0}#mgmt-limit>.config-company>.tab>.item:last-child.action[data-v-1cc17df3]:before{right:0;left:auto}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 159:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('div', {\n    attrs: {\n      \"id\": \"mgmt-limit\"\n    }\n  }, [_c('div', {\n    staticClass: \"ui ui-text-list\"\n  }, [_c('p', [_vm._v(\"TDS账号：\" + _vm._s(_vm.config.userName))]), _vm._v(\" \"), _c('p', [_vm._v(\"姓名：\" + _vm._s(_vm.config.userUserName))]), _vm._v(\" \"), _c('p', [_vm._v(\"账号所属公司：\" + _vm._s(_vm.config.userBranchName))])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"config-menu\"\n  }, [_c('div', {\n    staticClass: \"ui ui-title\"\n  }, [_vm._v(\"配置审核菜单\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"search\"\n  }, [_c('search-box', {\n    attrs: {\n      \"searchVal\": _vm.config.configMenu.searchBox.searchVal,\n      \"placeholder\": _vm.config.configMenu.searchBox.placeholder,\n      \"suggest\": _vm.config.configMenu.searchBox.suggest\n    },\n    on: {\n      \"searchClick\": _vm.configMenuClickDeal,\n      \"searchValChange\": _vm.configMenuValChangeDeal,\n      \"itemClick\": _vm.configMenuItemClickDeal\n    }\n  })], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"tree-view-content\"\n  }, [_c('tree-view', {\n    attrs: {\n      \"dataArr\": _vm.data.configMenu.treeView,\n      \"setConfig\": _vm.config.configMenu.treeView\n    },\n    on: {\n      \"dataArrChange\": _vm.configMenuTreeDataChangeDeal,\n      \"treeMgmt\": _vm.configMenuTreeMgmt\n    }\n  })], 1), _vm._v(\" \"), (_vm.data.configMenu.treeView && _vm.data.configMenu.treeView.length <= 0) ? _c('p', {\n    staticClass: \"prompting\"\n  }, [_vm._v(\"暂无数据\")]) : _vm._e()]), _vm._v(\" \"), _c('div', {\n    staticClass: \"config-company\"\n  }, [_c('div', {\n    staticClass: \"ui ui-title\"\n  }, [_vm._v(\"配置审核公司\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"tab\"\n  }, [_c('v-touch', {\n    staticClass: \"item\",\n    class: _vm.config.tabIndex === 1 ? 'action' : '',\n    attrs: {\n      \"tag\": \"div\"\n    },\n    on: {\n      \"tap\": function($event) {\n        $event.preventDefault();\n        _vm.switchTab(1)\n      },\n      \"pressup\": function($event) {\n        $event.preventDefault();\n        _vm.switchTab(1)\n      }\n    }\n  }, [_vm._v(\"1级审核（分公司）\")]), _vm._v(\" \"), _c('v-touch', {\n    staticClass: \"item\",\n    class: _vm.config.tabIndex === 2 ? 'action' : '',\n    attrs: {\n      \"tag\": \"div\"\n    },\n    on: {\n      \"tap\": function($event) {\n        $event.preventDefault();\n        _vm.switchTab(2)\n      },\n      \"pressup\": function($event) {\n        $event.preventDefault();\n        _vm.switchTab(2)\n      }\n    }\n  }, [_vm._v(\"2级审核（集团）\")])], 1), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.config.tabIndex === 1),\n      expression: \"config.tabIndex===1\"\n    }]\n  }, [_c('div', {\n    staticClass: \"search\"\n  }, [_c('search-box', {\n    attrs: {\n      \"searchVal\": _vm.config.configCompany.searchBox.searchVal,\n      \"placeholder\": _vm.config.configCompany.searchBox.placeholder,\n      \"suggest\": _vm.config.configCompany.searchBox.suggest\n    },\n    on: {\n      \"searchClick\": _vm.configCompanyClickDeal,\n      \"searchValChange\": _vm.configCompanyValChangeDeal,\n      \"itemClick\": _vm.configCompanyItemClickDeal\n    }\n  })], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"tree-view-content\"\n  }, [_c('tree-view', {\n    attrs: {\n      \"dataArr\": _vm.data.configCompany.treeView,\n      \"setConfig\": _vm.config.configCompany.treeView\n    },\n    on: {\n      \"dataArrChange\": _vm.configCompanyTreeDataChangeDeal,\n      \"treeMgmt\": _vm.configCompanyTreeMgmt\n    }\n  })], 1), _vm._v(\" \"), (_vm.data.configCompany.treeView && _vm.data.configCompany.treeView.length <= 0) ? _c('p', {\n    staticClass: \"prompting\"\n  }, [_vm._v(\"暂无数据\")]) : _vm._e()]), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.config.tabIndex === 2),\n      expression: \"config.tabIndex===2\"\n    }]\n  }, [_c('p', {\n    staticClass: \"prompting\"\n  }, [_vm._v(\"二级审核，不需要设置具体管理公司范围\")])])]), _vm._v(\" \"), (false) ? _c('div', {\n    staticClass: \"ui ui-bottom-btn\"\n  }, [_c('v-touch', {\n    staticClass: \"btn\",\n    attrs: {\n      \"tag\": \"div\"\n    },\n    on: {\n      \"pressup\": function($event) {\n        $event.preventDefault();\n        _vm.submitConfig($event)\n      },\n      \"tap\": function($event) {\n        $event.preventDefault();\n        _vm.submitConfig($event)\n      }\n    }\n  }, [_vm._v(\"提交配置\")])], 1) : _vm._e(), _vm._v(\" \"), _c('modal-box', {\n    attrs: {\n      \"setConfig\": _vm.config.modalBox\n    },\n    on: {\n      \"confirmClick\": _vm.confirmClickDeal,\n      \"cancelClick\": _vm.cancelClickDeal\n    }\n  })], 1)])\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 190:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(126);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(2)(\"91ee5d6a\", content, true);\n\n/***/ }),\n\n/***/ 78:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(190)\n}\nvar Component = __webpack_require__(1)(\n  /* script */\n  __webpack_require__(109),\n  /* template */\n  __webpack_require__(159),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-1cc17df3\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// js/10.build.js?097ab7f6","<!-- 权限管理配置-新增权限审核配置-配置权限审核 -->\r\n<template>\r\n    <div>\r\n    <div id=\"mgmt-limit\">\r\n        <div class=\"ui ui-text-list\">\r\n            <p>TDS账号：{{config.userName}}</p>\r\n            <p>姓名：{{config.userUserName}}</p>\r\n            <p>账号所属公司：{{config.userBranchName}}</p>\r\n        </div>\r\n        <!-- 配置审核菜单 -->\r\n        <div class=\"config-menu\">\r\n            <div class=\"ui ui-title\">配置审核菜单</div>\r\n            <div class=\"search\">\r\n                <search-box :searchVal=\"config.configMenu.searchBox.searchVal\" :placeholder=\"config.configMenu.searchBox.placeholder\" :suggest=\"config.configMenu.searchBox.suggest\" @searchClick=\"configMenuClickDeal\" @searchValChange=\"configMenuValChangeDeal\" @itemClick=\"configMenuItemClickDeal\"></search-box>\r\n            </div>\r\n            <div class=\"tree-view-content\">\r\n                <tree-view :dataArr=\"data.configMenu.treeView\" :setConfig=\"config.configMenu.treeView\" @dataArrChange=\"configMenuTreeDataChangeDeal\" @treeMgmt=\"configMenuTreeMgmt\"></tree-view>\r\n            </div>\r\n            <p class=\"prompting\" v-if=\"data.configMenu.treeView && data.configMenu.treeView.length<=0\">暂无数据</p>\r\n        </div>\r\n        <!-- 配置审核公司 -->\r\n        <div class=\"config-company\">\r\n            <div class=\"ui ui-title\">配置审核公司</div>\r\n            <div class=\"tab\">\r\n                <v-touch tag=\"div\" class=\"item\" :class=\"config.tabIndex===1?'action':''\" @tap.prevent=\"switchTab(1)\" @pressup.prevent=\"switchTab(1)\">1级审核（分公司）</v-touch>\r\n                <v-touch tag=\"div\" class=\"item\" :class=\"config.tabIndex===2?'action':''\" @tap.prevent=\"switchTab(2)\" @pressup.prevent=\"switchTab(2)\">2级审核（集团）</v-touch>\r\n            </div>\r\n            <div v-show=\"config.tabIndex===1\">\r\n                <div class=\"search\">\r\n                    <search-box :searchVal=\"config.configCompany.searchBox.searchVal\" :placeholder=\"config.configCompany.searchBox.placeholder\" :suggest=\"config.configCompany.searchBox.suggest\" @searchClick=\"configCompanyClickDeal\" @searchValChange=\"configCompanyValChangeDeal\" @itemClick=\"configCompanyItemClickDeal\"></search-box>\r\n                </div>\r\n                <div class=\"tree-view-content\">\r\n                    <tree-view :dataArr=\"data.configCompany.treeView\" :setConfig=\"config.configCompany.treeView\" @dataArrChange=\"configCompanyTreeDataChangeDeal\" @treeMgmt=\"configCompanyTreeMgmt\"></tree-view>\r\n                </div>\r\n                <p class=\"prompting\" v-if=\"data.configCompany.treeView && data.configCompany.treeView.length<=0\">暂无数据</p>\r\n            </div>\r\n            <div v-show=\"config.tabIndex===2\">\r\n                <p class=\"prompting\">二级审核，不需要设置具体管理公司范围</p>\r\n            </div>\r\n        </div>\r\n        <div class=\"ui ui-bottom-btn\" v-if=\"false\">\r\n            <v-touch tag=\"div\" class=\"btn\" @pressup.prevent=\"submitConfig\" @tap.prevent=\"submitConfig\">提交配置</v-touch>\r\n        </div>\r\n        <!-- 对话框 -->\r\n        <modal-box :setConfig=\"config.modalBox\" @confirmClick=\"confirmClickDeal\" @cancelClick=\"cancelClickDeal\"></modal-box>\r\n    </div>\r\n</div>\r\n</template>\r\n\r\n<script scoped>\r\n    var initData = function () {\r\n        return {\r\n            data: {\r\n                configCompany: {\r\n                    treeView: []\r\n                },\r\n                configMenu: {\r\n                    treeView: []\r\n                }\r\n            },\r\n            config: {\r\n                userID: 0,\r\n                userName: '',\r\n                userUserName: '',\r\n                userBranchName: '',\r\n                tabIndex: 1, // 1-1级，2-2级\r\n                modalBox: {\r\n                    isShow: false,\r\n                    content: '',\r\n                    btn: [{\r\n                        text: '确定',\r\n                        handel: 'confirmClick'\r\n                    }, {\r\n                        text: '取消',\r\n                        handel: 'cancelClick'\r\n                    }]\r\n                },\r\n                configCompany: {\r\n                    searchBox: {\r\n                        searchVal: '',\r\n                        placeholder: '公司名称搜索',\r\n                        suggest: {\r\n                            isShow: 1,\r\n                            data: [],\r\n                        }\r\n                    },\r\n                    treeView: {\r\n                        isShow: 1,\r\n                        isShowIcon: 2,\r\n                        showChoice: true,\r\n                        keyConfig: {\r\n                            name: 'Branch_Name',\r\n                            id: 'Branch_ID',\r\n                            childKey: 'ChildList'\r\n                        },\r\n                        locationConfig: {\r\n                            key: 'id'\r\n                        }\r\n                    }\r\n                },\r\n                configMenu: {\r\n                    searchBox: {\r\n                        searchVal: '',\r\n                        placeholder: '搜索部门权限',\r\n                        suggest: {\r\n                            isShow: 1,\r\n                            data: [],\r\n                        }\r\n                    },\r\n                    treeView: {\r\n                        isShow: 1,\r\n                        isShowIcon: 2,\r\n                        showChoice: true,\r\n                        keyConfig: {\r\n                            name: 'RoleName',\r\n                            id: 'Id',\r\n                            childKey: 'ChildList'\r\n                        },\r\n                        locationConfig: {\r\n                            key: 'id'\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    };\r\n    export default {\r\n        data() {\r\n            return new initData()\r\n        },\r\n        activated: function () {\r\n            let self = this;\r\n            Bestone.ui.pageInit({\r\n                setTitle: '配置权限审核',\r\n                reviewCallBack: function () {\r\n                    self.config.userID = Bestone.util.query().UserID || 0;\r\n                    self.config.userName = Bestone.util.query().UserName || '';\r\n                    self.config.userUserName = Bestone.util.query().UserUserName || '';\r\n                    self.config.userBranchName = Bestone.util.query().UserBranchName || '';\r\n                    // 配置审核公司\r\n                    Bestone.util.ajax({\r\n                        url: 'api/UserManage/GetCompanyBranchList',\r\n                        data: JSON.stringify({}),\r\n                        success: function (ajaxData) {\r\n                            // 去掉第一级集团\r\n                            var getData = [];\r\n                            $.each(ajaxData.data, function (k,v) {\r\n                                getData.push(...v.ChildList);\r\n                            });\r\n                            self.config.configCompany.searchBox.suggest.data = Bestone.util.getTreeViewDataForSearch({\r\n                                data: getData || [],\r\n                                name: 'Branch_Name',\r\n                                id: 'Branch_ID',\r\n                                childKey: 'ChildList'\r\n                            });\r\n                            self.data.configCompany.treeView = getData || [];\r\n                        }\r\n                    });\r\n                    // 配置审核菜单\r\n                    Bestone.util.ajax({\r\n                        url: 'api/AuthManage/GetRolesByKeyword',\r\n                        data: JSON.stringify({\r\n                            Keyword: ''\r\n                        }),\r\n                        success: function (ajaxData) {\r\n                            self.config.configMenu.searchBox.suggest.data = Bestone.util.getTreeViewDataForSearch({\r\n                                data: ajaxData.data || [],\r\n                                name: 'RoleName',\r\n                                id: 'Id',\r\n                                childKey: 'ChildList'\r\n                            });\r\n                            self.data.configMenu.treeView = ajaxData.data || [];\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n\r\n            Bestone.ui.ddSetRight({\r\n                control: true,\r\n                text: '提交',\r\n                show: true,\r\n                onSuccess: function () {\r\n                    self.submitConfig();\r\n                }\r\n            });\r\n        },\r\n        deactivated: function () {\r\n            var self = this;\r\n            // 回退时清除数据\r\n            Bestone.util.resetData(function () {\r\n                self.data = initData().data;\r\n                self.config = initData().config;\r\n            });\r\n        },\r\n        methods: {\r\n            // 切换tab\r\n            switchTab: function (id) {\r\n                this.config.tabIndex = id;\r\n            },\r\n            // 提交配置\r\n            submitConfig: function () {\r\n                let self = this;\r\n                // 选中的机构列表\r\n                var branchIds = '';\r\n                if(self.config.tabIndex===1) { // 如果是一级审核\r\n                    function recursive(arr) {\r\n                        $.each(arr, function (k, v) {\r\n                            if (!!v.frontActive && v.frontActive===1) {\r\n                                branchIds = branchIds + v.Branch_ID + ',';\r\n                            }\r\n                            if (!!v.ChildList && v.ChildList.length > 0) { // 如果有子级\r\n                                recursive(v.ChildList);\r\n                            }\r\n                        });\r\n                    }\r\n                    recursive(self.data.configCompany.treeView);\r\n\r\n                    if (branchIds.length <= 0) {\r\n                        Bestone.ui.message({\r\n                            content: '请至少选择一家分公司'\r\n                        });\r\n                        return;\r\n                    }\r\n                }\r\n                // 选中的权限部门列表\r\n                var roleIds = '';\r\n                $.each(self.data.configMenu.treeView, function (k, v) {\r\n                    if(!!v.frontActive && v.frontActive===1) {\r\n                        roleIds = roleIds + v.Id + ',';\r\n                    }\r\n                });\r\n                if (roleIds.length <= 0) {\r\n                    Bestone.ui.message({\r\n                        content: '请至少选择一个部门'\r\n                    });\r\n                    return;\r\n                }\r\n\r\n                self.config.modalBox.content = '<p style=\"font-size: 14px;text-align: center;padding: 20px 0px;line-height: 16px;\">确定提交？</p>';\r\n                self.config.modalBox.isShow = true;\r\n            },\r\n            // 弹出框确认\r\n            confirmClickDeal: function () {\r\n                let self = this;\r\n                // 选中的机构列表\r\n                var branchIds = '';\r\n                if(self.config.tabIndex===1) { // 如果是一级审核\r\n                    function recursive(arr) {\r\n                        $.each(arr, function (k, v) {\r\n                            if (!!v.frontActive && v.frontActive===1) {\r\n                                branchIds = branchIds + v.Branch_ID + ',';\r\n                            }\r\n                            if (!!v.ChildList && v.ChildList.length > 0) { // 如果有子级\r\n                                recursive(v.ChildList);\r\n                            }\r\n                        });\r\n                    }\r\n                    recursive(self.data.configCompany.treeView);\r\n\r\n                    if (branchIds.length <= 0) {\r\n                        Bestone.ui.message({\r\n                            content: '请至少选择一家分公司'\r\n                        });\r\n                        return;\r\n                    }\r\n                    branchIds = branchIds.substring(0,branchIds.length-1); // 去掉最后一个逗号\r\n                }\r\n\r\n                // 选中的权限部门列表\r\n                var roleIds = '';\r\n                $.each(self.data.configMenu.treeView, function (k, v) {\r\n                    if(!!v.frontActive && v.frontActive===1) {\r\n                        roleIds = roleIds + v.Id + ',';\r\n                    }\r\n                });\r\n                if (roleIds.length <= 0) {\r\n                    Bestone.ui.message({\r\n                        content: '请至少选择一个部门'\r\n                    });\r\n                    return;\r\n                }\r\n                roleIds = roleIds.substring(0,roleIds.length-1); // 去掉最后一个逗号\r\n\r\n                // 发起请求\r\n                Bestone.util.ajax({\r\n                    url: 'api/AuthManage/AddUserCheck',\r\n                    data: JSON.stringify({\r\n                        UserId: self.config.userID,\r\n                        CheckLevel: self.config.tabIndex, // 1-分公司 2-集团\r\n                        BranchIds: branchIds,\r\n                        RoleIds: roleIds,\r\n                        OperId: Bestone.user.id,\r\n                        OperName: Bestone.user.name\r\n                    }),\r\n                    success: function (ajaxData) {\r\n                        Bestone.ui.message({\r\n                            content: '权限审核配置成功',\r\n                            notOper: true\r\n                        });\r\n                        setTimeout(function () {\r\n                            window.app.$router.go(-1);\r\n                        }, 1000);\r\n                    }\r\n                });\r\n            },\r\n            // 弹出框取消\r\n            cancelClickDeal: function () {\r\n                let self = this;\r\n                self.config.modalBox.isShow = false;\r\n            },\r\n            /***************************************  配置审核公司  ***************************************/\r\n            // 搜索点击\r\n            configCompanyClickDeal: function (str) {\r\n                Bestone.ui.message({\r\n                    content: '仅支持智能匹配搜索'\r\n                });\r\n            },\r\n            // 输入框值改变\r\n            configCompanyValChangeDeal: function (str) {\r\n                this.config.configCompany.searchBox.searchVal = str; // 必须，用于父子组件数据双向绑定\r\n            },\r\n            // 搜索下拉框点击\r\n            configCompanyItemClickDeal: function (item) {\r\n                let val = item.id;\r\n                if(!!val) {\r\n                    let $loca = $('.config-company .ui.tree-view .loca' + val);\r\n                    $('.config-company .ui.tree-view .item').css('background-color', 'transparent');\r\n                    if ($loca.length > 0) {\r\n                        setTimeout(function () {\r\n                            $loca.css('background-color', '#FFFBE6');\r\n                            $(window).scrollTop($loca.offset().top-5);\r\n                        },100);\r\n                    }\r\n                }\r\n            },\r\n            // 树形组件数据更改\r\n            configCompanyTreeDataChangeDeal: function (arr) {\r\n                this.data.configCompany.treeView = arr; // 必须，用于父子组件数据双向绑定\r\n                console.log(arr)\r\n            },\r\n            // 点击树形管理\r\n            configCompanyTreeMgmt: function () {\r\n                Bestone.util.vueJump({\r\n                    path: '/permissionControl/permissionMgmt'\r\n                });\r\n            },\r\n            /************************************  配置审核菜单  ***************************************/\r\n            // 搜索点击\r\n            configMenuClickDeal: function (str) {\r\n                Bestone.ui.message({\r\n                    content: '仅支持智能匹配搜索'\r\n                });\r\n            },\r\n            // 输入框值改变\r\n            configMenuValChangeDeal: function (str) {\r\n                this.config.configMenu.searchBox.searchVal = str; // 必须，用于父子组件数据双向绑定\r\n            },\r\n            // 搜索下拉框点击\r\n            configMenuItemClickDeal: function (item) {\r\n                let val = item.id;\r\n                if(!!val) {\r\n                    let $loca = $('.config-menu .ui.tree-view .loca' + val);\r\n                    $('.config-menu .ui.tree-view .item').css('background-color', 'transparent');\r\n                    if ($loca.length > 0) {\r\n                        setTimeout(function () {\r\n                            $loca.css('background-color', '#FFFBE6');\r\n                            $(window).scrollTop($loca.offset().top-5);\r\n                        },100);\r\n                    }\r\n                }\r\n            },\r\n            // 树形组件数据更改\r\n            configMenuTreeDataChangeDeal: function (arr) {\r\n                this.data.configMenu.treeView = arr; // 必须，用于父子组件数据双向绑定\r\n            },\r\n            // 点击树形管理\r\n            configMenuTreeMgmt: function () {\r\n                Bestone.util.vueJump({\r\n                    path: '/permissionControl/permissionMgmt'\r\n                });\r\n            },\r\n        }\r\n    }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n    #mgmt-limit {\r\n        padding-bottom: 10px;\r\n        & > .config-company,.config-menu {\r\n            margin-top: 10px;\r\n            .search {\r\n                background-color: #fff;\r\n                padding: 10px 15px;\r\n            }\r\n            .tree-view-content {\r\n                margin-top: 10px;\r\n            }\r\n            .prompting {\r\n                color: #999;\r\n                font-size: 12px;\r\n                line-height: 20px;\r\n                text-align: center;\r\n                margin-top: 10px;\r\n                margin-bottom: 20px;\r\n                padding: 0px 20px;\r\n            }\r\n        }\r\n        & > .config-company {\r\n            & > .tab {\r\n                background-color: #fff;\r\n                height: 40px;\r\n                overflow: hidden;\r\n                border-bottom: solid 1px #eee;\r\n                & > .item {\r\n                    position: relative;\r\n                    width: 50%;\r\n                    height: 40px;\r\n                    float: left;\r\n                    line-height: 40px;\r\n                    font-size: 14px;\r\n                    color: #666666;\r\n                    text-align: center;\r\n                    cursor: pointer;\r\n                    user-select: none;\r\n                    &::after {\r\n                        content: '';\r\n                        position: absolute;\r\n                        width: 1px;\r\n                        height: 26px;\r\n                        background-color: #eee;\r\n                        top: 7px;\r\n                        right: 0px;\r\n                    }\r\n                    &.action {\r\n                        color: #38ADFF;\r\n                        &::before {\r\n                            content: '';\r\n                            position: absolute;\r\n                            width: 99%;\r\n                            height: 1px;\r\n                            background-color: #38ADFF;\r\n                            top: 0px;\r\n                            left: 0px;\r\n                        }\r\n                    }\r\n                    &:last-child {\r\n                        float: right;\r\n                        &::after {\r\n                            width: 0px;\r\n                        }\r\n                        &.action {\r\n                            &::before {\r\n                                right: 0px;\r\n                                left: auto;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n</style>\n\n\n// WEBPACK FOOTER //\n// configPermissionAudit.vue?756f8636","exports = module.exports = require(\"../../../node_modules/_css-loader@0.28.7@css-loader/lib/css-base.js\")(undefined);\n// imports\n\n\n// module\nexports.push([module.id, \"#mgmt-limit[data-v-1cc17df3]{padding-bottom:10px}#mgmt-limit .config-menu[data-v-1cc17df3],#mgmt-limit>.config-company[data-v-1cc17df3]{margin-top:10px}#mgmt-limit .config-menu .search[data-v-1cc17df3],#mgmt-limit>.config-company .search[data-v-1cc17df3]{background-color:#fff;padding:10px 15px}#mgmt-limit .config-menu .tree-view-content[data-v-1cc17df3],#mgmt-limit>.config-company .tree-view-content[data-v-1cc17df3]{margin-top:10px}#mgmt-limit .config-menu .prompting[data-v-1cc17df3],#mgmt-limit>.config-company .prompting[data-v-1cc17df3]{color:#999;font-size:12px;line-height:20px;text-align:center;margin-top:10px;margin-bottom:20px;padding:0 20px}#mgmt-limit>.config-company>.tab[data-v-1cc17df3]{background-color:#fff;height:40px;overflow:hidden;border-bottom:1px solid #eee}#mgmt-limit>.config-company>.tab>.item[data-v-1cc17df3]{position:relative;width:50%;height:40px;float:left;line-height:40px;font-size:14px;color:#666;text-align:center;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}#mgmt-limit>.config-company>.tab>.item[data-v-1cc17df3]:after{content:\\\"\\\";position:absolute;width:1px;height:26px;background-color:#eee;top:7px;right:0}#mgmt-limit>.config-company>.tab>.item.action[data-v-1cc17df3]{color:#38adff}#mgmt-limit>.config-company>.tab>.item.action[data-v-1cc17df3]:before{content:\\\"\\\";position:absolute;width:99%;height:1px;background-color:#38adff;top:0;left:0}#mgmt-limit>.config-company>.tab>.item[data-v-1cc17df3]:last-child{float:right}#mgmt-limit>.config-company>.tab>.item[data-v-1cc17df3]:last-child:after{width:0}#mgmt-limit>.config-company>.tab>.item:last-child.action[data-v-1cc17df3]:before{right:0;left:auto}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_css-loader@0.28.7@css-loader?minimize!./~/_vue-loader@12.2.2@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-1cc17df3\",\"scoped\":true,\"hasInlineConfig\":true}!./~/_sass-loader@6.0.6@sass-loader/lib/loader.js!./~/_vue-loader@12.2.2@vue-loader/lib/selector.js?type=styles&index=0!./src/component/permissionMgmtConfig/configPermissionAudit.vue\n// module id = 126\n// module chunks = 10","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('div', {\n    attrs: {\n      \"id\": \"mgmt-limit\"\n    }\n  }, [_c('div', {\n    staticClass: \"ui ui-text-list\"\n  }, [_c('p', [_vm._v(\"TDS账号：\" + _vm._s(_vm.config.userName))]), _vm._v(\" \"), _c('p', [_vm._v(\"姓名：\" + _vm._s(_vm.config.userUserName))]), _vm._v(\" \"), _c('p', [_vm._v(\"账号所属公司：\" + _vm._s(_vm.config.userBranchName))])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"config-menu\"\n  }, [_c('div', {\n    staticClass: \"ui ui-title\"\n  }, [_vm._v(\"配置审核菜单\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"search\"\n  }, [_c('search-box', {\n    attrs: {\n      \"searchVal\": _vm.config.configMenu.searchBox.searchVal,\n      \"placeholder\": _vm.config.configMenu.searchBox.placeholder,\n      \"suggest\": _vm.config.configMenu.searchBox.suggest\n    },\n    on: {\n      \"searchClick\": _vm.configMenuClickDeal,\n      \"searchValChange\": _vm.configMenuValChangeDeal,\n      \"itemClick\": _vm.configMenuItemClickDeal\n    }\n  })], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"tree-view-content\"\n  }, [_c('tree-view', {\n    attrs: {\n      \"dataArr\": _vm.data.configMenu.treeView,\n      \"setConfig\": _vm.config.configMenu.treeView\n    },\n    on: {\n      \"dataArrChange\": _vm.configMenuTreeDataChangeDeal,\n      \"treeMgmt\": _vm.configMenuTreeMgmt\n    }\n  })], 1), _vm._v(\" \"), (_vm.data.configMenu.treeView && _vm.data.configMenu.treeView.length <= 0) ? _c('p', {\n    staticClass: \"prompting\"\n  }, [_vm._v(\"暂无数据\")]) : _vm._e()]), _vm._v(\" \"), _c('div', {\n    staticClass: \"config-company\"\n  }, [_c('div', {\n    staticClass: \"ui ui-title\"\n  }, [_vm._v(\"配置审核公司\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"tab\"\n  }, [_c('v-touch', {\n    staticClass: \"item\",\n    class: _vm.config.tabIndex === 1 ? 'action' : '',\n    attrs: {\n      \"tag\": \"div\"\n    },\n    on: {\n      \"tap\": function($event) {\n        $event.preventDefault();\n        _vm.switchTab(1)\n      },\n      \"pressup\": function($event) {\n        $event.preventDefault();\n        _vm.switchTab(1)\n      }\n    }\n  }, [_vm._v(\"1级审核（分公司）\")]), _vm._v(\" \"), _c('v-touch', {\n    staticClass: \"item\",\n    class: _vm.config.tabIndex === 2 ? 'action' : '',\n    attrs: {\n      \"tag\": \"div\"\n    },\n    on: {\n      \"tap\": function($event) {\n        $event.preventDefault();\n        _vm.switchTab(2)\n      },\n      \"pressup\": function($event) {\n        $event.preventDefault();\n        _vm.switchTab(2)\n      }\n    }\n  }, [_vm._v(\"2级审核（集团）\")])], 1), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.config.tabIndex === 1),\n      expression: \"config.tabIndex===1\"\n    }]\n  }, [_c('div', {\n    staticClass: \"search\"\n  }, [_c('search-box', {\n    attrs: {\n      \"searchVal\": _vm.config.configCompany.searchBox.searchVal,\n      \"placeholder\": _vm.config.configCompany.searchBox.placeholder,\n      \"suggest\": _vm.config.configCompany.searchBox.suggest\n    },\n    on: {\n      \"searchClick\": _vm.configCompanyClickDeal,\n      \"searchValChange\": _vm.configCompanyValChangeDeal,\n      \"itemClick\": _vm.configCompanyItemClickDeal\n    }\n  })], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"tree-view-content\"\n  }, [_c('tree-view', {\n    attrs: {\n      \"dataArr\": _vm.data.configCompany.treeView,\n      \"setConfig\": _vm.config.configCompany.treeView\n    },\n    on: {\n      \"dataArrChange\": _vm.configCompanyTreeDataChangeDeal,\n      \"treeMgmt\": _vm.configCompanyTreeMgmt\n    }\n  })], 1), _vm._v(\" \"), (_vm.data.configCompany.treeView && _vm.data.configCompany.treeView.length <= 0) ? _c('p', {\n    staticClass: \"prompting\"\n  }, [_vm._v(\"暂无数据\")]) : _vm._e()]), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.config.tabIndex === 2),\n      expression: \"config.tabIndex===2\"\n    }]\n  }, [_c('p', {\n    staticClass: \"prompting\"\n  }, [_vm._v(\"二级审核，不需要设置具体管理公司范围\")])])]), _vm._v(\" \"), (false) ? _c('div', {\n    staticClass: \"ui ui-bottom-btn\"\n  }, [_c('v-touch', {\n    staticClass: \"btn\",\n    attrs: {\n      \"tag\": \"div\"\n    },\n    on: {\n      \"pressup\": function($event) {\n        $event.preventDefault();\n        _vm.submitConfig($event)\n      },\n      \"tap\": function($event) {\n        $event.preventDefault();\n        _vm.submitConfig($event)\n      }\n    }\n  }, [_vm._v(\"提交配置\")])], 1) : _vm._e(), _vm._v(\" \"), _c('modal-box', {\n    attrs: {\n      \"setConfig\": _vm.config.modalBox\n    },\n    on: {\n      \"confirmClick\": _vm.confirmClickDeal,\n      \"cancelClick\": _vm.cancelClickDeal\n    }\n  })], 1)])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-loader@12.2.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-1cc17df3\",\"hasScoped\":true}!./~/_vue-loader@12.2.2@vue-loader/lib/selector.js?type=template&index=0!./src/component/permissionMgmtConfig/configPermissionAudit.vue\n// module id = 159\n// module chunks = 10","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/_css-loader@0.28.7@css-loader/index.js?minimize!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1cc17df3\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":true}!../../../node_modules/_sass-loader@6.0.6@sass-loader/lib/loader.js!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/selector.js?type=styles&index=0!./configPermissionAudit.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/_vue-style-loader@3.0.1@vue-style-loader/lib/addStylesClient.js\")(\"91ee5d6a\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-style-loader@3.0.1@vue-style-loader!./~/_css-loader@0.28.7@css-loader?minimize!./~/_vue-loader@12.2.2@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-1cc17df3\",\"scoped\":true,\"hasInlineConfig\":true}!./~/_sass-loader@6.0.6@sass-loader/lib/loader.js!./~/_vue-loader@12.2.2@vue-loader/lib/selector.js?type=styles&index=0!./src/component/permissionMgmtConfig/configPermissionAudit.vue\n// module id = 190\n// module chunks = 10","function injectStyle (ssrContext) {\n  require(\"!!vue-loader/node_modules/vue-style-loader!css-loader?minimize!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1cc17df3\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":true}!sass-loader!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/selector?type=styles&index=0!./configPermissionAudit.vue\")\n}\nvar Component = require(\"!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/selector?type=script&index=0!./configPermissionAudit.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1cc17df3\\\",\\\"hasScoped\\\":true}!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/selector?type=template&index=0!./configPermissionAudit.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-1cc17df3\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/component/permissionMgmtConfig/configPermissionAudit.vue\n// module id = 78\n// module chunks = 10"],"sourceRoot":""}