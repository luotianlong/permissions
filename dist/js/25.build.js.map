{"version":3,"sources":["webpack:///js/25.build.js","webpack:///./src/component/applyPermission/finalCheck.vue?75b8","webpack:///./src/component/applyPermission/finalCheck.vue?4c58","webpack:///./src/component/applyPermission/finalCheck.vue?f02d","webpack:///./src/component/applyPermission/finalCheck.vue","webpack:///finalCheck.vue"],"names":["webpackJsonp","137","module","exports","__webpack_require__","undefined","push","i","170","render","_vm","this","_h","$createElement","_c","_self","attrs","id","staticClass","config","proxyUserInfo","name","_e","_v","_s","userInfo","user","width","_m","_l","item","index","MenuName","BranchIds","length","tag","on","tap","$event","preventDefault","viewControlLimit","pressup","BranchNames","renderButtonNames","ButtonNames","deleteMenu","explainValue","setConfig","modalBox","confirmClick","confirmClickDeal","cancelClick","cancelClickDeal","staticRenderFns","201","content","locals","62","injectStyle","ssrContext","Component","93","__webpack_exports__","Object","defineProperty","value","initData","data","menuArr","branchName","isShow","btn","text","handel","mounted","activated","self","Bestone","ui","pageInit","setTitle","reviewCallBack","applyData","RoleId","message","notOper","setTimeout","window","app","$router","go","MenuArr","ProxyApplyUserAccount","ProxyApplyUserName","ApplyDesc","ddSetRight","control","show","onSuccess","submit","deactivated","util","resetData","methods","list","$","each","k","v","mgmtLimitData","vueJump","path","arr","splice","ajax","url","JSON","stringify","RoleID","ApplyUserID","ProxyApplyUserId","Menus","success","ajaxData"],"mappings":"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","file":"js/25.build.js?df91eec3","sourcesContent":["webpackJsonp([25],{\n\n/***/ 137:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(0)(undefined);\n// imports\n\n\n// module\nexports.push([module.i, \"#apply-record-detail[data-v-639a912a]{padding-top:10px;padding-bottom:10px}#apply-record-detail>.ui.ui-title[data-v-639a912a]{margin-top:10px}#apply-record-detail>.apply-list[data-v-639a912a]{background-color:#fff;padding:10px 15px}#apply-record-detail>.apply-list>.ui.ui-table .del-btn[data-v-639a912a]{color:#ff4c4c}#apply-record-detail>.instruction-content[data-v-639a912a]{padding:10px 15px;color:#666;line-height:18px;background-color:#fff;margin-bottom:10px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 170:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('div', {\n    attrs: {\n      \"id\": \"apply-record-detail\"\n    }\n  }, [_c('div', {\n    staticClass: \"ui ui-text-list\"\n  }, [(!!!_vm.config.proxyUserInfo.name) ? [_c('p', [_vm._v(\"申请账号：\" + _vm._s(_vm.config.userInfo.user))]), _vm._v(\" \"), _c('p', [_vm._v(\"姓名：\" + _vm._s(_vm.config.userInfo.name))])] : _vm._e(), _vm._v(\" \"), (!!_vm.config.proxyUserInfo.name) ? [_c('p', [_vm._v(\"申请账号：\" + _vm._s(_vm.config.proxyUserInfo.user))]), _vm._v(\" \"), _c('p', [_vm._v(\"申请人：\" + _vm._s(_vm.config.proxyUserInfo.name))])] : _vm._e()], 2), _vm._v(\" \"), _c('div', {\n    staticClass: \"ui ui-title\"\n  }, [_vm._v(\"申请权限列表\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"apply-list\"\n  }, [_c('div', {\n    staticClass: \"ui ui-table\"\n  }, [_c('table', [_c('col', {\n    attrs: {\n      \"width\": \"28.333%\"\n    }\n  }), _vm._v(\" \"), _c('col', {\n    attrs: {\n      \"width\": \"28.333%\"\n    }\n  }), _vm._v(\" \"), _c('col', {\n    attrs: {\n      \"width\": \"28.333%\"\n    }\n  }), _vm._v(\" \"), _c('col', {\n    attrs: {\n      \"width\": \"15%\"\n    }\n  }), _vm._v(\" \"), _vm._m(0), _vm._v(\" \"), _c('tbody', _vm._l((_vm.config.menuArr), function(item, index) {\n    return _c('tr', [_c('td', [_vm._v(_vm._s(item.MenuName))]), _vm._v(\" \"), (item.BranchIds.length > 1) ? _c('td', [_c('v-touch', {\n      attrs: {\n        \"tag\": \"p\"\n      },\n      on: {\n        \"tap\": function($event) {\n          $event.preventDefault();\n          _vm.viewControlLimit(item)\n        },\n        \"pressup\": function($event) {\n          $event.preventDefault();\n          _vm.viewControlLimit(item)\n        }\n      }\n    }, [_vm._v(_vm._s(item.BranchNames[0]) + \"等\"), _c('i', {\n      staticClass: \"iconfont icon-gengduo\"\n    })])], 1) : _vm._e(), _vm._v(\" \"), (item.BranchIds.length <= 1) ? _c('td', [_vm._v(_vm._s(item.BranchNames[0] || '全部'))]) : _vm._e(), _vm._v(\" \"), _c('td', [_vm._v(_vm._s(_vm.renderButtonNames(item.ButtonNames)))]), _vm._v(\" \"), _c('td', [_c('v-touch', {\n      staticClass: \"del-btn\",\n      attrs: {\n        \"tag\": \"p\"\n      },\n      on: {\n        \"tap\": function($event) {\n          $event.preventDefault();\n          _vm.deleteMenu(item, index)\n        },\n        \"pressup\": function($event) {\n          $event.preventDefault();\n          _vm.deleteMenu(item, index)\n        }\n      }\n    }, [_vm._v(\"删除\")])], 1)])\n  }))])])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"ui ui-title\"\n  }, [_vm._v(\"申请权限说明\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"instruction-content\"\n  }, [_vm._v(_vm._s(_vm.config.explainValue))]), _vm._v(\" \"), (false) ? _c('div', {\n    staticClass: \"ui ui-bottom-btn\"\n  }, [_c('v-touch', {\n    staticClass: \"btn\",\n    attrs: {\n      \"tag\": \"div\"\n    },\n    on: {\n      \"pressup\": function($event) {\n        $event.preventDefault();\n        _vm.submit($event)\n      },\n      \"tap\": function($event) {\n        $event.preventDefault();\n        _vm.submit($event)\n      }\n    }\n  }, [_vm._v(\"提交权限申请\")])], 1) : _vm._e(), _vm._v(\" \"), _c('modal-box', {\n    attrs: {\n      \"setConfig\": _vm.config.modalBox\n    },\n    on: {\n      \"confirmClick\": _vm.confirmClickDeal,\n      \"cancelClick\": _vm.cancelClickDeal\n    }\n  })], 1)])\n},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('thead', [_c('tr', [_c('th', [_vm._v(\"申请权限名称\")]), _vm._v(\" \"), _c('th', [_vm._v(\"管理范围\")]), _vm._v(\" \"), _c('th', [_vm._v(\"导出权限\")]), _vm._v(\" \"), _c('th', [_vm._v(\"操作\")])])])\n}]}\n\n/***/ }),\n\n/***/ 201:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(137);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(2)(\"04b21fca\", content, true);\n\n/***/ }),\n\n/***/ 62:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(201)\n}\nvar Component = __webpack_require__(1)(\n  /* script */\n  __webpack_require__(93),\n  /* template */\n  __webpack_require__(170),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-639a912a\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 93:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nvar initData = function initData() {\n    return {\n        data: {},\n        config: {\n            menuArr: [],\n            userInfo: {\n                user: '',\n                name: '',\n                branchName: ''\n            }, // 用户信息\n            proxyUserInfo: {\n                user: '',\n                name: ''\n            }, // 代为申请人信息\n            explainValue: '', // 申请权限说明\n            modalBox: {\n                isShow: false,\n                content: '',\n                btn: [{\n                    text: '确定',\n                    handel: 'confirmClick'\n                }, {\n                    text: '取消',\n                    handel: 'cancelClick'\n                }]\n            }\n        }\n    };\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    data: function data() {\n        return new initData();\n    },\n\n    mounted: function mounted() {},\n    activated: function activated() {\n        var self = this;\n        Bestone.ui.pageInit({\n            setTitle: '申请权限',\n            reviewCallBack: function reviewCallBack() {\n                // 判断数据是否失效\n                if (Bestone.applyData.RoleId === 0) {\n                    Bestone.ui.message({\n                        content: '数据已失效，请重新申请',\n                        notOper: true\n                    });\n                    setTimeout(function () {\n                        window.app.$router.go(-1);\n                    }, 1000);\n                    return;\n                }\n\n                self.config.menuArr = Bestone.applyData.MenuArr;\n                self.config.userInfo.user = Bestone.user.user;\n                self.config.userInfo.name = Bestone.user.name;\n                // 获取代为用户信息\n                self.config.proxyUserInfo.user = Bestone.applyData.ProxyApplyUserAccount;\n                self.config.proxyUserInfo.name = Bestone.applyData.ProxyApplyUserName;\n\n                self.config.explainValue = Bestone.applyData.ApplyDesc || '无';\n            }\n        });\n\n        Bestone.ui.ddSetRight({\n            control: true,\n            text: '提交',\n            show: true,\n            onSuccess: function onSuccess() {\n                self.submit();\n            }\n        });\n    },\n    deactivated: function deactivated() {\n        var self = this;\n        // 回退时清除数据\n        Bestone.util.resetData(function () {\n            self.data = initData().data;\n            self.config = initData().config;\n        });\n    },\n    methods: {\n        // 查看管理范围\n        viewControlLimit: function viewControlLimit(item) {\n            var list = [];\n            $.each(item.BranchNames, function (k, v) {\n                list.push({\n                    name: v\n                });\n            });\n            Bestone.mgmtLimitData = list;\n            Bestone.util.vueJump({\n                path: '/applyRecord/controlLimit'\n            });\n        },\n        // 渲染按钮名称\n        renderButtonNames: function renderButtonNames(arr) {\n            var renderText = '';\n            if (arr.length <= 0) {\n                renderText = '无';\n            } else if (arr.length === 1) {\n                renderText = arr[0];\n            } else {\n                renderText = arr[0] + '等';\n            }\n            return renderText;\n        },\n        // 删除菜单\n        deleteMenu: function deleteMenu(item, index) {\n            var self = this;\n            Bestone.applyData.MenuArr.splice(index, 1);\n        },\n        // 提交权限申请\n        submit: function submit() {\n            var self = this;\n            if (!!Bestone.applyData.MenuArr && Bestone.applyData.MenuArr.length <= 0) {\n                Bestone.ui.message({\n                    content: '申请权限不能为空'\n                });\n                return;\n            }\n\n            self.config.modalBox.content = '<p style=\"font-size: 14px;text-align: center;padding: 20px 0px;line-height: 16px;\">确定提交？</p>';\n            self.config.modalBox.isShow = true;\n        },\n        // 弹出框确认\n        confirmClickDeal: function confirmClickDeal() {\n            var self = this;\n            Bestone.util.ajax({\n                url: 'api/PermissionManage/RoleApply',\n                data: JSON.stringify({\n                    RoleID: Bestone.applyData.RoleId, // 选择的部门\n                    ApplyUserID: Bestone.user.id, // 申请人ID\n                    ProxyApplyUserId: Bestone.applyData.ProxyApplyUserId, // 代为申请人ID\n                    ApplyDesc: Bestone.applyData.ApplyDesc, // 描述\n                    Menus: Bestone.applyData.MenuArr\n                }),\n                success: function success(ajaxData) {\n                    Bestone.ui.message({\n                        content: '提交成功',\n                        notOper: true\n                    });\n                    self.config.modalBox.isShow = false;\n                    setTimeout(function () {\n                        window.app.$router.go(-2);\n                    }, 500);\n                }\n            });\n        },\n        // 弹出框取消\n        cancelClickDeal: function cancelClickDeal() {\n            var self = this;\n            self.config.modalBox.isShow = false;\n        }\n    }\n});\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// js/25.build.js?df91eec3","exports = module.exports = require(\"../../../node_modules/_css-loader@0.28.7@css-loader/lib/css-base.js\")(undefined);\n// imports\n\n\n// module\nexports.push([module.id, \"#apply-record-detail[data-v-639a912a]{padding-top:10px;padding-bottom:10px}#apply-record-detail>.ui.ui-title[data-v-639a912a]{margin-top:10px}#apply-record-detail>.apply-list[data-v-639a912a]{background-color:#fff;padding:10px 15px}#apply-record-detail>.apply-list>.ui.ui-table .del-btn[data-v-639a912a]{color:#ff4c4c}#apply-record-detail>.instruction-content[data-v-639a912a]{padding:10px 15px;color:#666;line-height:18px;background-color:#fff;margin-bottom:10px}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_css-loader@0.28.7@css-loader?minimize!./~/_vue-loader@12.2.2@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-639a912a\",\"scoped\":true,\"hasInlineConfig\":true}!./~/_sass-loader@6.0.6@sass-loader/lib/loader.js!./~/_vue-loader@12.2.2@vue-loader/lib/selector.js?type=styles&index=0!./src/component/applyPermission/finalCheck.vue\n// module id = 137\n// module chunks = 25","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('div', {\n    attrs: {\n      \"id\": \"apply-record-detail\"\n    }\n  }, [_c('div', {\n    staticClass: \"ui ui-text-list\"\n  }, [(!!!_vm.config.proxyUserInfo.name) ? [_c('p', [_vm._v(\"申请账号：\" + _vm._s(_vm.config.userInfo.user))]), _vm._v(\" \"), _c('p', [_vm._v(\"姓名：\" + _vm._s(_vm.config.userInfo.name))])] : _vm._e(), _vm._v(\" \"), (!!_vm.config.proxyUserInfo.name) ? [_c('p', [_vm._v(\"申请账号：\" + _vm._s(_vm.config.proxyUserInfo.user))]), _vm._v(\" \"), _c('p', [_vm._v(\"申请人：\" + _vm._s(_vm.config.proxyUserInfo.name))])] : _vm._e()], 2), _vm._v(\" \"), _c('div', {\n    staticClass: \"ui ui-title\"\n  }, [_vm._v(\"申请权限列表\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"apply-list\"\n  }, [_c('div', {\n    staticClass: \"ui ui-table\"\n  }, [_c('table', [_c('col', {\n    attrs: {\n      \"width\": \"28.333%\"\n    }\n  }), _vm._v(\" \"), _c('col', {\n    attrs: {\n      \"width\": \"28.333%\"\n    }\n  }), _vm._v(\" \"), _c('col', {\n    attrs: {\n      \"width\": \"28.333%\"\n    }\n  }), _vm._v(\" \"), _c('col', {\n    attrs: {\n      \"width\": \"15%\"\n    }\n  }), _vm._v(\" \"), _vm._m(0), _vm._v(\" \"), _c('tbody', _vm._l((_vm.config.menuArr), function(item, index) {\n    return _c('tr', [_c('td', [_vm._v(_vm._s(item.MenuName))]), _vm._v(\" \"), (item.BranchIds.length > 1) ? _c('td', [_c('v-touch', {\n      attrs: {\n        \"tag\": \"p\"\n      },\n      on: {\n        \"tap\": function($event) {\n          $event.preventDefault();\n          _vm.viewControlLimit(item)\n        },\n        \"pressup\": function($event) {\n          $event.preventDefault();\n          _vm.viewControlLimit(item)\n        }\n      }\n    }, [_vm._v(_vm._s(item.BranchNames[0]) + \"等\"), _c('i', {\n      staticClass: \"iconfont icon-gengduo\"\n    })])], 1) : _vm._e(), _vm._v(\" \"), (item.BranchIds.length <= 1) ? _c('td', [_vm._v(_vm._s(item.BranchNames[0] || '全部'))]) : _vm._e(), _vm._v(\" \"), _c('td', [_vm._v(_vm._s(_vm.renderButtonNames(item.ButtonNames)))]), _vm._v(\" \"), _c('td', [_c('v-touch', {\n      staticClass: \"del-btn\",\n      attrs: {\n        \"tag\": \"p\"\n      },\n      on: {\n        \"tap\": function($event) {\n          $event.preventDefault();\n          _vm.deleteMenu(item, index)\n        },\n        \"pressup\": function($event) {\n          $event.preventDefault();\n          _vm.deleteMenu(item, index)\n        }\n      }\n    }, [_vm._v(\"删除\")])], 1)])\n  }))])])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"ui ui-title\"\n  }, [_vm._v(\"申请权限说明\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"instruction-content\"\n  }, [_vm._v(_vm._s(_vm.config.explainValue))]), _vm._v(\" \"), (false) ? _c('div', {\n    staticClass: \"ui ui-bottom-btn\"\n  }, [_c('v-touch', {\n    staticClass: \"btn\",\n    attrs: {\n      \"tag\": \"div\"\n    },\n    on: {\n      \"pressup\": function($event) {\n        $event.preventDefault();\n        _vm.submit($event)\n      },\n      \"tap\": function($event) {\n        $event.preventDefault();\n        _vm.submit($event)\n      }\n    }\n  }, [_vm._v(\"提交权限申请\")])], 1) : _vm._e(), _vm._v(\" \"), _c('modal-box', {\n    attrs: {\n      \"setConfig\": _vm.config.modalBox\n    },\n    on: {\n      \"confirmClick\": _vm.confirmClickDeal,\n      \"cancelClick\": _vm.cancelClickDeal\n    }\n  })], 1)])\n},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('thead', [_c('tr', [_c('th', [_vm._v(\"申请权限名称\")]), _vm._v(\" \"), _c('th', [_vm._v(\"管理范围\")]), _vm._v(\" \"), _c('th', [_vm._v(\"导出权限\")]), _vm._v(\" \"), _c('th', [_vm._v(\"操作\")])])])\n}]}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-loader@12.2.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-639a912a\",\"hasScoped\":true}!./~/_vue-loader@12.2.2@vue-loader/lib/selector.js?type=template&index=0!./src/component/applyPermission/finalCheck.vue\n// module id = 170\n// module chunks = 25","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/_css-loader@0.28.7@css-loader/index.js?minimize!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-639a912a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":true}!../../../node_modules/_sass-loader@6.0.6@sass-loader/lib/loader.js!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/selector.js?type=styles&index=0!./finalCheck.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/_vue-style-loader@3.0.1@vue-style-loader/lib/addStylesClient.js\")(\"04b21fca\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-style-loader@3.0.1@vue-style-loader!./~/_css-loader@0.28.7@css-loader?minimize!./~/_vue-loader@12.2.2@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-639a912a\",\"scoped\":true,\"hasInlineConfig\":true}!./~/_sass-loader@6.0.6@sass-loader/lib/loader.js!./~/_vue-loader@12.2.2@vue-loader/lib/selector.js?type=styles&index=0!./src/component/applyPermission/finalCheck.vue\n// module id = 201\n// module chunks = 25","function injectStyle (ssrContext) {\n  require(\"!!vue-loader/node_modules/vue-style-loader!css-loader?minimize!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-639a912a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":true}!sass-loader!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/selector?type=styles&index=0!./finalCheck.vue\")\n}\nvar Component = require(\"!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/selector?type=script&index=0!./finalCheck.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-639a912a\\\",\\\"hasScoped\\\":true}!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/selector?type=template&index=0!./finalCheck.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-639a912a\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/component/applyPermission/finalCheck.vue\n// module id = 62\n// module chunks = 25","<!-- 申请权限-最后确认 -->\r\n<template>\r\n    <div>\r\n    <div id=\"apply-record-detail\">\r\n        <div class=\"ui ui-text-list\">\r\n            <template v-if=\"!!!config.proxyUserInfo.name\">\r\n                <p>申请账号：{{config.userInfo.user}}</p>\r\n                <p>姓名：{{config.userInfo.name}}</p>\r\n            </template>\r\n            <template v-if=\"!!config.proxyUserInfo.name\">\r\n                <p>申请账号：{{config.proxyUserInfo.user}}</p>\r\n                <p>申请人：{{config.proxyUserInfo.name}}</p>\r\n            </template>\r\n        </div>\r\n        <div class=\"ui ui-title\">申请权限列表</div>\r\n        <div class=\"apply-list\">\r\n            <div class=\"ui ui-table\">\r\n                <table>\r\n                    <col width=\"28.333%\"/>\r\n                    <col width=\"28.333%\"/>\r\n                    <col width=\"28.333%\"/>\r\n                    <col width=\"15%\"/>\r\n                    <thead>\r\n                    <tr>\r\n                        <th>申请权限名称</th>\r\n                        <th>管理范围</th>\r\n                        <th>导出权限</th>\r\n                        <th>操作</th>\r\n                    </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                    <tr v-for=\"(item,index) in config.menuArr\">\r\n                        <td>{{item.MenuName}}</td>\r\n                        <td v-if=\"item.BranchIds.length>1\"><v-touch tag=\"p\" @tap.prevent=\"viewControlLimit(item)\" @pressup.prevent=\"viewControlLimit(item)\">{{item.BranchNames[0]}}等<i class=\"iconfont icon-gengduo\"></i></v-touch></td>\r\n                        <td v-if=\"item.BranchIds.length<=1\">{{item.BranchNames[0] || '全部'}}</td>\r\n                        <td>{{renderButtonNames(item.ButtonNames)}}</td>\r\n                        <td><v-touch tag=\"p\" @tap.prevent=\"deleteMenu(item,index)\" @pressup.prevent=\"deleteMenu(item,index)\" class=\"del-btn\">删除</v-touch></td>\r\n                    </tr>\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </div>\r\n        <div class=\"ui ui-title\">申请权限说明</div>\r\n        <div class=\"instruction-content\">{{config.explainValue}}</div>\r\n        <div class=\"ui ui-bottom-btn\" v-if=\"false\">\r\n            <v-touch tag=\"div\" class=\"btn\" @pressup.prevent=\"submit\" @tap.prevent=\"submit\">提交权限申请</v-touch>\r\n        </div>\r\n        <!-- 对话框 -->\r\n        <modal-box :setConfig=\"config.modalBox\" @confirmClick=\"confirmClickDeal\" @cancelClick=\"cancelClickDeal\"></modal-box>\r\n    </div>\r\n</div>\r\n</template>\r\n\r\n<script scoped>\r\n    var initData = function () {\r\n        return {\r\n            data: {},\r\n            config: {\r\n                menuArr: [],\r\n                userInfo: {\r\n                    user: '',\r\n                    name: '',\r\n                    branchName: ''\r\n                }, // 用户信息\r\n                proxyUserInfo: {\r\n                    user: '',\r\n                    name: ''\r\n                }, // 代为申请人信息\r\n                explainValue: '', // 申请权限说明\r\n                modalBox: {\r\n                    isShow: false,\r\n                    content: '',\r\n                    btn: [{\r\n                        text: '确定',\r\n                        handel: 'confirmClick'\r\n                    }, {\r\n                        text: '取消',\r\n                        handel: 'cancelClick'\r\n                    }]\r\n                }\r\n            }\r\n        }\r\n    };\r\n    export default {\r\n        data() {\r\n            return new initData()\r\n        },\r\n        mounted: function () {\r\n\r\n        },\r\n        activated: function () {\r\n            let self = this;\r\n            Bestone.ui.pageInit({\r\n                setTitle: '申请权限',\r\n                reviewCallBack: function () {\r\n                    // 判断数据是否失效\r\n                    if (Bestone.applyData.RoleId === 0) {\r\n                        Bestone.ui.message({\r\n                            content: '数据已失效，请重新申请',\r\n                            notOper: true\r\n                        });\r\n                        setTimeout(function () {\r\n                            window.app.$router.go(-1);\r\n                        }, 1000);\r\n                        return;\r\n                    }\r\n\r\n                    self.config.menuArr = Bestone.applyData.MenuArr;\r\n                    self.config.userInfo.user = Bestone.user.user;\r\n                    self.config.userInfo.name = Bestone.user.name;\r\n                    // 获取代为用户信息\r\n                    self.config.proxyUserInfo.user = Bestone.applyData.ProxyApplyUserAccount;\r\n                    self.config.proxyUserInfo.name = Bestone.applyData.ProxyApplyUserName;\r\n\r\n                    self.config.explainValue = Bestone.applyData.ApplyDesc || '无';\r\n                }\r\n            });\r\n\r\n            Bestone.ui.ddSetRight({\r\n                control: true,\r\n                text: '提交',\r\n                show: true,\r\n                onSuccess: function () {\r\n                    self.submit();\r\n                }\r\n            });\r\n        },\r\n        deactivated: function () {\r\n            var self = this;\r\n            // 回退时清除数据\r\n            Bestone.util.resetData(function () {\r\n                self.data = initData().data;\r\n                self.config = initData().config;\r\n            });\r\n        },\r\n        methods: {\r\n            // 查看管理范围\r\n            viewControlLimit: function (item) {\r\n                let list = [];\r\n                $.each(item.BranchNames, function (k,v) {\r\n                    list.push({\r\n                        name: v\r\n                    })\r\n                });\r\n                Bestone.mgmtLimitData = list;\r\n                Bestone.util.vueJump({\r\n                    path: '/applyRecord/controlLimit',\r\n                });\r\n            },\r\n            // 渲染按钮名称\r\n            renderButtonNames: function (arr) {\r\n                let renderText = '';\r\n                if(arr.length<=0) {\r\n                    renderText = '无';\r\n                }else if(arr.length===1) {\r\n                    renderText = arr[0];\r\n                }else {\r\n                    renderText = arr[0] + '等';\r\n                }\r\n                return renderText;\r\n            },\r\n            // 删除菜单\r\n            deleteMenu: function (item,index) {\r\n                let self = this;\r\n                Bestone.applyData.MenuArr.splice(index,1);\r\n            },\r\n            // 提交权限申请\r\n            submit: function () {\r\n                let self  = this;\r\n                if(!!Bestone.applyData.MenuArr && Bestone.applyData.MenuArr.length<=0) {\r\n                    Bestone.ui.message({\r\n                        content: '申请权限不能为空'\r\n                    });\r\n                    return;\r\n                }\r\n\r\n                self.config.modalBox.content = '<p style=\"font-size: 14px;text-align: center;padding: 20px 0px;line-height: 16px;\">确定提交？</p>';\r\n                self.config.modalBox.isShow = true;\r\n            },\r\n            // 弹出框确认\r\n            confirmClickDeal: function () {\r\n                let self = this;\r\n                Bestone.util.ajax({\r\n                    url: 'api/PermissionManage/RoleApply',\r\n                    data: JSON.stringify({\r\n                        RoleID: Bestone.applyData.RoleId, // 选择的部门\r\n                        ApplyUserID: Bestone.user.id, // 申请人ID\r\n                        ProxyApplyUserId: Bestone.applyData.ProxyApplyUserId, // 代为申请人ID\r\n                        ApplyDesc: Bestone.applyData.ApplyDesc, // 描述\r\n                        Menus: Bestone.applyData.MenuArr\r\n                    }),\r\n                    success: function (ajaxData) {\r\n                        Bestone.ui.message({\r\n                            content: '提交成功',\r\n                            notOper: true\r\n                        });\r\n                        self.config.modalBox.isShow = false;\r\n                        setTimeout(function () {\r\n                            window.app.$router.go(-2);\r\n                        },500);\r\n                    }\r\n                });\r\n            },\r\n            // 弹出框取消\r\n            cancelClickDeal: function () {\r\n                let self = this;\r\n                self.config.modalBox.isShow = false;\r\n            },\r\n        }\r\n    }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n    #apply-record-detail {\r\n        padding-top: 10px;\r\n        padding-bottom: 10px;\r\n        & > .ui.ui-title {\r\n            margin-top: 10px;\r\n        }\r\n        & > .apply-list {\r\n            background-color: #fff;\r\n            padding: 10px 15px;\r\n            & > .ui.ui-table {\r\n                .del-btn {\r\n                    color: #FF4C4C;\r\n                }\r\n            }\r\n        }\r\n        &>.instruction-content {\r\n            padding: 10px 15px;\r\n            color: #666;\r\n            line-height: 18px;\r\n            background-color: #fff;\r\n            margin-bottom: 10px;\r\n        }\r\n    }\r\n</style>\n\n\n// WEBPACK FOOTER //\n// finalCheck.vue?53b1c72a"],"sourceRoot":""}