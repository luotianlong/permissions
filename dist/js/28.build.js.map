{"version":3,"sources":["webpack:///js/28.build.js","webpack:///./src/component/applyPermissionAudit/auditRecord.vue?d8c0","webpack:///./src/component/applyPermissionAudit/auditRecord.vue?9117","webpack:///./src/component/applyPermissionAudit/auditRecord.vue?fc37","webpack:///./src/component/applyPermissionAudit/auditRecord.vue","webpack:///auditRecord.vue"],"names":["webpackJsonp","127","module","exports","__webpack_require__","undefined","push","i","160","render","_vm","this","_h","$createElement","_c","_self","attrs","id","staticClass","searchVal","config","searchBox","placeholder","on","searchClick","searchClickDeal","searchValChange","searchValChangeDeal","_v","_l","data","item","index","_s","ApplyUserName","textStatusDeal","Menu_Name","TargetName","ApplyStatus","_e","tag","pressup","$event","preventDefault","viewDetail","tap","list","length","isLoadAll","staticRenderFns","191","content","locals","59","injectStyle","ssrContext","Component","90","__webpack_exports__","_toConsumableArray","arr","Array","isArray","arr2","from","Object","defineProperty","value","initData","pageIndex","pageSize","isSendAjax","isSendFirst","searchAjaxVal","activated","self","Bestone","ui","pageInit","setTitle","reviewCallBack","util","ajax","url","JSON","stringify","PageIndex","PageSize","Keyword","Status","success","ajaxData","complete","scrollRefresh","callback","height","showLoad","_self$data$list","page","apply","deactivated","resetData","$data","methods","vueJump","path","query","ApplyId","str"],"mappings":"AAAAA,cAAc,KAERC,IACA,SAAUC,EAAQC,EAASC,GCHjCD,EAAAD,EAAAC,QAAAC,EAAA,OAAAC,IAKAF,EAAAG,MAAAJ,EAAAK,EAAA,m3CAA04C,MDYp4CC,IACA,SAAUN,EAAQC,GElBxBD,EAAAC,SAAgBM,OAAA,WAAmB,GAAAC,GAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,CAC1E,OAAAE,GAAA,OAAAA,EAAA,OACAE,OACAC,GAAA,kBAEGH,EAAA,OACHI,YAAA,WACGJ,EAAA,cACHE,OACAG,UAAAT,EAAAU,OAAAC,UAAAF,UACAG,YAAAZ,EAAAU,OAAAC,UAAAC,aAEAC,IACAC,YAAAd,EAAAe,gBACAC,gBAAAhB,EAAAiB,wBAEG,GAAAjB,EAAAkB,GAAA,KAAAd,EAAA,OACHI,YAAA,SACGJ,EAAA,KAAAJ,EAAAmB,GAAAnB,EAAAoB,KAAA,cAAAC,EAAAC,GACH,MAAAlB,GAAA,MAAAA,EAAA,OACAI,YAAA,cACKJ,EAAA,KAAAJ,EAAAkB,GAAA,OAAAlB,EAAAuB,GAAAF,EAAAG,kBAAAxB,EAAAkB,GAAA,KAAAd,EAAA,KAAAJ,EAAAkB,GAAA,QAAAlB,EAAAuB,GAAAvB,EAAAyB,eAAAJ,EAAAK,eAAA1B,EAAAkB,GAAA,KAAAd,EAAA,KAAAJ,EAAAkB,GAAA,QAAAlB,EAAAuB,GAAAvB,EAAAyB,eAAAJ,EAAAM,kBAAA3B,EAAAkB,GAAA,KAAAd,EAAA,OACLI,YAAA,SACK,KAAAa,EAAAO,aAAA,KAAAP,EAAAO,YAAAxB,EAAA,KACLI,YAAA,iCACKR,EAAA6B,KAAA7B,EAAAkB,GAAA,UAAAG,EAAAO,YAAAxB,EAAA,KACLI,YAAA,4CACKR,EAAA6B,KAAA7B,EAAAkB,GAAA,UAAAG,EAAAO,YAAAxB,EAAA,KACLI,YAAA,6CACKR,EAAA6B,OAAA7B,EAAAkB,GAAA,KAAAd,EAAA,WACLI,YAAA,kBACAF,OACAwB,IAAA,OAEAjB,IACAkB,QAAA,SAAAC,GACAA,EAAAC,iBACAjC,EAAAkC,WAAAb,EAAAC,IAEAa,IAAA,SAAAH,GACAA,EAAAC,iBACAjC,EAAAkC,WAAAb,EAAAC,OAGKtB,EAAAkB,GAAA,mBACFlB,EAAAkB,GAAA,KAAAlB,EAAAoB,KAAAgB,MAAApC,EAAAoB,KAAAgB,KAAAC,QAAA,EAAAjC,EAAA,OACHI,YAAA,eACGR,EAAAkB,GAAA,UAAAlB,EAAA6B,KAAA7B,EAAAkB,GAAA,KAAAlB,EAAAoB,KAAAgB,KAAAC,OAAA,EAAAjC,EAAA,OACHI,YAAA,wBACGR,EAAAU,OAAA4B,UAEAtC,EAAA6B,MAFAzB,EAAA,KACHI,YAAA,uBACGJ,EAAA,QAAAJ,EAAAkB,GAAA,UAAAlB,EAAAkB,GAAA,KAAAlB,EAAAU,OAAA,WAAAN,EAAA,QAAAJ,EAAAkB,GAAA,YAAAlB,EAAA6B,MAAA,GAAA7B,EAAA6B,UACFU,qBFwBKC,IACA,SAAUhD,EAAQC,EAASC,GG1EjC,GAAA+C,GAAA/C,EAAA,IACA,iBAAA+C,SAAAjD,EAAAK,EAAA4C,EAAA,MACAA,EAAAC,SAAAlD,EAAAC,QAAAgD,EAAAC,OAEAhD,GAAA,cAAA+C,GAAA,IHmFME,GACA,SAAUnD,EAAQC,EAASC,GI3FjC,QAAAkD,GAAAC,GACAnD,EAAA,KAEA,GAAAoD,GAAApD,EAAA,GAEAA,EAAA,IAEAA,EAAA,KAEAkD,EAEA,kBAEA,KAGApD,GAAAC,QAAAqD,EAAArD,SJkGMsD,GACA,SAAUvD,EAAQwD,EAAqBtD,GAE7C,YAEA,SAASuD,GAAmBC,GAAO,GAAIC,MAAMC,QAAQF,GAAM,CAAE,IAAK,GAAIrD,GAAI,EAAGwD,EAAOF,MAAMD,EAAIb,QAASxC,EAAIqD,EAAIb,OAAQxC,IAAOwD,EAAKxD,GAAKqD,EAAIrD,EAAM,OAAOwD,GAAe,MAAOF,OAAMG,KAAKJ,GAD1LK,OAAOC,eAAeR,EAAqB,cAAgBS,OAAO,GKlFlE,IAAAC,GAAA,WL0HI,OACItC,MACIgB,SAEJ1B,QACIiD,UKxHZ,ELyHYC,SKxHZ,GLyHYtB,WAAW,EACXuB,YAAY,EACZC,aAAa,EACbC,cKxHZ,GLyHYpD,WACIF,UKxHhB,GLyHgBG,YKrHhB,gBACAoC,GAAA,SL0HI5B,KAAM,WACF,MAAO,IKxHfsC,IL2HIM,UAAW,WACP,GAAIC,GKzHZhE,IL0HQiE,SAAQC,GAAGC,UACPC,SKzHZ,OL0HYC,eAAgB,WACZJ,QAAQK,KAAKC,MACTC,IKzHpB,+CL0HoBrD,KAAMsD,KAAKC,WACPC,UKzHxB,EL0HwBC,SAAUZ,EAAKvD,OKzHvCkD,SL0HwBkB,QAASb,EAAKvD,OKzHtCqD,cL0HwBgB,OKxHxB,IL0HoBC,QAAS,SAAiBC,GACtBhB,EAAKvD,OAAOoD,aKzHpC,EL0H4BmB,EAAS7D,KAAKgB,KAAKC,OAAS4B,EAAKvD,OAAOkD,SACxCK,EAAKvD,OAAO4B,WKzHxC,EL2H4B2B,EAAKvD,OAAO4B,WKzHxC,EL2HwB2B,EAAK7C,KAAKgB,KAAO6C,EAAS7D,KAAKgB,UAEnC8C,SAAU,WACNjB,EAAKvD,OAAOmD,YKzHpC,QLgIQK,QAAQK,KAAKY,eACTC,SAAU,SAAkBC,IACpBpB,EAAKvD,OAAOoD,aAAgBG,EAAKvD,OAAOmD,YAAeI,EAAKvD,OAAO4B,YACnE2B,EAAKvD,OAAOmD,YKzHhC,EL0HoBK,QAAQK,KAAKC,MACTC,IKzHxB,+CL0HwBa,UKzHxB,EL0HwBlE,KAAMsD,KAAKC,WACPC,UAAWX,EAAKvD,OAAOiD,UKzHnD,EL0H4BkB,SAAUZ,EAAKvD,OKzH3CkD,SL0H4BkB,QAASb,EAAKvD,OKzH1CqD,cL0H4BgB,OKxH5B,IL0HwBC,QAAS,SAAiBC,GKzHlD,GAAAM,EL4HgCN,GAAS7D,KAAKgB,KAAKC,OAAS4B,EAAKvD,OAAOkD,WACxCK,EAAKvD,OAAO4B,WK3H5C,GL6H4B2B,EAAKvD,OAAOiD,UAAYsB,EAAS7D,KAAKoE,MACrCD,EAAkBtB,EAAK7C,KAAKgB,MAAMxC,KAAK6F,MAAMF,EAAiBtC,EAAmBgC,EAAS7D,KAAKgB,QAEpG8C,SAAU,WACNjB,EAAKvD,OAAOmD,YK3HxC,ULkII6B,YAAa,WACT,GAAIzB,GK3HZhE,IL6HQiE,SAAQK,KAAKoB,UAAU,WACnB1B,EAAK2B,MAAMxE,KAAOsC,IK3H9BtC,KL4HY6C,EAAK2B,MAAMlF,OAASgD,IK3HhChD,UL8HImF,SAEIpE,eAAgB,SAAwByB,GACpC,MAAOgB,SAAQK,KAAK9C,eK3HhCyB,IL6HQhB,WAAY,SAAoBb,GAE5B6C,QAAQK,KAAKuB,SACTC,KK3HhB,0CL4HgBC,OACIC,QAAS5E,EKzH7B4E,YL8HQlF,gBAAiB,SAAyBmF,GACtC,GAAIjC,GK3HhBhE,IL4HYgE,GAAKvD,OAAOmD,YK3HxB,EL4HYK,QAAQK,KAAKC,MACTC,IK3HhB,+CL4HgBrD,KAAMsD,KAAKC,WACPC,UK3HpB,EL4HoBC,SAAUZ,EAAKvD,OK3HnCkD,SL4HoBkB,QK3HpBoB,EL4HoBnB,OK1HpB,IL4HgBC,QAAS,SAAiBC,GACtBhB,EAAKvD,OAAOqD,cK3HhCmC,EL4HoBjC,EAAKvD,OAAOiD,UK3HhC,EL4HoBM,EAAKvD,OAAOoD,aK3HhC,EL4HwBmB,EAAS7D,KAAKgB,KAAKC,OAAS4B,EAAKvD,OAAOkD,SACxCK,EAAKvD,OAAO4B,WK3HpC,EL6HwB2B,EAAKvD,OAAO4B,WK3HpC,EL6HoB2B,EAAK7C,KAAKgB,KAAO6C,EAAS7D,KAAKgB,UAEnC8C,SAAU,WACNjB,EAAKvD,OAAOmD,YK3HhC,MLgIQ5C,oBAAqB,SAA6BiF,GAC9CjG,KAAKS,OAAOC,UAAUF,UAAYyF","file":"js/28.build.js?7d188e46","sourcesContent":["webpackJsonp([28],{\n\n/***/ 127:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(0)(undefined);\n// imports\n\n\n// module\nexports.push([module.i, \"#audit-record[data-v-3d158201]{padding-top:10px}#audit-record>.search[data-v-3d158201]{background-color:#fff;padding:10px 15px}#audit-record>.list[data-v-3d158201]{padding:0 10px}#audit-record>.list>ul>li[data-v-3d158201]{position:relative;background-color:#fff;border-radius:5px;padding:10px;margin-top:10px;overflow:hidden;font-size:12px}#audit-record>.list>ul>li>.list-text>p[data-v-3d158201]{padding-right:140px;line-height:20px;color:#404040;height:20px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}#audit-record>.list>ul>li>.list-text>p.long-text[data-v-3d158201]{padding-right:0}#audit-record>.list>ul>li>.icon[data-v-3d158201]{position:absolute;right:100px;top:4px}#audit-record>.list>ul>li>.icon>i[data-v-3d158201]{font-size:36px}#audit-record>.list>ul>li>.icon>i.one[data-v-3d158201]{font-size:48px;line-height:54px;color:#f80}#audit-record>.list>ul>li>.icon>i.two[data-v-3d158201]{color:#1c93e7}#audit-record>.list>ul>li>.icon>i.three[data-v-3d158201]{color:#d81e06}#audit-record>.list>ul>li>.view-detail-btn[data-v-3d158201]{position:absolute;top:15px;right:10px;cursor:pointer;width:73px;height:28px;border:1px solid #38adff;color:#38adff;line-height:28px;text-align:center;border-radius:3px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}#audit-record>.list>ul>li>.view-detail-btn[data-v-3d158201]:active{background-color:#ddd}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 160:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('div', {\n    attrs: {\n      \"id\": \"audit-record\"\n    }\n  }, [_c('div', {\n    staticClass: \"search\"\n  }, [_c('search-box', {\n    attrs: {\n      \"searchVal\": _vm.config.searchBox.searchVal,\n      \"placeholder\": _vm.config.searchBox.placeholder\n    },\n    on: {\n      \"searchClick\": _vm.searchClickDeal,\n      \"searchValChange\": _vm.searchValChangeDeal\n    }\n  })], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"list\"\n  }, [_c('ul', _vm._l((_vm.data.list), function(item, index) {\n    return _c('li', [_c('div', {\n      staticClass: \"list-text\"\n    }, [_c('p', [_vm._v(\"申请人：\" + _vm._s(item.ApplyUserName))]), _vm._v(\" \"), _c('p', [_vm._v(\"权限名称：\" + _vm._s(_vm.textStatusDeal(item.Menu_Name)))]), _vm._v(\" \"), _c('p', [_vm._v(\"管理范围：\" + _vm._s(_vm.textStatusDeal(item.TargetName)))])]), _vm._v(\" \"), _c('div', {\n      staticClass: \"icon\"\n    }, [(item.ApplyStatus == 100 || item.ApplyStatus == 101) ? _c('i', {\n      staticClass: \"iconfont one icon-weitongguo\"\n    }) : _vm._e(), _vm._v(\" \"), (item.ApplyStatus == 200) ? _c('i', {\n      staticClass: \"iconfont two icon-yinzhangshenpitongguo\"\n    }) : _vm._e(), _vm._v(\" \"), (item.ApplyStatus == 300) ? _c('i', {\n      staticClass: \"iconfont three icon-yinzhang-shenpibohui\"\n    }) : _vm._e()]), _vm._v(\" \"), _c('v-touch', {\n      staticClass: \"view-detail-btn\",\n      attrs: {\n        \"tag\": \"div\"\n      },\n      on: {\n        \"pressup\": function($event) {\n          $event.preventDefault();\n          _vm.viewDetail(item, index)\n        },\n        \"tap\": function($event) {\n          $event.preventDefault();\n          _vm.viewDetail(item, index)\n        }\n      }\n    }, [_vm._v(\"查看详细\")])], 1)\n  }))]), _vm._v(\" \"), (_vm.data.list && _vm.data.list.length <= 0) ? _c('div', {\n    staticClass: \"ui no-data\"\n  }, [_vm._v(\"暂无数据\")]) : _vm._e(), _vm._v(\" \"), (_vm.data.list.length > 0) ? _c('div', {\n    staticClass: \"ui ui-scrollRefresh\"\n  }, [(!_vm.config.isLoadAll) ? [_c('i', {\n    staticClass: \"iconfont icon-load\"\n  }), _c('span', [_vm._v(\"加载中\")])] : _vm._e(), _vm._v(\" \"), (_vm.config.isLoadAll) ? [_c('span', [_vm._v(\"没有更多了\")])] : _vm._e()], 2) : _vm._e()])])\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 191:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(127);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(2)(\"2654f27f\", content, true);\n\n/***/ }),\n\n/***/ 59:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(191)\n}\nvar Component = __webpack_require__(1)(\n  /* script */\n  __webpack_require__(90),\n  /* template */\n  __webpack_require__(160),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-3d158201\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 90:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nvar initData = function initData() {\n    return {\n        data: {\n            list: []\n        },\n        config: {\n            pageIndex: 1,\n            pageSize: 10,\n            isLoadAll: false, // 是否加载所有数据\n            isSendAjax: false, // 是否发起请求\n            isSendFirst: false, // 是否已发起第一次请求\n            searchAjaxVal: '',\n            searchBox: {\n                searchVal: '',\n                placeholder: '权限名称/申请人名称'\n            }\n        }\n    };\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    data: function data() {\n        return new initData();\n    },\n\n    activated: function activated() {\n        var self = this;\n        Bestone.ui.pageInit({\n            setTitle: '审核记录',\n            reviewCallBack: function reviewCallBack() {\n                Bestone.util.ajax({\n                    url: 'api/PermissionManage/GetRoleApplyExamineList',\n                    data: JSON.stringify({\n                        PageIndex: 1,\n                        PageSize: self.config.pageSize,\n                        Keyword: self.config.searchAjaxVal,\n                        Status: 2\n                    }),\n                    success: function success(ajaxData) {\n                        self.config.isSendFirst = true;\n                        if (ajaxData.data.list.length < self.config.pageSize) {\n                            self.config.isLoadAll = true;\n                        } else {\n                            self.config.isLoadAll = false;\n                        }\n                        self.data.list = ajaxData.data.list || [];\n                    },\n                    complete: function complete() {\n                        self.config.isSendAjax = false;\n                    }\n                });\n            }\n        });\n\n        // 数据滚动加载\n        Bestone.util.scrollRefresh({\n            callback: function callback(height) {\n                if (self.config.isSendFirst && !self.config.isSendAjax && !self.config.isLoadAll) {\n                    self.config.isSendAjax = true;\n                    Bestone.util.ajax({\n                        url: 'api/PermissionManage/GetRoleApplyExamineList',\n                        showLoad: false,\n                        data: JSON.stringify({\n                            PageIndex: self.config.pageIndex + 1,\n                            PageSize: self.config.pageSize,\n                            Keyword: self.config.searchAjaxVal,\n                            Status: 2\n                        }),\n                        success: function success(ajaxData) {\n                            var _self$data$list;\n\n                            if (ajaxData.data.list.length < self.config.pageSize) {\n                                self.config.isLoadAll = true;\n                            }\n                            self.config.pageIndex = ajaxData.data.page; // 更新pageIndex\n                            (_self$data$list = self.data.list).push.apply(_self$data$list, _toConsumableArray(ajaxData.data.list)); // 更新树形数组\n                        },\n                        complete: function complete() {\n                            self.config.isSendAjax = false;\n                        }\n                    });\n                }\n            }\n        });\n    },\n    deactivated: function deactivated() {\n        var self = this;\n        // 回退时清除数据\n        Bestone.util.resetData(function () {\n            self.$data.data = initData().data;\n            self.$data.config = initData().config;\n        });\n    },\n    methods: {\n        // 申请权限、管理范围状态处理\n        textStatusDeal: function textStatusDeal(arr) {\n            return Bestone.util.textStatusDeal(arr);\n        },\n        viewDetail: function viewDetail(item) {\n            var self = this;\n            Bestone.util.vueJump({\n                path: '/applyPermissionAudit/auditRecordDetail',\n                query: {\n                    ApplyId: item.ApplyId\n                }\n            });\n        },\n        // 搜索点击\n        searchClickDeal: function searchClickDeal(str) {\n            var self = this;\n            self.config.isSendAjax = true;\n            Bestone.util.ajax({\n                url: 'api/PermissionManage/GetRoleApplyExamineList',\n                data: JSON.stringify({\n                    PageIndex: 1,\n                    PageSize: self.config.pageSize,\n                    Keyword: str,\n                    Status: 2\n                }),\n                success: function success(ajaxData) {\n                    self.config.searchAjaxVal = str;\n                    self.config.pageIndex = 1;\n                    self.config.isSendFirst = true;\n                    if (ajaxData.data.list.length < self.config.pageSize) {\n                        self.config.isLoadAll = true;\n                    } else {\n                        self.config.isLoadAll = false;\n                    }\n                    self.data.list = ajaxData.data.list || [];\n                },\n                complete: function complete() {\n                    self.config.isSendAjax = false;\n                }\n            });\n        },\n        // 输入框值改变\n        searchValChangeDeal: function searchValChangeDeal(str) {\n            this.config.searchBox.searchVal = str; // 必须，用于父子组件数据双向绑定\n        }\n    }\n});\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// js/28.build.js?7d188e46","exports = module.exports = require(\"../../../node_modules/_css-loader@0.28.7@css-loader/lib/css-base.js\")(undefined);\n// imports\n\n\n// module\nexports.push([module.id, \"#audit-record[data-v-3d158201]{padding-top:10px}#audit-record>.search[data-v-3d158201]{background-color:#fff;padding:10px 15px}#audit-record>.list[data-v-3d158201]{padding:0 10px}#audit-record>.list>ul>li[data-v-3d158201]{position:relative;background-color:#fff;border-radius:5px;padding:10px;margin-top:10px;overflow:hidden;font-size:12px}#audit-record>.list>ul>li>.list-text>p[data-v-3d158201]{padding-right:140px;line-height:20px;color:#404040;height:20px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}#audit-record>.list>ul>li>.list-text>p.long-text[data-v-3d158201]{padding-right:0}#audit-record>.list>ul>li>.icon[data-v-3d158201]{position:absolute;right:100px;top:4px}#audit-record>.list>ul>li>.icon>i[data-v-3d158201]{font-size:36px}#audit-record>.list>ul>li>.icon>i.one[data-v-3d158201]{font-size:48px;line-height:54px;color:#f80}#audit-record>.list>ul>li>.icon>i.two[data-v-3d158201]{color:#1c93e7}#audit-record>.list>ul>li>.icon>i.three[data-v-3d158201]{color:#d81e06}#audit-record>.list>ul>li>.view-detail-btn[data-v-3d158201]{position:absolute;top:15px;right:10px;cursor:pointer;width:73px;height:28px;border:1px solid #38adff;color:#38adff;line-height:28px;text-align:center;border-radius:3px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}#audit-record>.list>ul>li>.view-detail-btn[data-v-3d158201]:active{background-color:#ddd}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_css-loader@0.28.7@css-loader?minimize!./~/_vue-loader@12.2.2@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-3d158201\",\"scoped\":true,\"hasInlineConfig\":true}!./~/_sass-loader@6.0.6@sass-loader/lib/loader.js!./~/_vue-loader@12.2.2@vue-loader/lib/selector.js?type=styles&index=0!./src/component/applyPermissionAudit/auditRecord.vue\n// module id = 127\n// module chunks = 28","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('div', {\n    attrs: {\n      \"id\": \"audit-record\"\n    }\n  }, [_c('div', {\n    staticClass: \"search\"\n  }, [_c('search-box', {\n    attrs: {\n      \"searchVal\": _vm.config.searchBox.searchVal,\n      \"placeholder\": _vm.config.searchBox.placeholder\n    },\n    on: {\n      \"searchClick\": _vm.searchClickDeal,\n      \"searchValChange\": _vm.searchValChangeDeal\n    }\n  })], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"list\"\n  }, [_c('ul', _vm._l((_vm.data.list), function(item, index) {\n    return _c('li', [_c('div', {\n      staticClass: \"list-text\"\n    }, [_c('p', [_vm._v(\"申请人：\" + _vm._s(item.ApplyUserName))]), _vm._v(\" \"), _c('p', [_vm._v(\"权限名称：\" + _vm._s(_vm.textStatusDeal(item.Menu_Name)))]), _vm._v(\" \"), _c('p', [_vm._v(\"管理范围：\" + _vm._s(_vm.textStatusDeal(item.TargetName)))])]), _vm._v(\" \"), _c('div', {\n      staticClass: \"icon\"\n    }, [(item.ApplyStatus == 100 || item.ApplyStatus == 101) ? _c('i', {\n      staticClass: \"iconfont one icon-weitongguo\"\n    }) : _vm._e(), _vm._v(\" \"), (item.ApplyStatus == 200) ? _c('i', {\n      staticClass: \"iconfont two icon-yinzhangshenpitongguo\"\n    }) : _vm._e(), _vm._v(\" \"), (item.ApplyStatus == 300) ? _c('i', {\n      staticClass: \"iconfont three icon-yinzhang-shenpibohui\"\n    }) : _vm._e()]), _vm._v(\" \"), _c('v-touch', {\n      staticClass: \"view-detail-btn\",\n      attrs: {\n        \"tag\": \"div\"\n      },\n      on: {\n        \"pressup\": function($event) {\n          $event.preventDefault();\n          _vm.viewDetail(item, index)\n        },\n        \"tap\": function($event) {\n          $event.preventDefault();\n          _vm.viewDetail(item, index)\n        }\n      }\n    }, [_vm._v(\"查看详细\")])], 1)\n  }))]), _vm._v(\" \"), (_vm.data.list && _vm.data.list.length <= 0) ? _c('div', {\n    staticClass: \"ui no-data\"\n  }, [_vm._v(\"暂无数据\")]) : _vm._e(), _vm._v(\" \"), (_vm.data.list.length > 0) ? _c('div', {\n    staticClass: \"ui ui-scrollRefresh\"\n  }, [(!_vm.config.isLoadAll) ? [_c('i', {\n    staticClass: \"iconfont icon-load\"\n  }), _c('span', [_vm._v(\"加载中\")])] : _vm._e(), _vm._v(\" \"), (_vm.config.isLoadAll) ? [_c('span', [_vm._v(\"没有更多了\")])] : _vm._e()], 2) : _vm._e()])])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-loader@12.2.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-3d158201\",\"hasScoped\":true}!./~/_vue-loader@12.2.2@vue-loader/lib/selector.js?type=template&index=0!./src/component/applyPermissionAudit/auditRecord.vue\n// module id = 160\n// module chunks = 28","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/_css-loader@0.28.7@css-loader/index.js?minimize!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3d158201\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":true}!../../../node_modules/_sass-loader@6.0.6@sass-loader/lib/loader.js!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/selector.js?type=styles&index=0!./auditRecord.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/_vue-style-loader@3.0.1@vue-style-loader/lib/addStylesClient.js\")(\"2654f27f\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-style-loader@3.0.1@vue-style-loader!./~/_css-loader@0.28.7@css-loader?minimize!./~/_vue-loader@12.2.2@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-3d158201\",\"scoped\":true,\"hasInlineConfig\":true}!./~/_sass-loader@6.0.6@sass-loader/lib/loader.js!./~/_vue-loader@12.2.2@vue-loader/lib/selector.js?type=styles&index=0!./src/component/applyPermissionAudit/auditRecord.vue\n// module id = 191\n// module chunks = 28","function injectStyle (ssrContext) {\n  require(\"!!vue-loader/node_modules/vue-style-loader!css-loader?minimize!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3d158201\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":true}!sass-loader!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/selector?type=styles&index=0!./auditRecord.vue\")\n}\nvar Component = require(\"!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/selector?type=script&index=0!./auditRecord.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3d158201\\\",\\\"hasScoped\\\":true}!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/selector?type=template&index=0!./auditRecord.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-3d158201\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/component/applyPermissionAudit/auditRecord.vue\n// module id = 59\n// module chunks = 28","<!-- 审核记录 -->\r\n<template>\r\n    <div>\r\n    <div id=\"audit-record\">\r\n        <div class=\"search\"><search-box :searchVal=\"config.searchBox.searchVal\" :placeholder=\"config.searchBox.placeholder\" @searchClick=\"searchClickDeal\" @searchValChange=\"searchValChangeDeal\"></search-box></div>\r\n        <div class=\"list\">\r\n            <ul>\r\n                <li v-for=\"(item,index) in data.list\">\r\n                    <div class=\"list-text\">\r\n                        <p>申请人：{{item.ApplyUserName}}</p>\r\n                        <p>权限名称：{{textStatusDeal(item.Menu_Name)}}</p>\r\n                        <p>管理范围：{{textStatusDeal(item.TargetName)}}</p>\r\n                    </div>\r\n                    <div class=\"icon\">\r\n                        <i v-if=\"item.ApplyStatus==100 || item.ApplyStatus==101\" class=\"iconfont one icon-weitongguo\"></i>\r\n                        <i v-if=\"item.ApplyStatus==200\" class=\"iconfont two icon-yinzhangshenpitongguo\"></i>\r\n                        <i v-if=\"item.ApplyStatus==300\" class=\"iconfont three icon-yinzhang-shenpibohui\"></i>\r\n                    </div>\r\n                    <v-touch tag=\"div\" class=\"view-detail-btn\" @pressup.prevent=\"viewDetail(item,index)\" @tap.prevent=\"viewDetail(item,index)\">查看详细</v-touch>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n        <div v-if=\"data.list && data.list.length<=0\" class=\"ui no-data\">暂无数据</div>\r\n        <div v-if=\"data.list.length>0\" class=\"ui ui-scrollRefresh\">\r\n            <template v-if=\"!config.isLoadAll\">\r\n                <i class=\"iconfont icon-load\"></i><span>加载中</span>\r\n            </template>\r\n            <template v-if=\"config.isLoadAll\">\r\n                <span>没有更多了</span>\r\n            </template>\r\n        </div>\r\n    </div>\r\n</div>\r\n</template>\r\n\r\n<script scoped>\r\n    var initData = function () {\r\n        return {\r\n            data: {\r\n                list: []\r\n            },\r\n            config: {\r\n                pageIndex: 1,\r\n                pageSize: 10,\r\n                isLoadAll: false, // 是否加载所有数据\r\n                isSendAjax: false, // 是否发起请求\r\n                isSendFirst: false, // 是否已发起第一次请求\r\n                searchAjaxVal: '',\r\n                searchBox: {\r\n                    searchVal: '',\r\n                    placeholder: '权限名称/申请人名称',\r\n                }\r\n            }\r\n        }\r\n    };\r\n    export default {\r\n        data() {\r\n            return new initData()\r\n        },\r\n        activated: function () {\r\n            let self = this;\r\n            Bestone.ui.pageInit({\r\n                setTitle: '审核记录',\r\n                reviewCallBack: function () {\r\n                    Bestone.util.ajax({\r\n                        url: 'api/PermissionManage/GetRoleApplyExamineList',\r\n                        data: JSON.stringify({\r\n                            PageIndex: 1,\r\n                            PageSize: self.config.pageSize,\r\n                            Keyword: self.config.searchAjaxVal,\r\n                            Status: 2\r\n                        }),\r\n                        success: function (ajaxData) {\r\n                            self.config.isSendFirst = true;\r\n                            if(ajaxData.data.list.length<self.config.pageSize) {\r\n                                self.config.isLoadAll = true;\r\n                            }else {\r\n                                self.config.isLoadAll = false;\r\n                            }\r\n                            self.data.list = ajaxData.data.list || [];\r\n                        },\r\n                        complete: function () {\r\n                            self.config.isSendAjax = false;\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n\r\n            // 数据滚动加载\r\n            Bestone.util.scrollRefresh({\r\n                callback: function (height) {\r\n                    if(self.config.isSendFirst && !self.config.isSendAjax && !self.config.isLoadAll) {\r\n                        self.config.isSendAjax = true;\r\n                        Bestone.util.ajax({\r\n                            url: 'api/PermissionManage/GetRoleApplyExamineList',\r\n                            showLoad: false,\r\n                            data: JSON.stringify({\r\n                                PageIndex: self.config.pageIndex + 1,\r\n                                PageSize: self.config.pageSize,\r\n                                Keyword: self.config.searchAjaxVal,\r\n                                Status: 2\r\n                            }),\r\n                            success: function (ajaxData) {\r\n                                if(ajaxData.data.list.length<self.config.pageSize) {\r\n                                    self.config.isLoadAll = true;\r\n                                }\r\n                                self.config.pageIndex = ajaxData.data.page; // 更新pageIndex\r\n                                self.data.list.push(...ajaxData.data.list); // 更新树形数组\r\n                            },\r\n                            complete: function () {\r\n                                self.config.isSendAjax = false;\r\n                            }\r\n                        });\r\n                    }\r\n                }\r\n            })\r\n        },\r\n        deactivated: function () {\r\n            var self = this;\r\n            // 回退时清除数据\r\n            Bestone.util.resetData(function () {\r\n                self.$data.data = initData().data;\r\n                self.$data.config = initData().config;\r\n            });\r\n        },\r\n        methods: {\r\n            // 申请权限、管理范围状态处理\r\n            textStatusDeal: function (arr) {\r\n                return Bestone.util.textStatusDeal(arr);\r\n            },\r\n            viewDetail: function (item) {\r\n                var self = this;\r\n                Bestone.util.vueJump({\r\n                    path: '/applyPermissionAudit/auditRecordDetail',\r\n                    query: {\r\n                        ApplyId: item.ApplyId\r\n                    }\r\n                });\r\n            },\r\n            // 搜索点击\r\n            searchClickDeal: function (str) {\r\n                let self = this;\r\n                self.config.isSendAjax = true;\r\n                Bestone.util.ajax({\r\n                    url: 'api/PermissionManage/GetRoleApplyExamineList',\r\n                    data: JSON.stringify({\r\n                        PageIndex: 1,\r\n                        PageSize: self.config.pageSize,\r\n                        Keyword: str,\r\n                        Status: 2\r\n                    }),\r\n                    success: function (ajaxData) {\r\n                        self.config.searchAjaxVal = str;\r\n                        self.config.pageIndex = 1;\r\n                        self.config.isSendFirst = true;\r\n                        if(ajaxData.data.list.length<self.config.pageSize) {\r\n                            self.config.isLoadAll = true;\r\n                        }else {\r\n                            self.config.isLoadAll = false;\r\n                        }\r\n                        self.data.list = ajaxData.data.list || [];\r\n                    },\r\n                    complete: function () {\r\n                        self.config.isSendAjax = false;\r\n                    }\r\n                });\r\n            },\r\n            // 输入框值改变\r\n            searchValChangeDeal: function (str) {\r\n                this.config.searchBox.searchVal=str; // 必须，用于父子组件数据双向绑定\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n    #audit-record {\r\n        padding-top: 10px;\r\n        & > .search {\r\n            background-color: #fff;\r\n            padding: 10px 15px;\r\n        }\r\n        & > .list {\r\n            padding: 0px 10px;\r\n            & > ul {\r\n                & > li {\r\n                    position: relative;\r\n                    background-color: #fff;\r\n                    border-radius: 5px;\r\n                    padding: 10px;\r\n                    margin-top: 10px;\r\n                    overflow: hidden;\r\n                    font-size: 12px;\r\n                    & > .list-text {\r\n                        & > p {\r\n                            padding-right: 140px;\r\n                            line-height: 20px;\r\n                            color: #404040;\r\n                            height: 20px;\r\n                            overflow: hidden;\r\n                            white-space: nowrap;\r\n                            text-overflow: ellipsis;\r\n                            &.long-text {\r\n                                padding-right: 0px;\r\n                            }\r\n                        }\r\n                    }\r\n                    & > .icon {\r\n                        position: absolute;\r\n                        right: 100px;\r\n                        top: 4px;\r\n                        & > i {\r\n                            font-size: 36px;\r\n                            &.one {\r\n                                font-size: 48px;\r\n                                line-height: 54px;\r\n                                color: #FF8800;\r\n                            }\r\n                            &.two {\r\n                                color: #1C93E7;\r\n                            }\r\n                            &.three {\r\n                                color: #D81E06;\r\n                            }\r\n                        }\r\n                    }\r\n                    & > .view-detail-btn {\r\n                        position: absolute;\r\n                        top: 15px;\r\n                        right: 10px;\r\n                        cursor: pointer;\r\n                        width: 73px;\r\n                        height: 28px;\r\n                        border: solid 1px #38ADFF;\r\n                        color: #38ADFF;\r\n                        line-height: 28px;\r\n                        text-align: center;\r\n                        border-radius: 3px;\r\n                        user-select: none;\r\n                        &:active {\r\n                            background-color: #ddd;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n</style>\n\n\n// WEBPACK FOOTER //\n// auditRecord.vue?fb36acac"],"sourceRoot":""}