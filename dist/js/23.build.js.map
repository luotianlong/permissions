{"version":3,"sources":["webpack:///js/23.build.js","webpack:///./src/component/applyRecord/applyRecord.vue?865c","webpack:///./src/component/applyRecord/applyRecord.vue?6b26","webpack:///./src/component/applyRecord/applyRecord.vue?7fa1","webpack:///./src/component/applyRecord/applyRecord.vue","webpack:///applyRecord.vue"],"names":["webpackJsonp","143","module","exports","__webpack_require__","undefined","push","i","176","render","_vm","this","_h","$createElement","_c","_self","attrs","id","staticClass","searchVal","config","searchBox","placeholder","on","searchClick","searchClickDeal","searchValChange","searchValChangeDeal","_v","_l","data","item","index","_s","textStatusDeal","RoleName","RoleBranch","ProxyAccount","length","_e","ProxyUser","ApplyStatus","tag","pressup","$event","preventDefault","viewDetail","tap","list","isLoadAll","staticRenderFns","207","content","locals","64","injectStyle","ssrContext","Component","95","__webpack_exports__","_toConsumableArray","arr","Array","isArray","arr2","from","Object","defineProperty","value","initData","pageIndex","pageSize","isSendAjax","isSendFirst","searchAjaxVal","activated","self","Bestone","ui","pageInit","setTitle","reviewCallBack","util","ajax","url","JSON","stringify","PageIndex","PageSize","Key","success","ajaxData","complete","scrollRefresh","callback","height","showLoad","_self$data$list","page","apply","deactivated","resetData","methods","vueJump","path","query","ApplyId","str","console","log"],"mappings":"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","file":"js/23.build.js?225f2e65","sourcesContent":["webpackJsonp([23],{\n\n/***/ 143:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(0)(undefined);\n// imports\n\n\n// module\nexports.push([module.i, \"#apply-record[data-v-8b1efece]{padding-top:10px}#apply-record>.search[data-v-8b1efece]{background-color:#fff;padding:10px 15px}#apply-record>.list[data-v-8b1efece]{padding:0 10px}#apply-record>.list>ul>li[data-v-8b1efece]{position:relative;background-color:#fff;border-radius:5px;padding:10px;margin-top:10px;overflow:hidden;font-size:12px}#apply-record>.list>ul>li>.list-text>p[data-v-8b1efece]{padding-right:140px;line-height:20px;color:#404040;height:20px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}#apply-record>.list>ul>li>.list-text>p.long-text[data-v-8b1efece]{padding-right:0}#apply-record>.list>ul>li>.icon[data-v-8b1efece]{position:absolute;right:100px;top:4px}#apply-record>.list>ul>li>.icon>i[data-v-8b1efece]{font-size:36px}#apply-record>.list>ul>li>.icon>i.one[data-v-8b1efece]{font-size:48px;line-height:54px;color:#f80}#apply-record>.list>ul>li>.icon>i.two[data-v-8b1efece]{color:#1c93e7}#apply-record>.list>ul>li>.icon>i.three[data-v-8b1efece]{color:#d81e06}#apply-record>.list>ul>li>.view-detail-btn[data-v-8b1efece]{position:absolute;top:15px;right:10px;cursor:pointer;width:73px;height:28px;border:1px solid #38adff;color:#38adff;line-height:28px;text-align:center;border-radius:3px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}#apply-record>.list>ul>li>.view-detail-btn[data-v-8b1efece]:active{background-color:#ddd}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 176:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('div', {\n    attrs: {\n      \"id\": \"apply-record\"\n    }\n  }, [_c('div', {\n    staticClass: \"search\"\n  }, [_c('search-box', {\n    attrs: {\n      \"searchVal\": _vm.config.searchBox.searchVal,\n      \"placeholder\": _vm.config.searchBox.placeholder\n    },\n    on: {\n      \"searchClick\": _vm.searchClickDeal,\n      \"searchValChange\": _vm.searchValChangeDeal\n    }\n  })], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"ui ui-title\"\n  }, [_vm._v(\"我的权限申请记录\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"list\"\n  }, [_c('ul', _vm._l((_vm.data.list), function(item, index) {\n    return _c('li', [_c('div', {\n      staticClass: \"list-text\"\n    }, [_c('p', [_vm._v(\"权限名称：\" + _vm._s(_vm.textStatusDeal(item.RoleName)))]), _vm._v(\" \"), _c('p', [_vm._v(\"管理范围：\" + _vm._s(_vm.textStatusDeal(item.RoleBranch)))]), _vm._v(\" \"), (!!item.ProxyAccount && item.ProxyAccount.length > 0 && false) ? _c('p', {\n      staticClass: \"long-text\"\n    }, [_vm._v(\"申请人账号：\" + _vm._s(item.ProxyAccount))]) : _vm._e(), _vm._v(\" \"), (!!item.ProxyUser && item.ProxyUser.length > 0) ? _c('p', {\n      staticClass: \"long-text\"\n    }, [_vm._v(\"申请人姓名：\" + _vm._s(item.ProxyUser))]) : _vm._e()]), _vm._v(\" \"), _c('div', {\n      staticClass: \"icon\"\n    }, [(item.ApplyStatus == 100 || item.ApplyStatus == 101) ? _c('i', {\n      staticClass: \"iconfont one icon-weitongguo\"\n    }) : _vm._e(), _vm._v(\" \"), (item.ApplyStatus == 200) ? _c('i', {\n      staticClass: \"iconfont two icon-yinzhangshenpitongguo\"\n    }) : _vm._e(), _vm._v(\" \"), (item.ApplyStatus == 300) ? _c('i', {\n      staticClass: \"iconfont three icon-yinzhang-shenpibohui\"\n    }) : _vm._e()]), _vm._v(\" \"), _c('v-touch', {\n      staticClass: \"view-detail-btn\",\n      attrs: {\n        \"tag\": \"div\"\n      },\n      on: {\n        \"pressup\": function($event) {\n          $event.preventDefault();\n          _vm.viewDetail(item, index)\n        },\n        \"tap\": function($event) {\n          $event.preventDefault();\n          _vm.viewDetail(item, index)\n        }\n      }\n    }, [_vm._v(\"查看详细\")])], 1)\n  }))]), _vm._v(\" \"), (_vm.data.list && _vm.data.list.length <= 0) ? _c('div', {\n    staticClass: \"ui no-data\"\n  }, [_vm._v(\"暂无数据\")]) : _vm._e(), _vm._v(\" \"), (_vm.data.list.length > 0) ? _c('div', {\n    staticClass: \"ui ui-scrollRefresh\"\n  }, [(!_vm.config.isLoadAll) ? [_c('i', {\n    staticClass: \"iconfont icon-load\"\n  }), _c('span', [_vm._v(\"加载中\")])] : _vm._e(), _vm._v(\" \"), (_vm.config.isLoadAll) ? [_c('span', [_vm._v(\"没有更多了\")])] : _vm._e()], 2) : _vm._e()])])\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 207:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(143);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(2)(\"3b69dd3b\", content, true);\n\n/***/ }),\n\n/***/ 64:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(207)\n}\nvar Component = __webpack_require__(1)(\n  /* script */\n  __webpack_require__(95),\n  /* template */\n  __webpack_require__(176),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-8b1efece\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 95:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nvar initData = function initData() {\n    return {\n        data: {\n            list: []\n        },\n        config: {\n            pageIndex: 1,\n            pageSize: 15,\n            isLoadAll: false, // 是否加载所有数据\n            isSendAjax: false, // 是否发起请求\n            isSendFirst: false, // 是否已发起第一次请求\n            searchAjaxVal: '',\n            searchBox: {\n                searchVal: '',\n                placeholder: '权限名称'\n            }\n        }\n    };\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    data: function data() {\n        return new initData();\n    },\n\n    activated: function activated() {\n        var self = this;\n        Bestone.ui.pageInit({\n            setTitle: '申请记录',\n            reviewCallBack: function reviewCallBack() {\n                // 获取所有权限部门\n                self.config.isSendAjax = true;\n                Bestone.util.ajax({\n                    url: 'api/PermissionManage/GetApplyPage',\n                    data: JSON.stringify({\n                        PageIndex: 1,\n                        PageSize: self.config.pageSize,\n                        Key: self.config.searchAjaxVal\n                    }),\n                    success: function success(ajaxData) {\n                        self.config.isSendFirst = true;\n                        if (ajaxData.data.list.length < self.config.pageSize) {\n                            self.config.isLoadAll = true;\n                        } else {\n                            self.config.isLoadAll = false;\n                        }\n                        self.data.list = ajaxData.data.list || [];\n                    },\n                    complete: function complete() {\n                        self.config.isSendAjax = false;\n                    }\n                });\n            }\n        });\n\n        // 数据滚动加载\n        Bestone.util.scrollRefresh({\n            callback: function callback(height) {\n                if (self.config.isSendFirst && !self.config.isSendAjax && !self.config.isLoadAll) {\n                    self.config.isSendAjax = true;\n                    Bestone.util.ajax({\n                        url: 'api/PermissionManage/GetApplyPage',\n                        showLoad: false,\n                        data: JSON.stringify({\n                            PageIndex: self.config.pageIndex + 1,\n                            PageSize: self.config.pageSize,\n                            Key: self.config.searchAjaxVal\n                        }),\n                        success: function success(ajaxData) {\n                            var _self$data$list;\n\n                            if (ajaxData.data.list.length < self.config.pageSize) {\n                                self.config.isLoadAll = true;\n                            }\n                            self.config.pageIndex = ajaxData.data.page; // 更新pageIndex\n                            (_self$data$list = self.data.list).push.apply(_self$data$list, _toConsumableArray(ajaxData.data.list)); // 更新树形数组\n                        },\n                        complete: function complete() {\n                            self.config.isSendAjax = false;\n                        }\n                    });\n                }\n            }\n        });\n    },\n    deactivated: function deactivated() {\n        var self = this;\n        // 回退时清除数据\n        Bestone.util.resetData(function () {\n            self.data = initData().data;\n            self.config = initData().config;\n        });\n    },\n    methods: {\n        // 申请权限、管理范围状态处理\n        textStatusDeal: function textStatusDeal(arr) {\n            return Bestone.util.textStatusDeal(arr);\n        },\n        viewDetail: function viewDetail(item) {\n            var self = this;\n            Bestone.util.vueJump({\n                path: '/applyRecord/applyRecordDetail',\n                query: {\n                    ApplyId: item.ApplyId\n                }\n            });\n        },\n        // 搜索点击\n        searchClickDeal: function searchClickDeal(str) {\n            var self = this;\n            self.config.isSendAjax = true;\n            Bestone.util.ajax({\n                url: 'api/PermissionManage/GetApplyPage',\n                data: JSON.stringify({\n                    PageIndex: 1,\n                    PageSize: self.config.pageSize,\n                    Key: str\n                }),\n                success: function success(ajaxData) {\n                    self.config.searchAjaxVal = str;\n                    self.config.pageIndex = 1;\n                    self.config.isSendFirst = true;\n                    if (ajaxData.data.list.length < self.config.pageSize) {\n                        self.config.isLoadAll = true;\n                    } else {\n                        self.config.isLoadAll = false;\n                    }\n                    self.data.list = ajaxData.data.list || [];\n                },\n                complete: function complete() {\n                    self.config.isSendAjax = false;\n                }\n            });\n        },\n        // 输入框值改变\n        searchValChangeDeal: function searchValChangeDeal(str) {\n            this.config.searchBox.searchVal = str; // 必须，用于父子组件数据双向绑定\n            console.log(str);\n        }\n    }\n});\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// js/23.build.js?225f2e65","exports = module.exports = require(\"../../../node_modules/_css-loader@0.28.7@css-loader/lib/css-base.js\")(undefined);\n// imports\n\n\n// module\nexports.push([module.id, \"#apply-record[data-v-8b1efece]{padding-top:10px}#apply-record>.search[data-v-8b1efece]{background-color:#fff;padding:10px 15px}#apply-record>.list[data-v-8b1efece]{padding:0 10px}#apply-record>.list>ul>li[data-v-8b1efece]{position:relative;background-color:#fff;border-radius:5px;padding:10px;margin-top:10px;overflow:hidden;font-size:12px}#apply-record>.list>ul>li>.list-text>p[data-v-8b1efece]{padding-right:140px;line-height:20px;color:#404040;height:20px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}#apply-record>.list>ul>li>.list-text>p.long-text[data-v-8b1efece]{padding-right:0}#apply-record>.list>ul>li>.icon[data-v-8b1efece]{position:absolute;right:100px;top:4px}#apply-record>.list>ul>li>.icon>i[data-v-8b1efece]{font-size:36px}#apply-record>.list>ul>li>.icon>i.one[data-v-8b1efece]{font-size:48px;line-height:54px;color:#f80}#apply-record>.list>ul>li>.icon>i.two[data-v-8b1efece]{color:#1c93e7}#apply-record>.list>ul>li>.icon>i.three[data-v-8b1efece]{color:#d81e06}#apply-record>.list>ul>li>.view-detail-btn[data-v-8b1efece]{position:absolute;top:15px;right:10px;cursor:pointer;width:73px;height:28px;border:1px solid #38adff;color:#38adff;line-height:28px;text-align:center;border-radius:3px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}#apply-record>.list>ul>li>.view-detail-btn[data-v-8b1efece]:active{background-color:#ddd}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_css-loader@0.28.7@css-loader?minimize!./~/_vue-loader@12.2.2@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-8b1efece\",\"scoped\":true,\"hasInlineConfig\":true}!./~/_sass-loader@6.0.6@sass-loader/lib/loader.js!./~/_vue-loader@12.2.2@vue-loader/lib/selector.js?type=styles&index=0!./src/component/applyRecord/applyRecord.vue\n// module id = 143\n// module chunks = 23","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('div', {\n    attrs: {\n      \"id\": \"apply-record\"\n    }\n  }, [_c('div', {\n    staticClass: \"search\"\n  }, [_c('search-box', {\n    attrs: {\n      \"searchVal\": _vm.config.searchBox.searchVal,\n      \"placeholder\": _vm.config.searchBox.placeholder\n    },\n    on: {\n      \"searchClick\": _vm.searchClickDeal,\n      \"searchValChange\": _vm.searchValChangeDeal\n    }\n  })], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"ui ui-title\"\n  }, [_vm._v(\"我的权限申请记录\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"list\"\n  }, [_c('ul', _vm._l((_vm.data.list), function(item, index) {\n    return _c('li', [_c('div', {\n      staticClass: \"list-text\"\n    }, [_c('p', [_vm._v(\"权限名称：\" + _vm._s(_vm.textStatusDeal(item.RoleName)))]), _vm._v(\" \"), _c('p', [_vm._v(\"管理范围：\" + _vm._s(_vm.textStatusDeal(item.RoleBranch)))]), _vm._v(\" \"), (!!item.ProxyAccount && item.ProxyAccount.length > 0 && false) ? _c('p', {\n      staticClass: \"long-text\"\n    }, [_vm._v(\"申请人账号：\" + _vm._s(item.ProxyAccount))]) : _vm._e(), _vm._v(\" \"), (!!item.ProxyUser && item.ProxyUser.length > 0) ? _c('p', {\n      staticClass: \"long-text\"\n    }, [_vm._v(\"申请人姓名：\" + _vm._s(item.ProxyUser))]) : _vm._e()]), _vm._v(\" \"), _c('div', {\n      staticClass: \"icon\"\n    }, [(item.ApplyStatus == 100 || item.ApplyStatus == 101) ? _c('i', {\n      staticClass: \"iconfont one icon-weitongguo\"\n    }) : _vm._e(), _vm._v(\" \"), (item.ApplyStatus == 200) ? _c('i', {\n      staticClass: \"iconfont two icon-yinzhangshenpitongguo\"\n    }) : _vm._e(), _vm._v(\" \"), (item.ApplyStatus == 300) ? _c('i', {\n      staticClass: \"iconfont three icon-yinzhang-shenpibohui\"\n    }) : _vm._e()]), _vm._v(\" \"), _c('v-touch', {\n      staticClass: \"view-detail-btn\",\n      attrs: {\n        \"tag\": \"div\"\n      },\n      on: {\n        \"pressup\": function($event) {\n          $event.preventDefault();\n          _vm.viewDetail(item, index)\n        },\n        \"tap\": function($event) {\n          $event.preventDefault();\n          _vm.viewDetail(item, index)\n        }\n      }\n    }, [_vm._v(\"查看详细\")])], 1)\n  }))]), _vm._v(\" \"), (_vm.data.list && _vm.data.list.length <= 0) ? _c('div', {\n    staticClass: \"ui no-data\"\n  }, [_vm._v(\"暂无数据\")]) : _vm._e(), _vm._v(\" \"), (_vm.data.list.length > 0) ? _c('div', {\n    staticClass: \"ui ui-scrollRefresh\"\n  }, [(!_vm.config.isLoadAll) ? [_c('i', {\n    staticClass: \"iconfont icon-load\"\n  }), _c('span', [_vm._v(\"加载中\")])] : _vm._e(), _vm._v(\" \"), (_vm.config.isLoadAll) ? [_c('span', [_vm._v(\"没有更多了\")])] : _vm._e()], 2) : _vm._e()])])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-loader@12.2.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-8b1efece\",\"hasScoped\":true}!./~/_vue-loader@12.2.2@vue-loader/lib/selector.js?type=template&index=0!./src/component/applyRecord/applyRecord.vue\n// module id = 176\n// module chunks = 23","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/_css-loader@0.28.7@css-loader/index.js?minimize!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-8b1efece\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":true}!../../../node_modules/_sass-loader@6.0.6@sass-loader/lib/loader.js!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/selector.js?type=styles&index=0!./applyRecord.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/_vue-style-loader@3.0.1@vue-style-loader/lib/addStylesClient.js\")(\"3b69dd3b\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-style-loader@3.0.1@vue-style-loader!./~/_css-loader@0.28.7@css-loader?minimize!./~/_vue-loader@12.2.2@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-8b1efece\",\"scoped\":true,\"hasInlineConfig\":true}!./~/_sass-loader@6.0.6@sass-loader/lib/loader.js!./~/_vue-loader@12.2.2@vue-loader/lib/selector.js?type=styles&index=0!./src/component/applyRecord/applyRecord.vue\n// module id = 207\n// module chunks = 23","function injectStyle (ssrContext) {\n  require(\"!!vue-loader/node_modules/vue-style-loader!css-loader?minimize!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-8b1efece\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":true}!sass-loader!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/selector?type=styles&index=0!./applyRecord.vue\")\n}\nvar Component = require(\"!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/selector?type=script&index=0!./applyRecord.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-8b1efece\\\",\\\"hasScoped\\\":true}!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/selector?type=template&index=0!./applyRecord.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-8b1efece\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/component/applyRecord/applyRecord.vue\n// module id = 64\n// module chunks = 23","<!-- 申请记录 -->\r\n<template>\r\n    <div>\r\n    <div id=\"apply-record\">\r\n        <div class=\"search\"><search-box :searchVal=\"config.searchBox.searchVal\" :placeholder=\"config.searchBox.placeholder\" @searchClick=\"searchClickDeal\" @searchValChange=\"searchValChangeDeal\"></search-box></div>\r\n        <div class=\"ui ui-title\">我的权限申请记录</div>\r\n        <div class=\"list\">\r\n            <ul>\r\n                <li v-for=\"(item,index) in data.list\">\r\n                    <div class=\"list-text\">\r\n                        <p>权限名称：{{textStatusDeal(item.RoleName)}}</p>\r\n                        <p>管理范围：{{textStatusDeal(item.RoleBranch)}}</p>\r\n                        <!-- 不展示申请账号 -->\r\n                        <p class=\"long-text\" v-if=\"!!item.ProxyAccount && item.ProxyAccount.length>0 && false\">申请人账号：{{item.ProxyAccount}}</p>\r\n                        <p class=\"long-text\" v-if=\"!!item.ProxyUser && item.ProxyUser.length>0\">申请人姓名：{{item.ProxyUser}}</p>\r\n                    </div>\r\n                    <div class=\"icon\">\r\n                        <i v-if=\"item.ApplyStatus==100 || item.ApplyStatus==101\" class=\"iconfont one icon-weitongguo\"></i>\r\n                        <i v-if=\"item.ApplyStatus==200\" class=\"iconfont two icon-yinzhangshenpitongguo\"></i>\r\n                        <i v-if=\"item.ApplyStatus==300\" class=\"iconfont three icon-yinzhang-shenpibohui\"></i>\r\n                    </div>\r\n                    <v-touch tag=\"div\" class=\"view-detail-btn\" @pressup.prevent=\"viewDetail(item,index)\" @tap.prevent=\"viewDetail(item,index)\">查看详细</v-touch>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n        <div v-if=\"data.list && data.list.length<=0\" class=\"ui no-data\">暂无数据</div>\r\n        <div v-if=\"data.list.length>0\" class=\"ui ui-scrollRefresh\">\r\n            <template v-if=\"!config.isLoadAll\">\r\n                <i class=\"iconfont icon-load\"></i><span>加载中</span>\r\n            </template>\r\n            <template v-if=\"config.isLoadAll\">\r\n                <span>没有更多了</span>\r\n            </template>\r\n        </div>\r\n    </div>\r\n</div>\r\n</template>\r\n\r\n<script scoped>\r\n    var initData = function () {\r\n        return {\r\n            data: {\r\n                list: []\r\n            },\r\n            config: {\r\n                pageIndex: 1,\r\n                pageSize: 15,\r\n                isLoadAll: false, // 是否加载所有数据\r\n                isSendAjax: false, // 是否发起请求\r\n                isSendFirst: false, // 是否已发起第一次请求\r\n                searchAjaxVal: '',\r\n                searchBox: {\r\n                    searchVal: '',\r\n                    placeholder: '权限名称',\r\n                }\r\n            }\r\n        }\r\n    };\r\n    export default {\r\n        data() {\r\n            return new initData()\r\n        },\r\n        activated: function () {\r\n            let self = this;\r\n            Bestone.ui.pageInit({\r\n                setTitle: '申请记录',\r\n                reviewCallBack: function () {\r\n                    // 获取所有权限部门\r\n                    self.config.isSendAjax = true;\r\n                    Bestone.util.ajax({\r\n                        url: 'api/PermissionManage/GetApplyPage',\r\n                        data: JSON.stringify({\r\n                            PageIndex: 1,\r\n                            PageSize: self.config.pageSize,\r\n                            Key: self.config.searchAjaxVal\r\n                        }),\r\n                        success: function (ajaxData) {\r\n                            self.config.isSendFirst = true;\r\n                            if(ajaxData.data.list.length<self.config.pageSize) {\r\n                                self.config.isLoadAll = true;\r\n                            }else {\r\n                                self.config.isLoadAll = false;\r\n                            }\r\n                            self.data.list = ajaxData.data.list || [];\r\n                        },\r\n                        complete: function () {\r\n                            self.config.isSendAjax = false;\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n\r\n            // 数据滚动加载\r\n            Bestone.util.scrollRefresh({\r\n                callback: function (height) {\r\n                    if(self.config.isSendFirst && !self.config.isSendAjax && !self.config.isLoadAll) {\r\n                        self.config.isSendAjax = true;\r\n                        Bestone.util.ajax({\r\n                            url: 'api/PermissionManage/GetApplyPage',\r\n                            showLoad: false,\r\n                            data: JSON.stringify({\r\n                                PageIndex: self.config.pageIndex + 1,\r\n                                PageSize: self.config.pageSize,\r\n                                Key: self.config.searchAjaxVal\r\n                            }),\r\n                            success: function (ajaxData) {\r\n                                if(ajaxData.data.list.length<self.config.pageSize) {\r\n                                    self.config.isLoadAll = true;\r\n                                }\r\n                                self.config.pageIndex = ajaxData.data.page; // 更新pageIndex\r\n                                self.data.list.push(...ajaxData.data.list); // 更新树形数组\r\n                            },\r\n                            complete: function () {\r\n                                self.config.isSendAjax = false;\r\n                            }\r\n                        });\r\n                    }\r\n                }\r\n            })\r\n        },\r\n        deactivated: function () {\r\n            var self = this;\r\n            // 回退时清除数据\r\n            Bestone.util.resetData(function () {\r\n                self.data = initData().data;\r\n                self.config = initData().config;\r\n            });\r\n        },\r\n        methods: {\r\n            // 申请权限、管理范围状态处理\r\n            textStatusDeal: function (arr) {\r\n                return Bestone.util.textStatusDeal(arr);\r\n            },\r\n            viewDetail: function (item) {\r\n                var self = this;\r\n                Bestone.util.vueJump({\r\n                    path: '/applyRecord/applyRecordDetail',\r\n                    query: {\r\n                        ApplyId: item.ApplyId\r\n                    }\r\n                });\r\n            },\r\n            // 搜索点击\r\n            searchClickDeal: function (str) {\r\n                let self = this;\r\n                self.config.isSendAjax = true;\r\n                Bestone.util.ajax({\r\n                    url: 'api/PermissionManage/GetApplyPage',\r\n                    data: JSON.stringify({\r\n                        PageIndex: 1,\r\n                        PageSize: self.config.pageSize,\r\n                        Key: str\r\n                    }),\r\n                    success: function (ajaxData) {\r\n                        self.config.searchAjaxVal = str;\r\n                        self.config.pageIndex = 1;\r\n                        self.config.isSendFirst = true;\r\n                        if(ajaxData.data.list.length<self.config.pageSize) {\r\n                            self.config.isLoadAll = true;\r\n                        }else {\r\n                            self.config.isLoadAll = false;\r\n                        }\r\n                        self.data.list = ajaxData.data.list || [];\r\n                    },\r\n                    complete: function () {\r\n                        self.config.isSendAjax = false;\r\n                    }\r\n                });\r\n            },\r\n            // 输入框值改变\r\n            searchValChangeDeal: function (str) {\r\n                this.config.searchBox.searchVal=str; // 必须，用于父子组件数据双向绑定\r\n                console.log(str);\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n    #apply-record {\r\n        padding-top: 10px;\r\n        & > .search {\r\n            background-color: #fff;\r\n            padding: 10px 15px;\r\n        }\r\n        & > .list {\r\n            padding: 0px 10px;\r\n            & > ul {\r\n                & > li {\r\n                    position: relative;\r\n                    background-color: #fff;\r\n                    border-radius: 5px;\r\n                    padding: 10px;\r\n                    margin-top: 10px;\r\n                    overflow: hidden;\r\n                    font-size: 12px;\r\n                    & > .list-text {\r\n                        & > p {\r\n                            padding-right: 140px;\r\n                            line-height: 20px;\r\n                            color: #404040;\r\n                            height: 20px;\r\n                            overflow: hidden;\r\n                            white-space: nowrap;\r\n                            text-overflow: ellipsis;\r\n                            &.long-text {\r\n                                padding-right: 0px;\r\n                            }\r\n                        }\r\n                    }\r\n                    & > .icon {\r\n                        position: absolute;\r\n                        right: 100px;\r\n                        top: 4px;\r\n                        & > i {\r\n                            font-size: 36px;\r\n                            &.one {\r\n                                font-size: 48px;\r\n                                line-height: 54px;\r\n                                color: #FF8800;\r\n                            }\r\n                            &.two {\r\n                                color: #1C93E7;\r\n                            }\r\n                            &.three {\r\n                                color: #D81E06;\r\n                            }\r\n                        }\r\n                    }\r\n                    & > .view-detail-btn {\r\n                        position: absolute;\r\n                        top: 15px;\r\n                        right: 10px;\r\n                        cursor: pointer;\r\n                        width: 73px;\r\n                        height: 28px;\r\n                        border: solid 1px #38ADFF;\r\n                        color: #38ADFF;\r\n                        line-height: 28px;\r\n                        text-align: center;\r\n                        border-radius: 3px;\r\n                        user-select: none;\r\n                        &:active {\r\n                            background-color: #ddd;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n</style>\n\n\n// WEBPACK FOOTER //\n// applyRecord.vue?8ca2ffbc"],"sourceRoot":""}