{"version":3,"sources":["webpack:///js/30.build.js","webpack:///./src/component/applyPermissionAudit/applyPermissionAudit.vue?9d62","webpack:///./src/component/applyPermissionAudit/applyPermissionAudit.vue?6507","webpack:///./src/component/applyPermissionAudit/applyPermissionAudit.vue?d4ac","webpack:///./src/component/applyPermissionAudit/applyPermissionAudit.vue","webpack:///applyPermissionAudit.vue"],"names":["webpackJsonp","136","module","exports","__webpack_require__","undefined","push","i","169","render","_vm","this","_h","$createElement","_c","_self","attrs","id","staticClass","searchVal","config","searchBox","placeholder","on","searchClick","searchClickDeal","searchValChange","searchValChangeDeal","_v","data","list","length","tag","pressup","$event","preventDefault","auditRecord","tap","_l","item","index","_s","ApplyUserName","textStatusDeal","Menu_Name","TargetName","audit","_e","isLoadAll","staticRenderFns","200","content","locals","57","injectStyle","ssrContext","Component","88","__webpack_exports__","_toConsumableArray","arr","Array","isArray","arr2","from","Object","defineProperty","value","initData","pageIndex","pageSize","isSendAjax","isSendFirst","searchAjaxVal","activated","self","Bestone","ui","pageInit","setTitle","reviewCallBack","util","ajax","url","JSON","stringify","PageIndex","PageSize","Keyword","Status","success","ajaxData","complete","scrollRefresh","callback","height","showLoad","_self$data$list","page","apply","deactivated","resetData","methods","vueJump","path","query","ApplyId","str"],"mappings":"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","file":"js/30.build.js?50530560","sourcesContent":["webpackJsonp([30],{\n\n/***/ 136:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(0)(undefined);\n// imports\n\n\n// module\nexports.push([module.i, \"#apply-permission-audit[data-v-61adc4d9]{padding-top:10px}#apply-permission-audit>.search[data-v-61adc4d9]{background-color:#fff;padding:10px 15px}#apply-permission-audit>.list[data-v-61adc4d9]{padding:0 10px}#apply-permission-audit>.list>ul>li[data-v-61adc4d9]{position:relative;background-color:#fff;border-radius:5px;padding:10px 95px 10px 10px;margin-top:10px;overflow:hidden;font-size:12px}#apply-permission-audit>.list>ul>li>.list-text>p[data-v-61adc4d9]{line-height:20px;color:#404040;height:20px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}#apply-permission-audit>.list>ul>li>.audit-btn[data-v-61adc4d9]{position:absolute;top:15px;right:10px;cursor:pointer;width:60px;height:28px;border:1px solid #38adff;color:#38adff;line-height:28px;text-align:center;border-radius:3px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}#apply-permission-audit>.list>ul>li>.audit-btn[data-v-61adc4d9]:active{background-color:#ddd}#apply-permission-audit>.no-data[data-v-61adc4d9]{color:#999;font-size:12px;line-height:20px;text-align:center;margin-top:50px;padding:0 20px}#apply-permission-audit>.no-data>span[data-v-61adc4d9]{color:#38adff}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 169:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('div', {\n    attrs: {\n      \"id\": \"apply-permission-audit\"\n    }\n  }, [_c('div', {\n    staticClass: \"search\"\n  }, [_c('search-box', {\n    attrs: {\n      \"searchVal\": _vm.config.searchBox.searchVal,\n      \"placeholder\": _vm.config.searchBox.placeholder\n    },\n    on: {\n      \"searchClick\": _vm.searchClickDeal,\n      \"searchValChange\": _vm.searchValChangeDeal\n    }\n  })], 1), _vm._v(\" \"), (_vm.data.list && _vm.data.list.length > 0) ? [_c('div', {\n    staticClass: \"ui ui-title\"\n  }, [_c('p', {\n    staticClass: \"omit\"\n  }, [_vm._v(\"你的等待审核权限申请\")]), _vm._v(\" \"), _c('v-touch', {\n    staticClass: \"right-btn\",\n    attrs: {\n      \"tag\": \"a\"\n    },\n    on: {\n      \"pressup\": function($event) {\n        $event.preventDefault();\n        _vm.auditRecord($event)\n      },\n      \"tap\": function($event) {\n        $event.preventDefault();\n        _vm.auditRecord($event)\n      }\n    }\n  }, [_vm._v(\"审核记录\"), _c('i', {\n    staticClass: \"iconfont icon-you\"\n  })])], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"list\"\n  }, [_c('ul', _vm._l((_vm.data.list), function(item, index) {\n    return _c('li', [_c('div', {\n      staticClass: \"list-text\"\n    }, [_c('p', [_vm._v(\"申请人：\" + _vm._s(item.ApplyUserName))]), _vm._v(\" \"), _c('p', [_vm._v(\"权限名称：\" + _vm._s(_vm.textStatusDeal(item.Menu_Name)))]), _vm._v(\" \"), _c('p', [_vm._v(\"管理范围：\" + _vm._s(_vm.textStatusDeal(item.TargetName)))])]), _vm._v(\" \"), _c('v-touch', {\n      staticClass: \"audit-btn\",\n      attrs: {\n        \"tag\": \"div\"\n      },\n      on: {\n        \"pressup\": function($event) {\n          $event.preventDefault();\n          _vm.audit(item, index)\n        },\n        \"tap\": function($event) {\n          $event.preventDefault();\n          _vm.audit(item, index)\n        }\n      }\n    }, [_vm._v(\"审核\")])], 1)\n  }))])] : _vm._e(), _vm._v(\" \"), (_vm.data.list && _vm.data.list.length <= 0) ? _c('div', {\n    staticClass: \"no-data\"\n  }, [_vm._v(\"你没有待审核权限申请\")]) : _vm._e(), _vm._v(\" \"), (_vm.data.list.length > 0) ? _c('div', {\n    staticClass: \"ui ui-scrollRefresh\"\n  }, [(!_vm.config.isLoadAll) ? [_c('i', {\n    staticClass: \"iconfont icon-load\"\n  }), _c('span', [_vm._v(\"加载中\")])] : _vm._e(), _vm._v(\" \"), (_vm.config.isLoadAll) ? [_c('span', [_vm._v(\"没有更多了\")])] : _vm._e()], 2) : _vm._e(), _vm._v(\" \"), (false) ? _c('div', {\n    staticClass: \"ui ui-bottom-btn\"\n  }, [_c('v-touch', {\n    staticClass: \"btn\",\n    attrs: {\n      \"tag\": \"div\"\n    },\n    on: {\n      \"pressup\": function($event) {\n        $event.preventDefault();\n        _vm.auditRecord($event)\n      },\n      \"tap\": function($event) {\n        $event.preventDefault();\n        _vm.auditRecord($event)\n      }\n    }\n  }, [_vm._v(\"审核记录\")])], 1) : _vm._e()], 2)])\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 200:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(136);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(2)(\"61f23b12\", content, true);\n\n/***/ }),\n\n/***/ 57:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(200)\n}\nvar Component = __webpack_require__(1)(\n  /* script */\n  __webpack_require__(88),\n  /* template */\n  __webpack_require__(169),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-61adc4d9\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 88:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nvar initData = function initData() {\n    return {\n        data: {\n            list: []\n        },\n        config: {\n            pageIndex: 1,\n            pageSize: 10,\n            isLoadAll: false, // 是否加载所有数据\n            isSendAjax: false, // 是否发起请求\n            isSendFirst: false, // 是否已发起第一次请求\n            searchAjaxVal: '',\n            searchBox: {\n                searchVal: '',\n                placeholder: '权限名称/申请人名称'\n            }\n        }\n    };\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    data: function data() {\n        return new initData();\n    },\n\n    activated: function activated() {\n        var self = this;\n        Bestone.ui.pageInit({\n            setTitle: '权限申请审核',\n            reviewCallBack: function reviewCallBack() {}\n        });\n\n        // 首次进入页面请求数据\n        self.config.isSendAjax = true;\n        Bestone.util.ajax({\n            url: 'api/PermissionManage/GetRoleApplyExamineList',\n            data: JSON.stringify({\n                PageIndex: 1,\n                PageSize: self.config.pageSize,\n                Keyword: self.config.searchAjaxVal,\n                Status: 1\n            }),\n            success: function success(ajaxData) {\n                self.config.pageIndex = 1;\n                self.config.isSendFirst = true;\n                if (ajaxData.data.list.length < self.config.pageSize) {\n                    self.config.isLoadAll = true;\n                } else {\n                    self.config.isLoadAll = false;\n                }\n                self.data.list = ajaxData.data.list || [];\n            },\n            complete: function complete() {\n                self.config.isSendAjax = false;\n            }\n        });\n\n        // 数据滚动加载\n        Bestone.util.scrollRefresh({\n            callback: function callback(height) {\n                if (self.config.isSendFirst && !self.config.isSendAjax && !self.config.isLoadAll) {\n                    self.config.isSendAjax = true;\n                    Bestone.util.ajax({\n                        url: 'api/PermissionManage/GetRoleApplyExamineList',\n                        showLoad: false,\n                        data: JSON.stringify({\n                            PageIndex: self.config.pageIndex + 1,\n                            PageSize: self.config.pageSize,\n                            Keyword: self.config.searchAjaxVal,\n                            Status: 1\n                        }),\n                        success: function success(ajaxData) {\n                            var _self$data$list;\n\n                            if (ajaxData.data.list.length < self.config.pageSize) {\n                                self.config.isLoadAll = true;\n                            }\n                            self.config.pageIndex = ajaxData.data.page; // 更新pageIndex\n                            (_self$data$list = self.data.list).push.apply(_self$data$list, _toConsumableArray(ajaxData.data.list)); // 更新树形数组\n                        },\n                        complete: function complete() {\n                            self.config.isSendAjax = false;\n                        }\n                    });\n                }\n            }\n        });\n    },\n    deactivated: function deactivated() {\n        var self = this;\n        // 回退时清除数据\n        Bestone.util.resetData(function () {\n            self.data = initData().data;\n            self.config = initData().config;\n        });\n    },\n    methods: {\n        // 管理范围状态处理\n        textStatusDeal: function textStatusDeal(arr) {\n            return Bestone.util.textStatusDeal(arr);\n        },\n        audit: function audit(item) {\n            Bestone.util.vueJump({\n                path: '/applyPermissionAudit/auditDetail',\n                query: {\n                    ApplyId: item.ApplyId\n                }\n            });\n        },\n        // 审核记录\n        auditRecord: function auditRecord() {\n            Bestone.util.vueJump({ path: '/applyPermissionAudit/auditRecord' });\n        },\n        // 搜索点击\n        searchClickDeal: function searchClickDeal(str) {\n            var self = this;\n            self.config.isSendAjax = true;\n            Bestone.util.ajax({\n                url: 'api/PermissionManage/GetRoleApplyExamineList',\n                data: JSON.stringify({\n                    PageIndex: 1,\n                    PageSize: self.config.pageSize,\n                    Keyword: str,\n                    Status: 1\n                }),\n                success: function success(ajaxData) {\n                    self.config.searchAjaxVal = str;\n                    self.config.pageIndex = 1;\n                    self.config.isSendFirst = true;\n                    if (ajaxData.data.list.length < self.config.pageSize) {\n                        self.config.isLoadAll = true;\n                    } else {\n                        self.config.isLoadAll = false;\n                    }\n                    self.data.list = ajaxData.data.list || [];\n                },\n                complete: function complete() {\n                    self.config.isSendAjax = false;\n                }\n            });\n        },\n        // 输入框值改变\n        searchValChangeDeal: function searchValChangeDeal(str) {\n            this.config.searchBox.searchVal = str; // 必须，用于父子组件数据双向绑定\n        }\n    }\n});\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// js/30.build.js?50530560","exports = module.exports = require(\"../../../node_modules/_css-loader@0.28.7@css-loader/lib/css-base.js\")(undefined);\n// imports\n\n\n// module\nexports.push([module.id, \"#apply-permission-audit[data-v-61adc4d9]{padding-top:10px}#apply-permission-audit>.search[data-v-61adc4d9]{background-color:#fff;padding:10px 15px}#apply-permission-audit>.list[data-v-61adc4d9]{padding:0 10px}#apply-permission-audit>.list>ul>li[data-v-61adc4d9]{position:relative;background-color:#fff;border-radius:5px;padding:10px 95px 10px 10px;margin-top:10px;overflow:hidden;font-size:12px}#apply-permission-audit>.list>ul>li>.list-text>p[data-v-61adc4d9]{line-height:20px;color:#404040;height:20px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}#apply-permission-audit>.list>ul>li>.audit-btn[data-v-61adc4d9]{position:absolute;top:15px;right:10px;cursor:pointer;width:60px;height:28px;border:1px solid #38adff;color:#38adff;line-height:28px;text-align:center;border-radius:3px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}#apply-permission-audit>.list>ul>li>.audit-btn[data-v-61adc4d9]:active{background-color:#ddd}#apply-permission-audit>.no-data[data-v-61adc4d9]{color:#999;font-size:12px;line-height:20px;text-align:center;margin-top:50px;padding:0 20px}#apply-permission-audit>.no-data>span[data-v-61adc4d9]{color:#38adff}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_css-loader@0.28.7@css-loader?minimize!./~/_vue-loader@12.2.2@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-61adc4d9\",\"scoped\":true,\"hasInlineConfig\":true}!./~/_sass-loader@6.0.6@sass-loader/lib/loader.js!./~/_vue-loader@12.2.2@vue-loader/lib/selector.js?type=styles&index=0!./src/component/applyPermissionAudit/applyPermissionAudit.vue\n// module id = 136\n// module chunks = 30","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('div', {\n    attrs: {\n      \"id\": \"apply-permission-audit\"\n    }\n  }, [_c('div', {\n    staticClass: \"search\"\n  }, [_c('search-box', {\n    attrs: {\n      \"searchVal\": _vm.config.searchBox.searchVal,\n      \"placeholder\": _vm.config.searchBox.placeholder\n    },\n    on: {\n      \"searchClick\": _vm.searchClickDeal,\n      \"searchValChange\": _vm.searchValChangeDeal\n    }\n  })], 1), _vm._v(\" \"), (_vm.data.list && _vm.data.list.length > 0) ? [_c('div', {\n    staticClass: \"ui ui-title\"\n  }, [_c('p', {\n    staticClass: \"omit\"\n  }, [_vm._v(\"你的等待审核权限申请\")]), _vm._v(\" \"), _c('v-touch', {\n    staticClass: \"right-btn\",\n    attrs: {\n      \"tag\": \"a\"\n    },\n    on: {\n      \"pressup\": function($event) {\n        $event.preventDefault();\n        _vm.auditRecord($event)\n      },\n      \"tap\": function($event) {\n        $event.preventDefault();\n        _vm.auditRecord($event)\n      }\n    }\n  }, [_vm._v(\"审核记录\"), _c('i', {\n    staticClass: \"iconfont icon-you\"\n  })])], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"list\"\n  }, [_c('ul', _vm._l((_vm.data.list), function(item, index) {\n    return _c('li', [_c('div', {\n      staticClass: \"list-text\"\n    }, [_c('p', [_vm._v(\"申请人：\" + _vm._s(item.ApplyUserName))]), _vm._v(\" \"), _c('p', [_vm._v(\"权限名称：\" + _vm._s(_vm.textStatusDeal(item.Menu_Name)))]), _vm._v(\" \"), _c('p', [_vm._v(\"管理范围：\" + _vm._s(_vm.textStatusDeal(item.TargetName)))])]), _vm._v(\" \"), _c('v-touch', {\n      staticClass: \"audit-btn\",\n      attrs: {\n        \"tag\": \"div\"\n      },\n      on: {\n        \"pressup\": function($event) {\n          $event.preventDefault();\n          _vm.audit(item, index)\n        },\n        \"tap\": function($event) {\n          $event.preventDefault();\n          _vm.audit(item, index)\n        }\n      }\n    }, [_vm._v(\"审核\")])], 1)\n  }))])] : _vm._e(), _vm._v(\" \"), (_vm.data.list && _vm.data.list.length <= 0) ? _c('div', {\n    staticClass: \"no-data\"\n  }, [_vm._v(\"你没有待审核权限申请\")]) : _vm._e(), _vm._v(\" \"), (_vm.data.list.length > 0) ? _c('div', {\n    staticClass: \"ui ui-scrollRefresh\"\n  }, [(!_vm.config.isLoadAll) ? [_c('i', {\n    staticClass: \"iconfont icon-load\"\n  }), _c('span', [_vm._v(\"加载中\")])] : _vm._e(), _vm._v(\" \"), (_vm.config.isLoadAll) ? [_c('span', [_vm._v(\"没有更多了\")])] : _vm._e()], 2) : _vm._e(), _vm._v(\" \"), (false) ? _c('div', {\n    staticClass: \"ui ui-bottom-btn\"\n  }, [_c('v-touch', {\n    staticClass: \"btn\",\n    attrs: {\n      \"tag\": \"div\"\n    },\n    on: {\n      \"pressup\": function($event) {\n        $event.preventDefault();\n        _vm.auditRecord($event)\n      },\n      \"tap\": function($event) {\n        $event.preventDefault();\n        _vm.auditRecord($event)\n      }\n    }\n  }, [_vm._v(\"审核记录\")])], 1) : _vm._e()], 2)])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-loader@12.2.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-61adc4d9\",\"hasScoped\":true}!./~/_vue-loader@12.2.2@vue-loader/lib/selector.js?type=template&index=0!./src/component/applyPermissionAudit/applyPermissionAudit.vue\n// module id = 169\n// module chunks = 30","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/_css-loader@0.28.7@css-loader/index.js?minimize!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-61adc4d9\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":true}!../../../node_modules/_sass-loader@6.0.6@sass-loader/lib/loader.js!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/selector.js?type=styles&index=0!./applyPermissionAudit.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/_vue-style-loader@3.0.1@vue-style-loader/lib/addStylesClient.js\")(\"61f23b12\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-style-loader@3.0.1@vue-style-loader!./~/_css-loader@0.28.7@css-loader?minimize!./~/_vue-loader@12.2.2@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-61adc4d9\",\"scoped\":true,\"hasInlineConfig\":true}!./~/_sass-loader@6.0.6@sass-loader/lib/loader.js!./~/_vue-loader@12.2.2@vue-loader/lib/selector.js?type=styles&index=0!./src/component/applyPermissionAudit/applyPermissionAudit.vue\n// module id = 200\n// module chunks = 30","function injectStyle (ssrContext) {\n  require(\"!!vue-loader/node_modules/vue-style-loader!css-loader?minimize!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-61adc4d9\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":true}!sass-loader!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/selector?type=styles&index=0!./applyPermissionAudit.vue\")\n}\nvar Component = require(\"!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/selector?type=script&index=0!./applyPermissionAudit.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-61adc4d9\\\",\\\"hasScoped\\\":true}!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/selector?type=template&index=0!./applyPermissionAudit.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-61adc4d9\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/component/applyPermissionAudit/applyPermissionAudit.vue\n// module id = 57\n// module chunks = 30","<!-- 权限申请审核 -->\r\n<template>\r\n    <div>\r\n    <div id=\"apply-permission-audit\">\r\n        <div class=\"search\"><search-box :searchVal=\"config.searchBox.searchVal\" :placeholder=\"config.searchBox.placeholder\" @searchClick=\"searchClickDeal\" @searchValChange=\"searchValChangeDeal\"></search-box></div>\r\n        <template v-if=\"data.list && data.list.length>0\">\r\n            <div class=\"ui ui-title\">\r\n                <p class=\"omit\">你的等待审核权限申请</p>\r\n                <v-touch tag=\"a\" class=\"right-btn\" @pressup.prevent=\"auditRecord\" @tap.prevent=\"auditRecord\">审核记录<i class=\"iconfont icon-you\"></i></v-touch>\r\n            </div>\r\n            <div class=\"list\">\r\n                <ul>\r\n                    <li v-for=\"(item,index) in data.list\">\r\n                        <div class=\"list-text\">\r\n                            <p>申请人：{{item.ApplyUserName}}</p>\r\n                            <p>权限名称：{{textStatusDeal(item.Menu_Name)}}</p>\r\n                            <p>管理范围：{{textStatusDeal(item.TargetName)}}</p>\r\n                        </div>\r\n                        <v-touch tag=\"div\" class=\"audit-btn\" @pressup.prevent=\"audit(item,index)\" @tap.prevent=\"audit(item,index)\">审核</v-touch>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        </template>\r\n        <div v-if=\"data.list && data.list.length<=0\" class=\"no-data\">你没有待审核权限申请</div>\r\n        <div v-if=\"data.list.length>0\" class=\"ui ui-scrollRefresh\">\r\n            <template v-if=\"!config.isLoadAll\">\r\n                <i class=\"iconfont icon-load\"></i><span>加载中</span>\r\n            </template>\r\n            <template v-if=\"config.isLoadAll\">\r\n                <span>没有更多了</span>\r\n            </template>\r\n        </div>\r\n        <div class=\"ui ui-bottom-btn\" v-if=\"false\">\r\n            <v-touch tag=\"div\" class=\"btn\" @pressup.prevent=\"auditRecord\" @tap.prevent=\"auditRecord\">审核记录</v-touch>\r\n        </div>\r\n    </div>\r\n</div>\r\n</template>\r\n\r\n<script scoped>\r\n    var initData = function () {\r\n        return {\r\n            data: {\r\n                list: []\r\n            },\r\n            config: {\r\n                pageIndex: 1,\r\n                pageSize: 10,\r\n                isLoadAll: false, // 是否加载所有数据\r\n                isSendAjax: false, // 是否发起请求\r\n                isSendFirst: false, // 是否已发起第一次请求\r\n                searchAjaxVal: '',\r\n                searchBox: {\r\n                    searchVal: '',\r\n                    placeholder: '权限名称/申请人名称',\r\n                }\r\n            }\r\n        }\r\n    };\r\n    export default {\r\n        data() {\r\n            return new initData()\r\n        },\r\n        activated: function () {\r\n            let self = this;\r\n            Bestone.ui.pageInit({\r\n                setTitle: '权限申请审核',\r\n                reviewCallBack: function () {\r\n\r\n                }\r\n            });\r\n\r\n            // 首次进入页面请求数据\r\n            self.config.isSendAjax = true;\r\n            Bestone.util.ajax({\r\n                url: 'api/PermissionManage/GetRoleApplyExamineList',\r\n                data: JSON.stringify({\r\n                    PageIndex: 1,\r\n                    PageSize: self.config.pageSize,\r\n                    Keyword: self.config.searchAjaxVal,\r\n                    Status: 1\r\n                }),\r\n                success: function (ajaxData) {\r\n                    self.config.pageIndex = 1;\r\n                    self.config.isSendFirst = true;\r\n                    if(ajaxData.data.list.length<self.config.pageSize) {\r\n                        self.config.isLoadAll = true;\r\n                    }else {\r\n                        self.config.isLoadAll = false;\r\n                    }\r\n                    self.data.list = ajaxData.data.list || [];\r\n                },\r\n                complete: function () {\r\n                    self.config.isSendAjax = false;\r\n                }\r\n            });\r\n\r\n            // 数据滚动加载\r\n            Bestone.util.scrollRefresh({\r\n                callback: function (height) {\r\n                    if(self.config.isSendFirst && !self.config.isSendAjax && !self.config.isLoadAll) {\r\n                        self.config.isSendAjax = true;\r\n                        Bestone.util.ajax({\r\n                            url: 'api/PermissionManage/GetRoleApplyExamineList',\r\n                            showLoad: false,\r\n                            data: JSON.stringify({\r\n                                PageIndex: self.config.pageIndex + 1,\r\n                                PageSize: self.config.pageSize,\r\n                                Keyword: self.config.searchAjaxVal,\r\n                                Status: 1\r\n                            }),\r\n                            success: function (ajaxData) {\r\n                                if(ajaxData.data.list.length<self.config.pageSize) {\r\n                                    self.config.isLoadAll = true;\r\n                                }\r\n                                self.config.pageIndex = ajaxData.data.page; // 更新pageIndex\r\n                                self.data.list.push(...ajaxData.data.list); // 更新树形数组\r\n                            },\r\n                            complete: function () {\r\n                                self.config.isSendAjax = false;\r\n                            }\r\n                        });\r\n                    }\r\n                }\r\n            })\r\n        },\r\n        deactivated: function () {\r\n            var self = this;\r\n            // 回退时清除数据\r\n            Bestone.util.resetData(function () {\r\n                self.data = initData().data;\r\n                self.config = initData().config;\r\n            });\r\n        },\r\n        methods: {\r\n            // 管理范围状态处理\r\n            textStatusDeal: function (arr) {\r\n                return Bestone.util.textStatusDeal(arr);\r\n            },\r\n            audit: function (item) {\r\n                Bestone.util.vueJump({\r\n                    path: '/applyPermissionAudit/auditDetail',\r\n                    query: {\r\n                        ApplyId: item.ApplyId\r\n                    }\r\n                });\r\n            },\r\n            // 审核记录\r\n            auditRecord: function () {\r\n                Bestone.util.vueJump({path: '/applyPermissionAudit/auditRecord'});\r\n            },\r\n            // 搜索点击\r\n            searchClickDeal: function (str) {\r\n                let self = this;\r\n                self.config.isSendAjax = true;\r\n                Bestone.util.ajax({\r\n                    url: 'api/PermissionManage/GetRoleApplyExamineList',\r\n                    data: JSON.stringify({\r\n                        PageIndex: 1,\r\n                        PageSize: self.config.pageSize,\r\n                        Keyword: str,\r\n                        Status: 1\r\n                    }),\r\n                    success: function (ajaxData) {\r\n                        self.config.searchAjaxVal = str;\r\n                        self.config.pageIndex = 1;\r\n                        self.config.isSendFirst = true;\r\n                        if(ajaxData.data.list.length<self.config.pageSize) {\r\n                            self.config.isLoadAll = true;\r\n                        }else {\r\n                            self.config.isLoadAll = false;\r\n                        }\r\n                        self.data.list = ajaxData.data.list || [];\r\n                    },\r\n                    complete: function () {\r\n                        self.config.isSendAjax = false;\r\n                    }\r\n                });\r\n            },\r\n            // 输入框值改变\r\n            searchValChangeDeal: function (str) {\r\n                this.config.searchBox.searchVal=str; // 必须，用于父子组件数据双向绑定\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n    #apply-permission-audit {\r\n        padding-top: 10px;\r\n        & > .search {\r\n            background-color: #fff;\r\n            padding: 10px 15px;\r\n        }\r\n        & > .list {\r\n            padding: 0px 10px;\r\n            & > ul {\r\n                & > li {\r\n                    position: relative;\r\n                    background-color: #fff;\r\n                    border-radius: 5px;\r\n                    padding: 10px 95px 10px 10px;\r\n                    margin-top: 10px;\r\n                    overflow: hidden;\r\n                    font-size: 12px;\r\n                    & > .list-text {\r\n                        & > p {\r\n                            line-height: 20px;\r\n                            color: #404040;\r\n                            height: 20px;\r\n                            overflow: hidden;\r\n                            white-space: nowrap;\r\n                            text-overflow: ellipsis;\r\n                        }\r\n                    }\r\n                    & > .audit-btn {\r\n                        position: absolute;\r\n                        top: 15px;\r\n                        right: 10px;\r\n                        cursor: pointer;\r\n                        width: 60px;\r\n                        height: 28px;\r\n                        border: solid 1px #38ADFF;\r\n                        color: #38ADFF;\r\n                        line-height: 28px;\r\n                        text-align: center;\r\n                        border-radius: 3px;\r\n                        user-select: none;\r\n                        &:active {\r\n                            background-color: #ddd;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        & > .no-data {\r\n            color: #999;\r\n            font-size: 12px;\r\n            line-height: 20px;\r\n            text-align: center;\r\n            margin-top: 50px;\r\n            padding: 0px 20px;\r\n            & > span {\r\n                color: #38ADFF;\r\n            }\r\n        }\r\n    }\r\n</style>\n\n\n// WEBPACK FOOTER //\n// applyPermissionAudit.vue?dda4802a"],"sourceRoot":""}