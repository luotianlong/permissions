{"version":3,"sources":["webpack:///js/16.build.js","webpack:///accountMgmtDetail.vue","webpack:///./src/component/permissionControl/accountMgmtDetail.vue?f51f","webpack:///./src/component/permissionControl/accountMgmtDetail.vue?dbb3","webpack:///./src/component/permissionControl/accountMgmtDetail.vue?acfd","webpack:///./src/component/permissionControl/accountMgmtDetail.vue"],"names":["webpackJsonp","103","module","__webpack_exports__","__webpack_require__","Object","defineProperty","value","initData","data","treeView","config","userId","userName","userUserName","userBranchName","menuCode","menuName","clearOneNeedClear","item","index","modalBox","clearAll","isShow","content","btn","text","handel","clearOne","searchBox","searchVal","placeholder","suggest","isShowIcon","keyConfig","name","id","childKey","iconFontClass","color","handle","locationConfig","key","activated","self","this","Bestone","ui","pageInit","setTitle","reviewCallBack","parseInt","util","query","UserID","UserName","UserUserName","UserBranchName","MenuCode","MenuName","ajax","url","JSON","stringify","UserId","Keyword","success","ajaxData","getTreeViewDataForSearch","deactivated","resetData","methods","clearAllConfirmClickDeal","OperId","user","OperName","message","notOper","setTimeout","window","app","$router","go","clearAllCancelClickDeal","itemClickDeal","val","$loca","$","css","length","scrollTop","offset","top","searchClickDeal","str","searchValChangeDeal","console","log","clearDeal","Branch_Name","clearOneConfirmClickDeal","ConfigId","Config_ID","splice","clearOneCancelClickDeal","139","exports","undefined","push","i","172","render","_vm","_h","$createElement","_c","_self","attrs","staticClass","_v","_s","on","searchClick","searchValChange","itemClick","staticStyle","width","tag","pressup","$event","preventDefault","tap","dataArr","setConfig","clear","_e","confirmClick","cancelClick","staticRenderFns","203","locals","72","injectStyle","ssrContext","Component"],"mappings":"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","file":"js/16.build.js?950a0b16","sourcesContent":["webpackJsonp([16],{\n\n/***/ 103:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nvar initData = function initData() {\n    return {\n        data: {\n            treeView: []\n        },\n        config: {\n            userId: 0,\n            userName: '',\n            userUserName: '',\n            userBranchName: '',\n            menuCode: '',\n            menuName: '',\n            clearOneNeedClear: {\n                item: {},\n                index: 0\n            }, // 需要移除权限的clear\n            modalBox: {\n                clearAll: {\n                    isShow: false,\n                    content: '',\n                    btn: [{\n                        text: '确定',\n                        handel: 'confirmClick'\n                    }, {\n                        text: '取消',\n                        handel: 'cancelClick'\n                    }]\n                }, // 移除该权限\n                clearOne: {\n                    isShow: false,\n                    content: '',\n                    btn: [{\n                        text: '确定',\n                        handel: 'confirmClick'\n                    }, {\n                        text: '取消',\n                        handel: 'cancelClick'\n                    }]\n                } // 移除该权限某一范围\n            },\n            searchBox: {\n                searchVal: '',\n                placeholder: '公司名称',\n                suggest: {\n                    isShow: 1,\n                    data: []\n                }\n            },\n            treeView: {\n                isShow: 1,\n                isShowIcon: 2,\n                keyConfig: {\n                    name: 'Branch_Name',\n                    id: 'Config_ID',\n                    childKey: 'ChildList'\n                },\n                btn: [{\n                    iconFontClass: 'icon-shanchu',\n                    color: '#FF4141',\n                    handle: 'clear'\n                }],\n                locationConfig: {\n                    key: 'id'\n                }\n            }\n        }\n    };\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    data: function data() {\n        return new initData();\n    },\n\n    activated: function activated() {\n        var self = this;\n        Bestone.ui.pageInit({\n            setTitle: '管理账户权限',\n            reviewCallBack: function reviewCallBack() {\n                // 获取url参数赋值\n                self.config.userId = parseInt(Bestone.util.query().UserID, 10);\n                self.config.userName = Bestone.util.query().UserName || '';\n                self.config.userUserName = Bestone.util.query().UserUserName || '';\n                self.config.userBranchName = Bestone.util.query().UserBranchName || '';\n                self.config.menuCode = Bestone.util.query().MenuCode || '';\n                self.config.menuName = Bestone.util.query().MenuName || '';\n\n                Bestone.util.ajax({\n                    url: 'api/UserManage/GetMenuUserConfigByUser',\n                    data: JSON.stringify({\n                        MenuCode: self.config.menuCode,\n                        UserId: self.config.userId,\n                        Keyword: self.config.searchBox.searchVal\n                    }),\n                    success: function success(ajaxData) {\n                        self.config.searchBox.suggest.data = Bestone.util.getTreeViewDataForSearch({\n                            data: ajaxData.data || [],\n                            name: 'Branch_Name',\n                            id: 'Config_ID',\n                            childKey: 'ChildList'\n                        });\n                        self.data.treeView = ajaxData.data || [];\n                    }\n                });\n            }\n        });\n    },\n    deactivated: function deactivated() {\n        var self = this;\n        // 回退时清除数据\n        Bestone.util.resetData(function () {\n            self.data = initData().data;\n            self.config = initData().config;\n        });\n    },\n    methods: {\n        // 移除该权限\n        clearAll: function clearAll() {\n            var self = this;\n            self.config.modalBox.clearAll.content = '<p style=\"font-size: 14px;text-align: center;padding: 20px 0px;line-height: 16px;\">确定移除该权限？</p>';\n            self.config.modalBox.clearAll.isShow = true;\n        },\n        // 移除该权限弹出框确认\n        clearAllConfirmClickDeal: function clearAllConfirmClickDeal() {\n            var self = this;\n\n            // 移除该权限\n            Bestone.util.ajax({\n                url: 'api/UserManage/DeleteMenuUserConfigByMenu',\n                data: JSON.stringify({\n                    MenuCode: self.config.menuCode,\n                    UserId: self.config.userId,\n                    OperId: Bestone.user.id,\n                    OperName: Bestone.user.name\n                }),\n                success: function success(ajaxData) {\n                    Bestone.ui.message({\n                        content: '操作成功！',\n                        notOper: true\n                    });\n                    setTimeout(function () {\n                        self.config.modalBox.clearAll.isShow = false;\n                        window.app.$router.go(-1);\n                    }, 1000);\n                }\n            });\n        },\n        // 移除该权限弹出框取消\n        clearAllCancelClickDeal: function clearAllCancelClickDeal() {\n            this.config.modalBox.clearAll.isShow = false;\n        },\n        // 搜索下拉框点击\n        itemClickDeal: function itemClickDeal(item) {\n            var val = item.id;\n            if (!!val) {\n                var $loca = $('.ui.tree-view .loca' + val);\n                $('.ui.tree-view .item').css('background-color', 'transparent');\n                if ($loca.length > 0) {\n                    setTimeout(function () {\n                        $loca.css('background-color', '#FFFBE6');\n                        $(window).scrollTop($loca.offset().top - 5);\n                    }, 100);\n                }\n            }\n        },\n        // 搜索点击\n        searchClickDeal: function searchClickDeal(str) {\n            var self = this;\n            Bestone.ui.message({\n                content: '仅支持智能匹配搜索'\n            });\n        },\n        // 输入框值改变\n        searchValChangeDeal: function searchValChangeDeal(str) {\n            this.config.searchBox.searchVal = str; // 必须，用于父子组件数据双向绑定\n            console.log(str);\n        },\n        // 单个清除\n        clearDeal: function clearDeal(item, index) {\n            var self = this;\n            self.config.clearOneNeedClear.item = item;\n            self.config.clearOneNeedClear.index = index;\n            self.config.modalBox.clearOne.content = '<p style=\"font-size: 14px;text-align: center;padding: 20px 0px;line-height: 16px;\">确定移除' + item.Branch_Name + '？</p>';\n            self.config.modalBox.clearOne.isShow = true;\n        },\n        // 单个清除弹出框确认\n        clearOneConfirmClickDeal: function clearOneConfirmClickDeal() {\n            var self = this;\n\n            // 移除该权限\n            Bestone.util.ajax({\n                url: 'api/UserManage/DeleteMenuUserConfigById',\n                data: JSON.stringify({\n                    ConfigId: self.config.clearOneNeedClear.item.Config_ID,\n                    UserId: self.config.userId,\n                    OperId: Bestone.user.id,\n                    OperName: Bestone.user.name\n                }),\n                success: function success(ajaxData) {\n                    Bestone.ui.message({\n                        content: '操作成功！',\n                        notOper: true\n                    });\n                    self.config.modalBox.clearOne.isShow = false;\n                    self.data.treeView.splice(self.config.clearOneNeedClear.index, 1);\n                    if (self.data.treeView.length === 0) {\n                        setTimeout(function () {\n                            window.app.$router.go(-1);\n                        }, 1000);\n                    }\n                }\n            });\n        },\n        // 单个清除弹出框取消\n        clearOneCancelClickDeal: function clearOneCancelClickDeal() {\n            this.config.modalBox.clearOne.isShow = false;\n        }\n    }\n});\n\n/***/ }),\n\n/***/ 139:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(0)(undefined);\n// imports\n\n\n// module\nexports.push([module.i, \"#permission-mgmt[data-v-707948a8]{padding-top:10px;padding-bottom:10px}#permission-mgmt>.search-content[data-v-707948a8]{border-top:1px solid #eee;background-color:#fff;padding:10px 15px}#permission-mgmt>.ui-title[data-v-707948a8]{margin-top:10px}#permission-mgmt>.tree-view-content[data-v-707948a8]{border-bottom:1px solid #eee}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 172:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('div', {\n    attrs: {\n      \"id\": \"permission-mgmt\"\n    }\n  }, [_c('div', {\n    staticClass: \"ui ui-text-list\"\n  }, [_c('p', [_vm._v(\"TDS账号：\" + _vm._s(_vm.config.userName))]), _vm._v(\" \"), _c('p', [_vm._v(\"姓名：\" + _vm._s(_vm.config.userUserName))]), _vm._v(\" \"), _c('p', [_vm._v(\"账号所属公司：\" + _vm._s(_vm.config.userBranchName))])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"search-content\"\n  }, [_c('search-box', {\n    attrs: {\n      \"searchVal\": _vm.config.searchBox.searchVal,\n      \"placeholder\": _vm.config.searchBox.placeholder,\n      \"suggest\": _vm.config.searchBox.suggest\n    },\n    on: {\n      \"searchClick\": _vm.searchClickDeal,\n      \"searchValChange\": _vm.searchValChangeDeal,\n      \"itemClick\": _vm.itemClickDeal\n    }\n  })], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"ui ui-title\"\n  }, [_c('p', {\n    staticClass: \"omit\",\n    staticStyle: {\n      \"width\": \"65%\"\n    }\n  }, [_vm._v(_vm._s(_vm.config.menuName) + \"权限管理范围\")]), _vm._v(\" \"), _c('v-touch', {\n    staticClass: \"right-btn bg-btn bg-red\",\n    attrs: {\n      \"tag\": \"a\"\n    },\n    on: {\n      \"pressup\": function($event) {\n        $event.preventDefault();\n        _vm.clearAll($event)\n      },\n      \"tap\": function($event) {\n        $event.preventDefault();\n        _vm.clearAll($event)\n      }\n    }\n  }, [_vm._v(\"移除该权限\")])], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"tree-view-content\"\n  }, [_c('tree-view', {\n    attrs: {\n      \"dataArr\": _vm.data.treeView,\n      \"setConfig\": _vm.config.treeView\n    },\n    on: {\n      \"clear\": _vm.clearDeal\n    }\n  })], 1), _vm._v(\" \"), (_vm.data.treeView && _vm.data.treeView.length <= 0) ? _c('div', {\n    staticClass: \"ui no-data\"\n  }, [_vm._v(\"暂无数据\")]) : _vm._e(), _vm._v(\" \"), (false) ? _c('div', {\n    staticClass: \"ui ui-bottom-btn\"\n  }, [_c('v-touch', {\n    staticClass: \"btn\",\n    attrs: {\n      \"tag\": \"div\"\n    },\n    on: {\n      \"pressup\": function($event) {\n        $event.preventDefault();\n        _vm.clearAll($event)\n      },\n      \"tap\": function($event) {\n        $event.preventDefault();\n        _vm.clearAll($event)\n      }\n    }\n  }, [_vm._v(\"移除该权限\")])], 1) : _vm._e(), _vm._v(\" \"), _c('modal-box', {\n    attrs: {\n      \"setConfig\": _vm.config.modalBox.clearAll\n    },\n    on: {\n      \"confirmClick\": _vm.clearAllConfirmClickDeal,\n      \"cancelClick\": _vm.clearAllCancelClickDeal\n    }\n  }), _vm._v(\" \"), _c('modal-box', {\n    attrs: {\n      \"setConfig\": _vm.config.modalBox.clearOne\n    },\n    on: {\n      \"confirmClick\": _vm.clearOneConfirmClickDeal,\n      \"cancelClick\": _vm.clearOneCancelClickDeal\n    }\n  })], 1)])\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 203:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(139);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(2)(\"2d766232\", content, true);\n\n/***/ }),\n\n/***/ 72:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(203)\n}\nvar Component = __webpack_require__(1)(\n  /* script */\n  __webpack_require__(103),\n  /* template */\n  __webpack_require__(172),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-707948a8\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// js/16.build.js?950a0b16","<!-- 权限管理-按账号-管理账户权限-详细 -->\r\n<template>\r\n    <div>\r\n    <div id=\"permission-mgmt\">\r\n        <div class=\"ui ui-text-list\">\r\n            <p>TDS账号：{{config.userName}}</p>\r\n            <p>姓名：{{config.userUserName}}</p>\r\n            <p>账号所属公司：{{config.userBranchName}}</p>\r\n        </div>\r\n        <div class=\"search-content\">\r\n            <search-box :searchVal=\"config.searchBox.searchVal\" :placeholder=\"config.searchBox.placeholder\" :suggest=\"config.searchBox.suggest\" @searchClick=\"searchClickDeal\" @searchValChange=\"searchValChangeDeal\" @itemClick=\"itemClickDeal\"></search-box>\r\n        </div>\r\n        <div class=\"ui ui-title\">\r\n            <p class=\"omit\" style=\"width: 65%;\">{{config.menuName}}权限管理范围</p>\r\n            <v-touch tag=\"a\" class=\"right-btn bg-btn bg-red\" @pressup.prevent=\"clearAll\" @tap.prevent=\"clearAll\">移除该权限</v-touch>\r\n        </div>\r\n        <div class=\"tree-view-content\">\r\n            <tree-view :dataArr=\"data.treeView\" :setConfig=\"config.treeView\" @clear=\"clearDeal\"></tree-view>\r\n        </div>\r\n        <div v-if=\"data.treeView && data.treeView.length<=0\" class=\"ui no-data\">暂无数据</div>\r\n        <div class=\"ui ui-bottom-btn\" v-if=\"false\">\r\n            <v-touch tag=\"div\" class=\"btn\" @pressup.prevent=\"clearAll\" @tap.prevent=\"clearAll\">移除该权限</v-touch>\r\n        </div>\r\n        <!-- 移除该权限对话框 -->\r\n        <modal-box :setConfig=\"config.modalBox.clearAll\" @confirmClick=\"clearAllConfirmClickDeal\" @cancelClick=\"clearAllCancelClickDeal\"></modal-box>\r\n        <!-- 移除该权限某一范围对话框 -->\r\n        <modal-box :setConfig=\"config.modalBox.clearOne\" @confirmClick=\"clearOneConfirmClickDeal\" @cancelClick=\"clearOneCancelClickDeal\"></modal-box>\r\n    </div>\r\n</div>\r\n</template>\r\n\r\n<script scoped>\r\n    var initData = function () {\r\n        return {\r\n            data: {\r\n                treeView: []\r\n            },\r\n            config: {\r\n                userId: 0,\r\n                userName: '',\r\n                userUserName: '',\r\n                userBranchName: '',\r\n                menuCode: '',\r\n                menuName: '',\r\n                clearOneNeedClear: {\r\n                    item: {},\r\n                    index: 0\r\n                }, // 需要移除权限的clear\r\n                modalBox: {\r\n                    clearAll: {\r\n                        isShow: false,\r\n                        content: '',\r\n                        btn: [{\r\n                            text: '确定',\r\n                            handel: 'confirmClick'\r\n                        }, {\r\n                            text: '取消',\r\n                            handel: 'cancelClick'\r\n                        }]\r\n                    }, // 移除该权限\r\n                    clearOne: {\r\n                        isShow: false,\r\n                        content: '',\r\n                        btn: [{\r\n                            text: '确定',\r\n                            handel: 'confirmClick'\r\n                        }, {\r\n                            text: '取消',\r\n                            handel: 'cancelClick'\r\n                        }]\r\n                    }, // 移除该权限某一范围\r\n                },\r\n                searchBox: {\r\n                    searchVal: '',\r\n                    placeholder: '公司名称',\r\n                    suggest: {\r\n                        isShow: 1,\r\n                        data: [],\r\n                    }\r\n                },\r\n                treeView: {\r\n                    isShow: 1,\r\n                    isShowIcon: 2,\r\n                    keyConfig: {\r\n                        name: 'Branch_Name',\r\n                        id: 'Config_ID',\r\n                        childKey: 'ChildList',\r\n                    },\r\n                    btn: [{\r\n                        iconFontClass: 'icon-shanchu',\r\n                        color: '#FF4141',\r\n                        handle: 'clear'\r\n                    }],\r\n                    locationConfig: {\r\n                        key: 'id'\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    };\r\n    export default {\r\n        data() {\r\n            return new initData()\r\n        },\r\n        activated: function () {\r\n            let self = this;\r\n            Bestone.ui.pageInit({\r\n                setTitle: '管理账户权限',\r\n                reviewCallBack: function () {\r\n                    // 获取url参数赋值\r\n                    self.config.userId = parseInt(Bestone.util.query().UserID,10);\r\n                    self.config.userName = Bestone.util.query().UserName || '';\r\n                    self.config.userUserName = Bestone.util.query().UserUserName || '';\r\n                    self.config.userBranchName = Bestone.util.query().UserBranchName || '';\r\n                    self.config.menuCode = Bestone.util.query().MenuCode || '';\r\n                    self.config.menuName = Bestone.util.query().MenuName || '';\r\n\r\n                    Bestone.util.ajax({\r\n                        url: 'api/UserManage/GetMenuUserConfigByUser',\r\n                        data: JSON.stringify({\r\n                            MenuCode: self.config.menuCode,\r\n                            UserId: self.config.userId,\r\n                            Keyword: self.config.searchBox.searchVal\r\n                        }),\r\n                        success: function (ajaxData) {\r\n                            self.config.searchBox.suggest.data = Bestone.util.getTreeViewDataForSearch({\r\n                                data: ajaxData.data || [],\r\n                                name: 'Branch_Name',\r\n                                id: 'Config_ID',\r\n                                childKey: 'ChildList',\r\n                            });\r\n                            self.data.treeView = ajaxData.data || [];\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n        },\r\n        deactivated: function () {\r\n            var self = this;\r\n            // 回退时清除数据\r\n            Bestone.util.resetData(function () {\r\n                self.data = initData().data;\r\n                self.config = initData().config;\r\n            });\r\n        },\r\n        methods: {\r\n            // 移除该权限\r\n            clearAll: function () {\r\n                let self = this;\r\n                self.config.modalBox.clearAll.content = '<p style=\"font-size: 14px;text-align: center;padding: 20px 0px;line-height: 16px;\">确定移除该权限？</p>';\r\n                self.config.modalBox.clearAll.isShow = true;\r\n            },\r\n            // 移除该权限弹出框确认\r\n            clearAllConfirmClickDeal: function () {\r\n                let self = this;\r\n\r\n                // 移除该权限\r\n                Bestone.util.ajax({\r\n                    url: 'api/UserManage/DeleteMenuUserConfigByMenu',\r\n                    data: JSON.stringify({\r\n                        MenuCode: self.config.menuCode,\r\n                        UserId: self.config.userId,\r\n                        OperId: Bestone.user.id,\r\n                        OperName: Bestone.user.name,\r\n                    }),\r\n                    success: function (ajaxData) {\r\n                        Bestone.ui.message({\r\n                            content: '操作成功！',\r\n                            notOper: true\r\n                        });\r\n                        setTimeout(function () {\r\n                            self.config.modalBox.clearAll.isShow = false;\r\n                            window.app.$router.go(-1);\r\n                        },1000);\r\n                    }\r\n                });\r\n            },\r\n            // 移除该权限弹出框取消\r\n            clearAllCancelClickDeal: function () {\r\n                this.config.modalBox.clearAll.isShow = false;\r\n            },\r\n            // 搜索下拉框点击\r\n            itemClickDeal: function (item) {\r\n                let val = item.id;\r\n                if(!!val) {\r\n                    let $loca = $('.ui.tree-view .loca' + val);\r\n                    $('.ui.tree-view .item').css('background-color', 'transparent');\r\n                    if ($loca.length > 0) {\r\n                        setTimeout(function () {\r\n                            $loca.css('background-color', '#FFFBE6');\r\n                            $(window).scrollTop($loca.offset().top-5);\r\n                        },100);\r\n                    }\r\n                }\r\n            },\r\n            // 搜索点击\r\n            searchClickDeal: function (str) {\r\n                let self = this;\r\n                Bestone.ui.message({\r\n                    content: '仅支持智能匹配搜索'\r\n                });\r\n            },\r\n            // 输入框值改变\r\n            searchValChangeDeal: function (str) {\r\n                this.config.searchBox.searchVal = str; // 必须，用于父子组件数据双向绑定\r\n                console.log(str);\r\n            },\r\n            // 单个清除\r\n            clearDeal: function (item,index) {\r\n                let self = this;\r\n                self.config.clearOneNeedClear.item = item;\r\n                self.config.clearOneNeedClear.index = index;\r\n                self.config.modalBox.clearOne.content = '<p style=\"font-size: 14px;text-align: center;padding: 20px 0px;line-height: 16px;\">确定移除' + item.Branch_Name + '？</p>';\r\n                self.config.modalBox.clearOne.isShow = true;\r\n            },\r\n            // 单个清除弹出框确认\r\n            clearOneConfirmClickDeal: function () {\r\n                let self = this;\r\n\r\n                // 移除该权限\r\n                Bestone.util.ajax({\r\n                    url: 'api/UserManage/DeleteMenuUserConfigById',\r\n                    data: JSON.stringify({\r\n                        ConfigId: self.config.clearOneNeedClear.item.Config_ID,\r\n                        UserId: self.config.userId,\r\n                        OperId: Bestone.user.id,\r\n                        OperName: Bestone.user.name,\r\n                    }),\r\n                    success: function (ajaxData) {\r\n                        Bestone.ui.message({\r\n                            content: '操作成功！',\r\n                            notOper: true\r\n                        });\r\n                        self.config.modalBox.clearOne.isShow = false;\r\n                        self.data.treeView.splice(self.config.clearOneNeedClear.index,1);\r\n                        if(self.data.treeView.length===0) {\r\n                            setTimeout(function () {\r\n                                window.app.$router.go(-1);\r\n                            },1000);\r\n                        }\r\n                    }\r\n                });\r\n            },\r\n            // 单个清除弹出框取消\r\n            clearOneCancelClickDeal: function () {\r\n                this.config.modalBox.clearOne.isShow = false;\r\n            },\r\n        }\r\n    }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n    #permission-mgmt {\r\n        padding-top: 10px;\r\n        padding-bottom: 10px;\r\n        & > .search-content {\r\n            border-top: solid 1px #eee;\r\n            background-color: #fff;\r\n            padding: 10px 15px;\r\n        }\r\n        &>.ui-title {\r\n            margin-top: 10px;\r\n        }\r\n        & > .tree-view-content {\r\n            border-bottom: solid 1px #eee;\r\n        }\r\n    }\r\n</style>\n\n\n// WEBPACK FOOTER //\n// accountMgmtDetail.vue?70c8e45a","exports = module.exports = require(\"../../../node_modules/_css-loader@0.28.7@css-loader/lib/css-base.js\")(undefined);\n// imports\n\n\n// module\nexports.push([module.id, \"#permission-mgmt[data-v-707948a8]{padding-top:10px;padding-bottom:10px}#permission-mgmt>.search-content[data-v-707948a8]{border-top:1px solid #eee;background-color:#fff;padding:10px 15px}#permission-mgmt>.ui-title[data-v-707948a8]{margin-top:10px}#permission-mgmt>.tree-view-content[data-v-707948a8]{border-bottom:1px solid #eee}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_css-loader@0.28.7@css-loader?minimize!./~/_vue-loader@12.2.2@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-707948a8\",\"scoped\":true,\"hasInlineConfig\":true}!./~/_sass-loader@6.0.6@sass-loader/lib/loader.js!./~/_vue-loader@12.2.2@vue-loader/lib/selector.js?type=styles&index=0!./src/component/permissionControl/accountMgmtDetail.vue\n// module id = 139\n// module chunks = 16","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('div', {\n    attrs: {\n      \"id\": \"permission-mgmt\"\n    }\n  }, [_c('div', {\n    staticClass: \"ui ui-text-list\"\n  }, [_c('p', [_vm._v(\"TDS账号：\" + _vm._s(_vm.config.userName))]), _vm._v(\" \"), _c('p', [_vm._v(\"姓名：\" + _vm._s(_vm.config.userUserName))]), _vm._v(\" \"), _c('p', [_vm._v(\"账号所属公司：\" + _vm._s(_vm.config.userBranchName))])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"search-content\"\n  }, [_c('search-box', {\n    attrs: {\n      \"searchVal\": _vm.config.searchBox.searchVal,\n      \"placeholder\": _vm.config.searchBox.placeholder,\n      \"suggest\": _vm.config.searchBox.suggest\n    },\n    on: {\n      \"searchClick\": _vm.searchClickDeal,\n      \"searchValChange\": _vm.searchValChangeDeal,\n      \"itemClick\": _vm.itemClickDeal\n    }\n  })], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"ui ui-title\"\n  }, [_c('p', {\n    staticClass: \"omit\",\n    staticStyle: {\n      \"width\": \"65%\"\n    }\n  }, [_vm._v(_vm._s(_vm.config.menuName) + \"权限管理范围\")]), _vm._v(\" \"), _c('v-touch', {\n    staticClass: \"right-btn bg-btn bg-red\",\n    attrs: {\n      \"tag\": \"a\"\n    },\n    on: {\n      \"pressup\": function($event) {\n        $event.preventDefault();\n        _vm.clearAll($event)\n      },\n      \"tap\": function($event) {\n        $event.preventDefault();\n        _vm.clearAll($event)\n      }\n    }\n  }, [_vm._v(\"移除该权限\")])], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"tree-view-content\"\n  }, [_c('tree-view', {\n    attrs: {\n      \"dataArr\": _vm.data.treeView,\n      \"setConfig\": _vm.config.treeView\n    },\n    on: {\n      \"clear\": _vm.clearDeal\n    }\n  })], 1), _vm._v(\" \"), (_vm.data.treeView && _vm.data.treeView.length <= 0) ? _c('div', {\n    staticClass: \"ui no-data\"\n  }, [_vm._v(\"暂无数据\")]) : _vm._e(), _vm._v(\" \"), (false) ? _c('div', {\n    staticClass: \"ui ui-bottom-btn\"\n  }, [_c('v-touch', {\n    staticClass: \"btn\",\n    attrs: {\n      \"tag\": \"div\"\n    },\n    on: {\n      \"pressup\": function($event) {\n        $event.preventDefault();\n        _vm.clearAll($event)\n      },\n      \"tap\": function($event) {\n        $event.preventDefault();\n        _vm.clearAll($event)\n      }\n    }\n  }, [_vm._v(\"移除该权限\")])], 1) : _vm._e(), _vm._v(\" \"), _c('modal-box', {\n    attrs: {\n      \"setConfig\": _vm.config.modalBox.clearAll\n    },\n    on: {\n      \"confirmClick\": _vm.clearAllConfirmClickDeal,\n      \"cancelClick\": _vm.clearAllCancelClickDeal\n    }\n  }), _vm._v(\" \"), _c('modal-box', {\n    attrs: {\n      \"setConfig\": _vm.config.modalBox.clearOne\n    },\n    on: {\n      \"confirmClick\": _vm.clearOneConfirmClickDeal,\n      \"cancelClick\": _vm.clearOneCancelClickDeal\n    }\n  })], 1)])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-loader@12.2.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-707948a8\",\"hasScoped\":true}!./~/_vue-loader@12.2.2@vue-loader/lib/selector.js?type=template&index=0!./src/component/permissionControl/accountMgmtDetail.vue\n// module id = 172\n// module chunks = 16","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/_css-loader@0.28.7@css-loader/index.js?minimize!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-707948a8\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":true}!../../../node_modules/_sass-loader@6.0.6@sass-loader/lib/loader.js!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/selector.js?type=styles&index=0!./accountMgmtDetail.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/_vue-style-loader@3.0.1@vue-style-loader/lib/addStylesClient.js\")(\"2d766232\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-style-loader@3.0.1@vue-style-loader!./~/_css-loader@0.28.7@css-loader?minimize!./~/_vue-loader@12.2.2@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-707948a8\",\"scoped\":true,\"hasInlineConfig\":true}!./~/_sass-loader@6.0.6@sass-loader/lib/loader.js!./~/_vue-loader@12.2.2@vue-loader/lib/selector.js?type=styles&index=0!./src/component/permissionControl/accountMgmtDetail.vue\n// module id = 203\n// module chunks = 16","function injectStyle (ssrContext) {\n  require(\"!!vue-loader/node_modules/vue-style-loader!css-loader?minimize!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-707948a8\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":true}!sass-loader!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/selector?type=styles&index=0!./accountMgmtDetail.vue\")\n}\nvar Component = require(\"!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/selector?type=script&index=0!./accountMgmtDetail.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-707948a8\\\",\\\"hasScoped\\\":true}!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/selector?type=template&index=0!./accountMgmtDetail.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-707948a8\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/component/permissionControl/accountMgmtDetail.vue\n// module id = 72\n// module chunks = 16"],"sourceRoot":""}