{"version":3,"sources":["webpack:///js/20.build.js","webpack:///./src/component/log/userLog.vue?5fbe","webpack:///./src/component/log/userLog.vue?5156","webpack:///./src/component/log/userLog.vue?3572","webpack:///./src/component/log/userLog.vue","webpack:///userLog.vue"],"names":["webpackJsonp","138","module","exports","__webpack_require__","undefined","push","i","171","render","_vm","this","_h","$createElement","_c","_self","attrs","id","staticClass","searchVal","config","searchBox","placeholder","on","searchClick","searchClickDeal","searchValChange","searchValChangeDeal","_v","data","list","length","_l","item","index","_s","CreateDate","isSelf","BusinessType","UserName","tag","pressup","$event","preventDefault","viewDetail","tap","BusinessCode","_e","ApplyUserName","BranchName","RoleName","CheckLevel","MenuName","isLoadAll","staticRenderFns","202","content","locals","68","injectStyle","ssrContext","Component","99","__webpack_exports__","_toConsumableArray","arr","Array","isArray","arr2","from","Object","defineProperty","value","initData","userId","pageIndex","pageSize","isSendAjax","isSendFirst","searchAjaxVal","activated","self","parseInt","Bestone","util","query","UserId","ui","pageInit","setTitle","reviewCallBack","ajax","url","JSON","stringify","PageIndex","PageSize","Keyword","success","ajaxData","complete","scrollRefresh","callback","height","showLoad","_self$data$list","page","apply","deactivated","resetData","methods","str","vueJump","path","ApplyId"],"mappings":"AAAAA,cAAc,KAERC,IACA,SAAUC,EAAQC,EAASC,GCHjCD,EAAAD,EAAAC,QAAAC,EAAA,OAAAC,IAKAF,EAAAG,MAAAJ,EAAAK,EAAA,uqCAA8rC,MDYxrCC,IACA,SAAUN,EAAQC,GElBxBD,EAAAC,SAAgBM,OAAA,WAAmB,GAAAC,GAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,CAC1E,OAAAE,GAAA,OAAAA,EAAA,OACAE,OACAC,GAAA,YAEGH,EAAA,OACHI,YAAA,WACGJ,EAAA,cACHE,OACAG,UAAAT,EAAAU,OAAAC,UAAAF,UACAG,YAAAZ,EAAAU,OAAAC,UAAAC,aAEAC,IACAC,YAAAd,EAAAe,gBACAC,gBAAAhB,EAAAiB,wBAEG,GAAAjB,EAAAkB,GAAA,KAAAd,EAAA,OACHI,YAAA,SACGR,EAAAmB,KAAAC,MAAApB,EAAAmB,KAAAC,KAAAC,OAAA,EAAAjB,EAAA,KAAAJ,EAAAsB,GAAAtB,EAAAmB,KAAA,cAAAI,EAAAC,GACH,MAAApB,GAAA,MAAAA,EAAA,OACAI,YAAA,SACKR,EAAAkB,GAAAlB,EAAAyB,GAAAF,EAAAG,eAAA1B,EAAAkB,GAAA,KAAAd,EAAA,OACLI,YAAA,YACKJ,EAAA,KACLI,YAAA,SACKR,EAAAkB,GAAAlB,EAAAyB,GAAAzB,EAAAU,OAAAiB,QAAA,GAAAJ,EAAAK,aAAA,IAAAL,EAAAM,aAAA7B,EAAAkB,GAAA,QAAAK,EAAAK,aAAAxB,EAAA,KACLI,YAAA,SACKR,EAAAkB,GAAA,QAAAd,EAAA,WACLE,OACAwB,IAAA,KAEAjB,IACAkB,QAAA,SAAAC,GACAA,EAAAC,iBACAjC,EAAAkC,WAAAX,EAAAC,IAEAW,IAAA,SAAAH,GACAA,EAAAC,iBACAjC,EAAAkC,WAAAX,EAAAC,OAGKxB,EAAAkB,GAAA,IAAAlB,EAAAyB,GAAAF,EAAAa,cAAA,WAAApC,EAAAqC,KAAArC,EAAAkB,GAAA,QAAAK,EAAAK,aAAAxB,EAAA,KACLI,YAAA,SACKR,EAAAkB,GAAA,UAAAlB,EAAAyB,GAAAzB,EAAAU,OAAAiB,OAAA,IAAAJ,EAAAe,eAAA,UAAAlC,EAAA,WACLE,OACAwB,IAAA,KAEAjB,IACAkB,QAAA,SAAAC,GACAA,EAAAC,iBACAjC,EAAAkC,WAAAX,EAAAC,IAEAW,IAAA,SAAAH,GACAA,EAAAC,iBACAjC,EAAAkC,WAAAX,EAAAC,OAGKxB,EAAAkB,GAAA,IAAAlB,EAAAyB,GAAAF,EAAAa,cAAA,WAAApC,EAAAqC,KAAArC,EAAAkB,GAAA,QAAAK,EAAAK,aAAAxB,EAAA,KACLI,YAAA,SACKR,EAAAkB,GAAA,UAAAlB,EAAAyB,GAAAzB,EAAAU,OAAAiB,OAAA,IAAAJ,EAAAe,eAAA,UAAAlC,EAAA,WACLE,OACAwB,IAAA,KAEAjB,IACAkB,QAAA,SAAAC,GACAA,EAAAC,iBACAjC,EAAAkC,WAAAX,EAAAC,IAEAW,IAAA,SAAAH,GACAA,EAAAC,iBACAjC,EAAAkC,WAAAX,EAAAC,OAGKxB,EAAAkB,GAAA,IAAAlB,EAAAyB,GAAAF,EAAAa,cAAA,WAAApC,EAAAqC,KAAArC,EAAAkB,GAAA,QAAAK,EAAAK,aAAAxB,EAAA,KACLI,YAAA,SACKR,EAAAkB,GAAA,UAAAlB,EAAAyB,GAAAzB,EAAAU,OAAAiB,OAAA,IAAAJ,EAAAe,eAAA,UAAAlC,EAAA,WACLE,OACAwB,IAAA,KAEAjB,IACAkB,QAAA,SAAAC,GACAA,EAAAC,iBACAjC,EAAAkC,WAAAX,EAAAC,IAEAW,IAAA,SAAAH,GACAA,EAAAC,iBACAjC,EAAAkC,WAAAX,EAAAC,OAGKxB,EAAAkB,GAAA,IAAAlB,EAAAyB,GAAAF,EAAAa,cAAA,OAAAhC,EAAA,MAAAA,EAAA,QAAAJ,EAAAkB,GAAA,qBAAAlB,EAAAqC,KAAArC,EAAAkB,GAAA,QAAAK,EAAAK,aAAAxB,EAAA,KACLI,YAAA,SACKR,EAAAkB,GAAA,UAAAlB,EAAAyB,GAAAzB,EAAAU,OAAAiB,OAAA,IAAAJ,EAAAe,eAAA,UAAAlC,EAAA,WACLE,OACAwB,IAAA,KAEAjB,IACAkB,QAAA,SAAAC,GACAA,EAAAC,iBACAjC,EAAAkC,WAAAX,EAAAC,IAEAW,IAAA,SAAAH,GACAA,EAAAC,iBACAjC,EAAAkC,WAAAX,EAAAC,OAGKxB,EAAAkB,GAAA,IAAAlB,EAAAyB,GAAAF,EAAAa,cAAA,WAAApC,EAAAqC,KAAArC,EAAAkB,GAAA,QAAAK,EAAAK,aAAAxB,EAAA,KACLI,YAAA,SACKR,EAAAkB,GAAA,MAAAlB,EAAAyB,GAAAF,EAAAe,eAAA,IAAAtC,EAAAyB,GAAAF,EAAAgB,YAAA,IAAAvC,EAAAyB,GAAAF,EAAAiB,UAAA,QAAAxC,EAAAyB,GAAAF,EAAAkB,YAAA,UAAAzC,EAAAqC,KAAArC,EAAAkB,GAAA,QAAAK,EAAAK,aAAAxB,EAAA,KACLI,YAAA,SACKR,EAAAkB,GAAA,MAAAlB,EAAAyB,GAAAF,EAAAe,eAAA,IAAAtC,EAAAyB,GAAAF,EAAAgB,YAAA,IAAAvC,EAAAyB,GAAAF,EAAAiB,UAAA,QAAAxC,EAAAyB,GAAAF,EAAAkB,YAAA,UAAAzC,EAAAqC,KAAArC,EAAAkB,GAAA,QAAAK,EAAAK,aAAAxB,EAAA,KACLI,YAAA,SACKR,EAAAkB,GAAA,MAAAlB,EAAAyB,GAAAF,EAAAe,eAAA,IAAAtC,EAAAyB,GAAAF,EAAAiB,UAAA,cAAAxC,EAAAqC,KAAArC,EAAAkB,GAAA,QAAAK,EAAAK,aAAAxB,EAAA,KACLI,YAAA,SACKR,EAAAkB,GAAA,MAAAlB,EAAAyB,GAAAF,EAAAe,eAAA,IAAAtC,EAAAyB,GAAAF,EAAAiB,UAAA,cAAAxC,EAAAqC,KAAArC,EAAAkB,GAAA,SAAAK,EAAAK,aAAAxB,EAAA,KACLI,YAAA,SACKR,EAAAkB,GAAA,MAAAlB,EAAAyB,GAAAF,EAAAe,eAAA,eAAAtC,EAAAqC,KAAArC,EAAAkB,GAAA,SAAAK,EAAAK,aAAAxB,EAAA,KACLI,YAAA,SACKR,EAAAkB,GAAA,MAAAlB,EAAAyB,GAAAF,EAAAe,eAAA,eAAAtC,EAAAqC,KAAArC,EAAAkB,GAAA,SAAAK,EAAAK,aAAAxB,EAAA,KACLI,YAAA,SACKR,EAAAkB,GAAA,MAAAlB,EAAAyB,GAAAF,EAAAiB,UAAA,cAAAxC,EAAAqC,KAAArC,EAAAkB,GAAA,SAAAK,EAAAK,aAAAxB,EAAA,KACLI,YAAA,SACKR,EAAAkB,GAAA,MAAAlB,EAAAyB,GAAAF,EAAAiB,UAAA,cAAAxC,EAAAqC,KAAArC,EAAAkB,GAAA,SAAAK,EAAAK,aAAAxB,EAAA,KACLI,YAAA,SACKR,EAAAkB,GAAA,OAAAlB,EAAAyB,GAAAzB,EAAAU,OAAAiB,OAAA,IAAAJ,EAAAe,eAAA,YAAAtC,EAAAqC,KAAArC,EAAAkB,GAAA,SAAAK,EAAAK,cAAA,IAAAL,EAAAK,aAAAxB,EAAA,KACLI,YAAA,SACKR,EAAAkB,GAAA,OAAAlB,EAAAyB,GAAAzB,EAAAU,OAAAiB,OAAA,IAAAJ,EAAAe,eAAA,MAAAtC,EAAAyB,GAAAF,EAAAgB,YAAA,QAAAvC,EAAAyB,GAAAF,EAAAmB,UAAA,SAAA1C,EAAAqC,YACFrC,EAAAqC,KAAArC,EAAAkB,GAAA,KAAAlB,EAAAmB,KAAAC,MAAApB,EAAAmB,KAAAC,KAAAC,QAAA,EAAAjB,EAAA,OACHI,YAAA,YACGR,EAAAkB,GAAA,UAAAlB,EAAAqC,OAAArC,EAAAkB,GAAA,KAAAlB,EAAAmB,KAAAC,KAAAC,OAAA,EAAAjB,EAAA,OACHI,YAAA,wBACGR,EAAAU,OAAAiC,UAEA3C,EAAAqC,MAFAjC,EAAA,KACHI,YAAA,uBACGJ,EAAA,QAAAJ,EAAAkB,GAAA,UAAAlB,EAAAkB,GAAA,KAAAlB,EAAAU,OAAA,WAAAN,EAAA,QAAAJ,EAAAkB,GAAA,YAAAlB,EAAAqC,MAAA,GAAArC,EAAAqC,UACFO,qBFwBKC,IACA,SAAUrD,EAAQC,EAASC,GG3JjC,GAAAoD,GAAApD,EAAA,IACA,iBAAAoD,SAAAtD,EAAAK,EAAAiD,EAAA,MACAA,EAAAC,SAAAvD,EAAAC,QAAAqD,EAAAC,OAEArD,GAAA,cAAAoD,GAAA,IHoKME,GACA,SAAUxD,EAAQC,EAASC,GI5KjC,QAAAuD,GAAAC,GACAxD,EAAA,KAEA,GAAAyD,GAAAzD,EAAA,GAEAA,EAAA,IAEAA,EAAA,KAEAuD,EAEA,kBAEA,KAGAzD,GAAAC,QAAA0D,EAAA1D,SJmLM2D,GACA,SAAU5D,EAAQ6D,EAAqB3D,GAE7C,YAEA,SAAS4D,GAAmBC,GAAO,GAAIC,MAAMC,QAAQF,GAAM,CAAE,IAAK,GAAI1D,GAAI,EAAG6D,EAAOF,MAAMD,EAAIlC,QAASxB,EAAI0D,EAAIlC,OAAQxB,IAAO6D,EAAK7D,GAAK0D,EAAI1D,EAAM,OAAO6D,GAAe,MAAOF,OAAMG,KAAKJ,GAD1LK,OAAOC,eAAeR,EAAqB,cAAgBS,OAAO,GK7JlE,IAAAC,GAAA,WL2MI,OACI5C,MACIC,SAEJV,QACIsD,OAAQ,EACRrC,QAAQ,EACRsC,UKzMZ,EL0MYC,SKzMZ,GL0MYvB,WAAW,EACXwB,YAAY,EACZC,aAAa,EACbC,cKzMZ,GL0MY1D,WACIF,UKzMhB,GL0MgBG,YKtMhB,WACAyC,GAAA,SL2MIlC,KAAM,WACF,MAAO,IKzMf4C,IL4MIO,UAAW,WACP,GAAIC,GK1MZtE,IL4MQsE,GAAK7D,OAAOsD,OAASQ,SAASC,QAAQC,KAAKC,QAAQC,OK1M3D,IL2MQL,EAAK7D,OAAOiB,SAAW8C,QAAQC,KAAKC,QKzM5ChD,OL2MQ8C,QAAQI,GAAGC,UACPC,SK1MZ,OL2MYC,eAAgB,WAEZT,EAAK7D,OAAOyD,YK1M5B,EL2MgBM,QAAQC,KAAKO,MACTC,IAAOX,EAAK7D,OAAOsD,OAAS,gCK1MhD,4BL2MoB7C,KAAMgE,KAAKC,WACPC,UK1MxB,EL2MwBC,SAAUf,EAAK7D,OK1MvCwD,SL2MwBqB,QAAShB,EAAK7D,OK1MtC2D,cL2MwBO,OAAQL,EAAK7D,OKzMrCsD,SL2MoBwB,QAAS,SAAiBC,GACtBlB,EAAK7D,OAAO0D,aK1MpC,EL2M4BqB,EAAStE,KAAKC,KAAKC,OAASkD,EAAK7D,OAAOwD,SACxCK,EAAK7D,OAAOiC,WK1MxC,EL4M4B4B,EAAK7D,OAAOiC,WK1MxC,EL4MwB4B,EAAKpD,KAAKC,KAAOqE,EAAStE,KAAKC,UAEnCsE,SAAU,WACNnB,EAAK7D,OAAOyD,YK1MpC,QLiNQM,QAAQC,KAAKiB,eACTC,SAAU,SAAkBC,GACnBtB,EAAK7D,OAAOyD,YAAeI,EAAK7D,OAAOiC,YACxC4B,EAAK7D,OAAOyD,YK1MhC,EL2MoBM,QAAQC,KAAKO,MACTC,IAAOX,EAAK7D,OAAOsD,OAAS,gCK1MpD,4BL2MwB8B,UK1MxB,EL2MwB3E,KAAMgE,KAAKC,WACPC,UAAWd,EAAK7D,OAAOuD,UK1MnD,EL2M4BqB,SAAUf,EAAK7D,OK1M3CwD,SL2M4BU,OAAQL,EAAK7D,OK1MzCsD,OL2M4BuB,QAAShB,EAAK7D,OKzM1C2D,gBL2MwBmB,QAAS,SAAiBC,GK1MlD,GAAAM,EL6MgCN,GAAStE,KAAKC,KAAKC,OAASkD,EAAK7D,OAAOwD,WACxCK,EAAK7D,OAAOiC,WK5M5C,GL8M4B4B,EAAK7D,OAAOuD,UAAYwB,EAAStE,KAAK6E,MACrCD,EAAkBxB,EAAKpD,KAAKC,MAAMxB,KAAKqG,MAAMF,EAAiBzC,EAAmBmC,EAAStE,KAAKC,QAEpGsE,SAAU,WACNnB,EAAK7D,OAAOyD,YK5MxC,ULmNI+B,YAAa,WACT,GAAI3B,GK5MZtE,IL8MQwE,SAAQC,KAAKyB,UAAU,WACnB5B,EAAKpD,KAAO4C,IK5MxB5C,KL6MYoD,EAAK7D,OAASqD,IK5M1BrD,UL+MI0F,SAEIrF,gBAAiB,SAAyBsF,GACtC,GAAI9B,GK5MhBtE,IL6MYsE,GAAK7D,OAAOyD,YK5MxB,EL6MYM,QAAQC,KAAKO,MACTC,IAAOX,EAAK7D,OAAOsD,OAAS,gCK5M5C,4BL6MgB7C,KAAMgE,KAAKC,WACPC,UK5MpB,EL6MoBC,SAAUf,EAAK7D,OK5MnCwD,SL6MoBU,OAAQL,EAAK7D,OK5MjCsD,OL6MoBuB,QK3MpBc,IL6MgBb,QAAS,SAAiBC,GACtBlB,EAAK7D,OAAO2D,cK5MhCgC,EL6MoB9B,EAAK7D,OAAOuD,UK5MhC,EL6MwBwB,EAAStE,KAAKC,KAAKC,OAASkD,EAAK7D,OAAOwD,SACxCK,EAAK7D,OAAOiC,WK5MpC,EL8MwB4B,EAAK7D,OAAOiC,WK5MpC,EL8MoB4B,EAAKpD,KAAKC,KAAOqE,EAAStE,KAAKC,UAEnCsE,SAAU,WACNnB,EAAK7D,OAAOyD,YK5MhC,MLiNQlD,oBAAqB,SAA6BoF,GAC9CpG,KAAKS,OAAOC,UAAUF,UAAY4F,GAGtCnE,WAAY,SAAoBX,EAAMC,GAClCiD,QAAQC,KAAK4B,SACTC,KK5MhB,iCL6MgB5B,OACI6B,QAASjF,EK1M7BiF","file":"js/20.build.js?26ecdc8d","sourcesContent":["webpackJsonp([20],{\n\n/***/ 138:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(0)(undefined);\n// imports\n\n\n// module\nexports.push([module.i, \"#my-log[data-v-68beaf18]{padding-top:10px}#my-log>.search[data-v-68beaf18]{background-color:#fff;padding:10px 15px}#my-log>.list[data-v-68beaf18]{padding:10px 10px 0}#my-log>.list>ul>li[data-v-68beaf18]{min-height:45px;padding:5px 10px;background-color:#fff;border-radius:5px;font-size:12px;color:#404040;margin-bottom:10px}#my-log>.list>ul>li>.time[data-v-68beaf18]{line-height:20px;min-height:20px}#my-log>.list>ul>li>.content[data-v-68beaf18]{line-height:20px;min-height:20px;margin-top:5px;overflow:hidden}#my-log>.list>ul>li>.content>.name[data-v-68beaf18]{float:left;width:50px;padding-right:10px;height:20px;line-height:20px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}#my-log>.list>ul>li>.content>.text[data-v-68beaf18]{overflow:hidden}#my-log>.list>ul>li>.content>.text>a[data-v-68beaf18]{color:#06c;display:inline-block;height:20px}#my-log>.list>ul>li>.content>.text>a[data-v-68beaf18]:active{background-color:#eee}#my-log>.list>ul>li>.content>.text>span[data-v-68beaf18]{color:#06c}#my-log>.list>ul>li[data-v-68beaf18]:last-child{margin-bottom:0}#my-log>.list>.no-data[data-v-68beaf18]{color:#999;font-size:12px;line-height:20px;text-align:center;margin-top:40px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 171:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('div', {\n    attrs: {\n      \"id\": \"my-log\"\n    }\n  }, [_c('div', {\n    staticClass: \"search\"\n  }, [_c('search-box', {\n    attrs: {\n      \"searchVal\": _vm.config.searchBox.searchVal,\n      \"placeholder\": _vm.config.searchBox.placeholder\n    },\n    on: {\n      \"searchClick\": _vm.searchClickDeal,\n      \"searchValChange\": _vm.searchValChangeDeal\n    }\n  })], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"list\"\n  }, [(_vm.data.list && _vm.data.list.length > 0) ? _c('ul', _vm._l((_vm.data.list), function(item, index) {\n    return _c('li', [_c('div', {\n      staticClass: \"time\"\n    }, [_vm._v(_vm._s(item.CreateDate))]), _vm._v(\" \"), _c('div', {\n      staticClass: \"content\"\n    }, [_c('p', {\n      staticClass: \"name\"\n    }, [_vm._v(_vm._s(_vm.config.isSelf && item.BusinessType == 1 ? '我' : item.UserName))]), _vm._v(\" \"), (item.BusinessType == 1) ? _c('p', {\n      staticClass: \"text\"\n    }, [_vm._v(\"申请权限\"), _c('v-touch', {\n      attrs: {\n        \"tag\": \"a\"\n      },\n      on: {\n        \"pressup\": function($event) {\n          $event.preventDefault();\n          _vm.viewDetail(item, index)\n        },\n        \"tap\": function($event) {\n          $event.preventDefault();\n          _vm.viewDetail(item, index)\n        }\n      }\n    }, [_vm._v(\"（\" + _vm._s(item.BusinessCode) + \"）\")])], 1) : _vm._e(), _vm._v(\" \"), (item.BusinessType == 2) ? _c('p', {\n      staticClass: \"text\"\n    }, [_vm._v(\"1级审核通过 \" + _vm._s(_vm.config.isSelf ? '我' : item.ApplyUserName) + \" 的权限申请\"), _c('v-touch', {\n      attrs: {\n        \"tag\": \"a\"\n      },\n      on: {\n        \"pressup\": function($event) {\n          $event.preventDefault();\n          _vm.viewDetail(item, index)\n        },\n        \"tap\": function($event) {\n          $event.preventDefault();\n          _vm.viewDetail(item, index)\n        }\n      }\n    }, [_vm._v(\"（\" + _vm._s(item.BusinessCode) + \"）\")])], 1) : _vm._e(), _vm._v(\" \"), (item.BusinessType == 3) ? _c('p', {\n      staticClass: \"text\"\n    }, [_vm._v(\"1级审核驳回 \" + _vm._s(_vm.config.isSelf ? '我' : item.ApplyUserName) + \" 的权限申请\"), _c('v-touch', {\n      attrs: {\n        \"tag\": \"a\"\n      },\n      on: {\n        \"pressup\": function($event) {\n          $event.preventDefault();\n          _vm.viewDetail(item, index)\n        },\n        \"tap\": function($event) {\n          $event.preventDefault();\n          _vm.viewDetail(item, index)\n        }\n      }\n    }, [_vm._v(\"（\" + _vm._s(item.BusinessCode) + \"）\")])], 1) : _vm._e(), _vm._v(\" \"), (item.BusinessType == 4) ? _c('p', {\n      staticClass: \"text\"\n    }, [_vm._v(\"2级审核通过 \" + _vm._s(_vm.config.isSelf ? '我' : item.ApplyUserName) + \" 的权限申请\"), _c('v-touch', {\n      attrs: {\n        \"tag\": \"a\"\n      },\n      on: {\n        \"pressup\": function($event) {\n          $event.preventDefault();\n          _vm.viewDetail(item, index)\n        },\n        \"tap\": function($event) {\n          $event.preventDefault();\n          _vm.viewDetail(item, index)\n        }\n      }\n    }, [_vm._v(\"（\" + _vm._s(item.BusinessCode) + \"）\")]), _c('br'), _c('span', [_vm._v(\"系统开通了申请的权限。\")])], 1) : _vm._e(), _vm._v(\" \"), (item.BusinessType == 5) ? _c('p', {\n      staticClass: \"text\"\n    }, [_vm._v(\"2级审核驳回 \" + _vm._s(_vm.config.isSelf ? '我' : item.ApplyUserName) + \" 的权限申请\"), _c('v-touch', {\n      attrs: {\n        \"tag\": \"a\"\n      },\n      on: {\n        \"pressup\": function($event) {\n          $event.preventDefault();\n          _vm.viewDetail(item, index)\n        },\n        \"tap\": function($event) {\n          $event.preventDefault();\n          _vm.viewDetail(item, index)\n        }\n      }\n    }, [_vm._v(\"（\" + _vm._s(item.BusinessCode) + \"）\")])], 1) : _vm._e(), _vm._v(\" \"), (item.BusinessType == 6) ? _c('p', {\n      staticClass: \"text\"\n    }, [_vm._v(\"新增 \" + _vm._s(item.ApplyUserName) + \" \" + _vm._s(item.BranchName) + \" \" + _vm._s(item.RoleName) + \" 权限管理\" + _vm._s(item.CheckLevel) + \"级审核。\")]) : _vm._e(), _vm._v(\" \"), (item.BusinessType == 7) ? _c('p', {\n      staticClass: \"text\"\n    }, [_vm._v(\"移除 \" + _vm._s(item.ApplyUserName) + \" \" + _vm._s(item.BranchName) + \" \" + _vm._s(item.RoleName) + \" 权限管理\" + _vm._s(item.CheckLevel) + \"级审核。\")]) : _vm._e(), _vm._v(\" \"), (item.BusinessType == 8) ? _c('p', {\n      staticClass: \"text\"\n    }, [_vm._v(\"新增 \" + _vm._s(item.ApplyUserName) + \" \" + _vm._s(item.RoleName) + \" 权限管理功能。\")]) : _vm._e(), _vm._v(\" \"), (item.BusinessType == 9) ? _c('p', {\n      staticClass: \"text\"\n    }, [_vm._v(\"移除 \" + _vm._s(item.ApplyUserName) + \" \" + _vm._s(item.RoleName) + \" 权限管理功能。\")]) : _vm._e(), _vm._v(\" \"), (item.BusinessType == 10) ? _c('p', {\n      staticClass: \"text\"\n    }, [_vm._v(\"新增 \" + _vm._s(item.ApplyUserName) + \" 系统管理员身份。\")]) : _vm._e(), _vm._v(\" \"), (item.BusinessType == 11) ? _c('p', {\n      staticClass: \"text\"\n    }, [_vm._v(\"移除 \" + _vm._s(item.ApplyUserName) + \" 系统管理员身份。\")]) : _vm._e(), _vm._v(\" \"), (item.BusinessType == 12) ? _c('p', {\n      staticClass: \"text\"\n    }, [_vm._v(\"新增 \" + _vm._s(item.RoleName) + \" 所管理的权限。\")]) : _vm._e(), _vm._v(\" \"), (item.BusinessType == 16) ? _c('p', {\n      staticClass: \"text\"\n    }, [_vm._v(\"变更 \" + _vm._s(item.RoleName) + \" 所管理的权限。\")]) : _vm._e(), _vm._v(\" \"), (item.BusinessType == 13) ? _c('p', {\n      staticClass: \"text\"\n    }, [_vm._v(\"移除了 \" + _vm._s(_vm.config.isSelf ? '我' : item.ApplyUserName) + \" 的所有权限\")]) : _vm._e(), _vm._v(\" \"), (item.BusinessType == 14 || item.BusinessType == 15) ? _c('p', {\n      staticClass: \"text\"\n    }, [_vm._v(\"移除了 \" + _vm._s(_vm.config.isSelf ? '我' : item.ApplyUserName) + \" 的 \" + _vm._s(item.BranchName || '') + \"“\" + _vm._s(item.MenuName) + \"”权限\")]) : _vm._e()])])\n  })) : _vm._e(), _vm._v(\" \"), (_vm.data.list && _vm.data.list.length <= 0) ? _c('div', {\n    staticClass: \"no-data\"\n  }, [_vm._v(\"暂无数据\")]) : _vm._e()]), _vm._v(\" \"), (_vm.data.list.length > 0) ? _c('div', {\n    staticClass: \"ui ui-scrollRefresh\"\n  }, [(!_vm.config.isLoadAll) ? [_c('i', {\n    staticClass: \"iconfont icon-load\"\n  }), _c('span', [_vm._v(\"加载中\")])] : _vm._e(), _vm._v(\" \"), (_vm.config.isLoadAll) ? [_c('span', [_vm._v(\"没有更多了\")])] : _vm._e()], 2) : _vm._e()])])\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 202:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(138);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(2)(\"9ac8ccda\", content, true);\n\n/***/ }),\n\n/***/ 68:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(202)\n}\nvar Component = __webpack_require__(1)(\n  /* script */\n  __webpack_require__(99),\n  /* template */\n  __webpack_require__(171),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-68beaf18\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 99:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nvar initData = function initData() {\n    return {\n        data: {\n            list: []\n        },\n        config: {\n            userId: 0, // 被查询的员工id\n            isSelf: false, // 是否本人\n            pageIndex: 1,\n            pageSize: 20,\n            isLoadAll: false, // 是否加载所有数据\n            isSendAjax: false, // 是否发起请求\n            isSendFirst: false, // 是否已发起第一次请求\n            searchAjaxVal: '',\n            searchBox: {\n                searchVal: '',\n                placeholder: '关键字搜索'\n            }\n        }\n    };\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    data: function data() {\n        return new initData();\n    },\n\n    activated: function activated() {\n        var self = this;\n        // 获取url参数赋值\n        self.config.userId = parseInt(Bestone.util.query().UserId, 10);\n        self.config.isSelf = !!Bestone.util.query().isSelf;\n\n        Bestone.ui.pageInit({\n            setTitle: '权限日志',\n            reviewCallBack: function reviewCallBack() {\n                // 获取日志\n                self.config.isSendAjax = true;\n                Bestone.util.ajax({\n                    url: !!self.config.userId ? 'api/UserManage/GetUserLogList' : 'api/UserManage/GetLogList',\n                    data: JSON.stringify({\n                        PageIndex: 1,\n                        PageSize: self.config.pageSize,\n                        Keyword: self.config.searchAjaxVal,\n                        UserId: self.config.userId\n                    }),\n                    success: function success(ajaxData) {\n                        self.config.isSendFirst = true;\n                        if (ajaxData.data.list.length < self.config.pageSize) {\n                            self.config.isLoadAll = true;\n                        } else {\n                            self.config.isLoadAll = false;\n                        }\n                        self.data.list = ajaxData.data.list || [];\n                    },\n                    complete: function complete() {\n                        self.config.isSendAjax = false;\n                    }\n                });\n            }\n        });\n\n        // 滚动加载\n        Bestone.util.scrollRefresh({\n            callback: function callback(height) {\n                if (!self.config.isSendAjax && !self.config.isLoadAll) {\n                    self.config.isSendAjax = true;\n                    Bestone.util.ajax({\n                        url: !!self.config.userId ? 'api/UserManage/GetUserLogList' : 'api/UserManage/GetLogList',\n                        showLoad: false,\n                        data: JSON.stringify({\n                            PageIndex: self.config.pageIndex + 1,\n                            PageSize: self.config.pageSize,\n                            UserId: self.config.userId,\n                            Keyword: self.config.searchAjaxVal\n                        }),\n                        success: function success(ajaxData) {\n                            var _self$data$list;\n\n                            if (ajaxData.data.list.length < self.config.pageSize) {\n                                self.config.isLoadAll = true;\n                            }\n                            self.config.pageIndex = ajaxData.data.page; // 更新pageIndex\n                            (_self$data$list = self.data.list).push.apply(_self$data$list, _toConsumableArray(ajaxData.data.list)); // 更新数组\n                        },\n                        complete: function complete() {\n                            self.config.isSendAjax = false;\n                        }\n                    });\n                }\n            }\n        });\n    },\n    deactivated: function deactivated() {\n        var self = this;\n        // 回退时清除数据\n        Bestone.util.resetData(function () {\n            self.data = initData().data;\n            self.config = initData().config;\n        });\n    },\n    methods: {\n        // 搜索点击\n        searchClickDeal: function searchClickDeal(str) {\n            var self = this;\n            self.config.isSendAjax = true;\n            Bestone.util.ajax({\n                url: !!self.config.userId ? 'api/UserManage/GetUserLogList' : 'api/UserManage/GetLogList',\n                data: JSON.stringify({\n                    PageIndex: 1,\n                    PageSize: self.config.pageSize,\n                    UserId: self.config.userId,\n                    Keyword: str\n                }),\n                success: function success(ajaxData) {\n                    self.config.searchAjaxVal = str;\n                    self.config.pageIndex = 1;\n                    if (ajaxData.data.list.length < self.config.pageSize) {\n                        self.config.isLoadAll = true;\n                    } else {\n                        self.config.isLoadAll = false;\n                    }\n                    self.data.list = ajaxData.data.list || [];\n                },\n                complete: function complete() {\n                    self.config.isSendAjax = false;\n                }\n            });\n        },\n        // 输入框值改变\n        searchValChangeDeal: function searchValChangeDeal(str) {\n            this.config.searchBox.searchVal = str; // 必须，用于父子组件数据双向绑定\n        },\n        // 查看详细\n        viewDetail: function viewDetail(item, index) {\n            Bestone.util.vueJump({\n                path: '/applyRecord/applyRecordDetail',\n                query: {\n                    ApplyId: item.ApplyId\n                }\n            });\n        }\n    }\n});\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// js/20.build.js?26ecdc8d","exports = module.exports = require(\"../../../node_modules/_css-loader@0.28.7@css-loader/lib/css-base.js\")(undefined);\n// imports\n\n\n// module\nexports.push([module.id, \"#my-log[data-v-68beaf18]{padding-top:10px}#my-log>.search[data-v-68beaf18]{background-color:#fff;padding:10px 15px}#my-log>.list[data-v-68beaf18]{padding:10px 10px 0}#my-log>.list>ul>li[data-v-68beaf18]{min-height:45px;padding:5px 10px;background-color:#fff;border-radius:5px;font-size:12px;color:#404040;margin-bottom:10px}#my-log>.list>ul>li>.time[data-v-68beaf18]{line-height:20px;min-height:20px}#my-log>.list>ul>li>.content[data-v-68beaf18]{line-height:20px;min-height:20px;margin-top:5px;overflow:hidden}#my-log>.list>ul>li>.content>.name[data-v-68beaf18]{float:left;width:50px;padding-right:10px;height:20px;line-height:20px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}#my-log>.list>ul>li>.content>.text[data-v-68beaf18]{overflow:hidden}#my-log>.list>ul>li>.content>.text>a[data-v-68beaf18]{color:#06c;display:inline-block;height:20px}#my-log>.list>ul>li>.content>.text>a[data-v-68beaf18]:active{background-color:#eee}#my-log>.list>ul>li>.content>.text>span[data-v-68beaf18]{color:#06c}#my-log>.list>ul>li[data-v-68beaf18]:last-child{margin-bottom:0}#my-log>.list>.no-data[data-v-68beaf18]{color:#999;font-size:12px;line-height:20px;text-align:center;margin-top:40px}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_css-loader@0.28.7@css-loader?minimize!./~/_vue-loader@12.2.2@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-68beaf18\",\"scoped\":true,\"hasInlineConfig\":true}!./~/_sass-loader@6.0.6@sass-loader/lib/loader.js!./~/_vue-loader@12.2.2@vue-loader/lib/selector.js?type=styles&index=0!./src/component/log/userLog.vue\n// module id = 138\n// module chunks = 20","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('div', {\n    attrs: {\n      \"id\": \"my-log\"\n    }\n  }, [_c('div', {\n    staticClass: \"search\"\n  }, [_c('search-box', {\n    attrs: {\n      \"searchVal\": _vm.config.searchBox.searchVal,\n      \"placeholder\": _vm.config.searchBox.placeholder\n    },\n    on: {\n      \"searchClick\": _vm.searchClickDeal,\n      \"searchValChange\": _vm.searchValChangeDeal\n    }\n  })], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"list\"\n  }, [(_vm.data.list && _vm.data.list.length > 0) ? _c('ul', _vm._l((_vm.data.list), function(item, index) {\n    return _c('li', [_c('div', {\n      staticClass: \"time\"\n    }, [_vm._v(_vm._s(item.CreateDate))]), _vm._v(\" \"), _c('div', {\n      staticClass: \"content\"\n    }, [_c('p', {\n      staticClass: \"name\"\n    }, [_vm._v(_vm._s(_vm.config.isSelf && item.BusinessType == 1 ? '我' : item.UserName))]), _vm._v(\" \"), (item.BusinessType == 1) ? _c('p', {\n      staticClass: \"text\"\n    }, [_vm._v(\"申请权限\"), _c('v-touch', {\n      attrs: {\n        \"tag\": \"a\"\n      },\n      on: {\n        \"pressup\": function($event) {\n          $event.preventDefault();\n          _vm.viewDetail(item, index)\n        },\n        \"tap\": function($event) {\n          $event.preventDefault();\n          _vm.viewDetail(item, index)\n        }\n      }\n    }, [_vm._v(\"（\" + _vm._s(item.BusinessCode) + \"）\")])], 1) : _vm._e(), _vm._v(\" \"), (item.BusinessType == 2) ? _c('p', {\n      staticClass: \"text\"\n    }, [_vm._v(\"1级审核通过 \" + _vm._s(_vm.config.isSelf ? '我' : item.ApplyUserName) + \" 的权限申请\"), _c('v-touch', {\n      attrs: {\n        \"tag\": \"a\"\n      },\n      on: {\n        \"pressup\": function($event) {\n          $event.preventDefault();\n          _vm.viewDetail(item, index)\n        },\n        \"tap\": function($event) {\n          $event.preventDefault();\n          _vm.viewDetail(item, index)\n        }\n      }\n    }, [_vm._v(\"（\" + _vm._s(item.BusinessCode) + \"）\")])], 1) : _vm._e(), _vm._v(\" \"), (item.BusinessType == 3) ? _c('p', {\n      staticClass: \"text\"\n    }, [_vm._v(\"1级审核驳回 \" + _vm._s(_vm.config.isSelf ? '我' : item.ApplyUserName) + \" 的权限申请\"), _c('v-touch', {\n      attrs: {\n        \"tag\": \"a\"\n      },\n      on: {\n        \"pressup\": function($event) {\n          $event.preventDefault();\n          _vm.viewDetail(item, index)\n        },\n        \"tap\": function($event) {\n          $event.preventDefault();\n          _vm.viewDetail(item, index)\n        }\n      }\n    }, [_vm._v(\"（\" + _vm._s(item.BusinessCode) + \"）\")])], 1) : _vm._e(), _vm._v(\" \"), (item.BusinessType == 4) ? _c('p', {\n      staticClass: \"text\"\n    }, [_vm._v(\"2级审核通过 \" + _vm._s(_vm.config.isSelf ? '我' : item.ApplyUserName) + \" 的权限申请\"), _c('v-touch', {\n      attrs: {\n        \"tag\": \"a\"\n      },\n      on: {\n        \"pressup\": function($event) {\n          $event.preventDefault();\n          _vm.viewDetail(item, index)\n        },\n        \"tap\": function($event) {\n          $event.preventDefault();\n          _vm.viewDetail(item, index)\n        }\n      }\n    }, [_vm._v(\"（\" + _vm._s(item.BusinessCode) + \"）\")]), _c('br'), _c('span', [_vm._v(\"系统开通了申请的权限。\")])], 1) : _vm._e(), _vm._v(\" \"), (item.BusinessType == 5) ? _c('p', {\n      staticClass: \"text\"\n    }, [_vm._v(\"2级审核驳回 \" + _vm._s(_vm.config.isSelf ? '我' : item.ApplyUserName) + \" 的权限申请\"), _c('v-touch', {\n      attrs: {\n        \"tag\": \"a\"\n      },\n      on: {\n        \"pressup\": function($event) {\n          $event.preventDefault();\n          _vm.viewDetail(item, index)\n        },\n        \"tap\": function($event) {\n          $event.preventDefault();\n          _vm.viewDetail(item, index)\n        }\n      }\n    }, [_vm._v(\"（\" + _vm._s(item.BusinessCode) + \"）\")])], 1) : _vm._e(), _vm._v(\" \"), (item.BusinessType == 6) ? _c('p', {\n      staticClass: \"text\"\n    }, [_vm._v(\"新增 \" + _vm._s(item.ApplyUserName) + \" \" + _vm._s(item.BranchName) + \" \" + _vm._s(item.RoleName) + \" 权限管理\" + _vm._s(item.CheckLevel) + \"级审核。\")]) : _vm._e(), _vm._v(\" \"), (item.BusinessType == 7) ? _c('p', {\n      staticClass: \"text\"\n    }, [_vm._v(\"移除 \" + _vm._s(item.ApplyUserName) + \" \" + _vm._s(item.BranchName) + \" \" + _vm._s(item.RoleName) + \" 权限管理\" + _vm._s(item.CheckLevel) + \"级审核。\")]) : _vm._e(), _vm._v(\" \"), (item.BusinessType == 8) ? _c('p', {\n      staticClass: \"text\"\n    }, [_vm._v(\"新增 \" + _vm._s(item.ApplyUserName) + \" \" + _vm._s(item.RoleName) + \" 权限管理功能。\")]) : _vm._e(), _vm._v(\" \"), (item.BusinessType == 9) ? _c('p', {\n      staticClass: \"text\"\n    }, [_vm._v(\"移除 \" + _vm._s(item.ApplyUserName) + \" \" + _vm._s(item.RoleName) + \" 权限管理功能。\")]) : _vm._e(), _vm._v(\" \"), (item.BusinessType == 10) ? _c('p', {\n      staticClass: \"text\"\n    }, [_vm._v(\"新增 \" + _vm._s(item.ApplyUserName) + \" 系统管理员身份。\")]) : _vm._e(), _vm._v(\" \"), (item.BusinessType == 11) ? _c('p', {\n      staticClass: \"text\"\n    }, [_vm._v(\"移除 \" + _vm._s(item.ApplyUserName) + \" 系统管理员身份。\")]) : _vm._e(), _vm._v(\" \"), (item.BusinessType == 12) ? _c('p', {\n      staticClass: \"text\"\n    }, [_vm._v(\"新增 \" + _vm._s(item.RoleName) + \" 所管理的权限。\")]) : _vm._e(), _vm._v(\" \"), (item.BusinessType == 16) ? _c('p', {\n      staticClass: \"text\"\n    }, [_vm._v(\"变更 \" + _vm._s(item.RoleName) + \" 所管理的权限。\")]) : _vm._e(), _vm._v(\" \"), (item.BusinessType == 13) ? _c('p', {\n      staticClass: \"text\"\n    }, [_vm._v(\"移除了 \" + _vm._s(_vm.config.isSelf ? '我' : item.ApplyUserName) + \" 的所有权限\")]) : _vm._e(), _vm._v(\" \"), (item.BusinessType == 14 || item.BusinessType == 15) ? _c('p', {\n      staticClass: \"text\"\n    }, [_vm._v(\"移除了 \" + _vm._s(_vm.config.isSelf ? '我' : item.ApplyUserName) + \" 的 \" + _vm._s(item.BranchName || '') + \"“\" + _vm._s(item.MenuName) + \"”权限\")]) : _vm._e()])])\n  })) : _vm._e(), _vm._v(\" \"), (_vm.data.list && _vm.data.list.length <= 0) ? _c('div', {\n    staticClass: \"no-data\"\n  }, [_vm._v(\"暂无数据\")]) : _vm._e()]), _vm._v(\" \"), (_vm.data.list.length > 0) ? _c('div', {\n    staticClass: \"ui ui-scrollRefresh\"\n  }, [(!_vm.config.isLoadAll) ? [_c('i', {\n    staticClass: \"iconfont icon-load\"\n  }), _c('span', [_vm._v(\"加载中\")])] : _vm._e(), _vm._v(\" \"), (_vm.config.isLoadAll) ? [_c('span', [_vm._v(\"没有更多了\")])] : _vm._e()], 2) : _vm._e()])])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-loader@12.2.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-68beaf18\",\"hasScoped\":true}!./~/_vue-loader@12.2.2@vue-loader/lib/selector.js?type=template&index=0!./src/component/log/userLog.vue\n// module id = 171\n// module chunks = 20","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/_css-loader@0.28.7@css-loader/index.js?minimize!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-68beaf18\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":true}!../../../node_modules/_sass-loader@6.0.6@sass-loader/lib/loader.js!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/selector.js?type=styles&index=0!./userLog.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/_vue-style-loader@3.0.1@vue-style-loader/lib/addStylesClient.js\")(\"9ac8ccda\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-style-loader@3.0.1@vue-style-loader!./~/_css-loader@0.28.7@css-loader?minimize!./~/_vue-loader@12.2.2@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-68beaf18\",\"scoped\":true,\"hasInlineConfig\":true}!./~/_sass-loader@6.0.6@sass-loader/lib/loader.js!./~/_vue-loader@12.2.2@vue-loader/lib/selector.js?type=styles&index=0!./src/component/log/userLog.vue\n// module id = 202\n// module chunks = 20","function injectStyle (ssrContext) {\n  require(\"!!vue-loader/node_modules/vue-style-loader!css-loader?minimize!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-68beaf18\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":true}!sass-loader!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/selector?type=styles&index=0!./userLog.vue\")\n}\nvar Component = require(\"!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/selector?type=script&index=0!./userLog.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-68beaf18\\\",\\\"hasScoped\\\":true}!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/selector?type=template&index=0!./userLog.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-68beaf18\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/component/log/userLog.vue\n// module id = 68\n// module chunks = 20","<!-- 我的权限日志 -->\r\n<template><div>\r\n    <div id=\"my-log\">\r\n        <div class=\"search\"><search-box :searchVal=\"config.searchBox.searchVal\" :placeholder=\"config.searchBox.placeholder\" @searchClick=\"searchClickDeal\" @searchValChange=\"searchValChangeDeal\"></search-box></div>\r\n        <div class=\"list\">\r\n            <ul v-if=\"data.list && data.list.length>0\">\r\n                <li v-for=\"(item,index) in data.list\">\r\n                    <div class=\"time\">{{item.CreateDate}}</div>\r\n                    <div class=\"content\">\r\n                        <p class=\"name\">{{config.isSelf && item.BusinessType==1 ? '我' : item.UserName}}</p>\r\n                        <p v-if=\"item.BusinessType==1\" class=\"text\">申请权限<v-touch tag=\"a\" @pressup.prevent=\"viewDetail(item,index)\" @tap.prevent=\"viewDetail(item,index)\">（{{item.BusinessCode}}）</v-touch></p>\r\n                        <p v-if=\"item.BusinessType==2\" class=\"text\">1级审核通过 {{config.isSelf ? '我' : item.ApplyUserName}} 的权限申请<v-touch tag=\"a\" @pressup.prevent=\"viewDetail(item,index)\" @tap.prevent=\"viewDetail(item,index)\">（{{item.BusinessCode}}）</v-touch></p>\r\n                        <p v-if=\"item.BusinessType==3\" class=\"text\">1级审核驳回 {{config.isSelf ? '我' : item.ApplyUserName}} 的权限申请<v-touch tag=\"a\" @pressup.prevent=\"viewDetail(item,index)\" @tap.prevent=\"viewDetail(item,index)\">（{{item.BusinessCode}}）</v-touch></p>\r\n                        <p v-if=\"item.BusinessType==4\" class=\"text\">2级审核通过 {{config.isSelf ? '我' : item.ApplyUserName}} 的权限申请<v-touch tag=\"a\" @pressup.prevent=\"viewDetail(item,index)\" @tap.prevent=\"viewDetail(item,index)\">（{{item.BusinessCode}}）</v-touch><br/><span>系统开通了申请的权限。</span></p>\r\n                        <p v-if=\"item.BusinessType==5\" class=\"text\">2级审核驳回 {{config.isSelf ? '我' : item.ApplyUserName}} 的权限申请<v-touch tag=\"a\" @pressup.prevent=\"viewDetail(item,index)\" @tap.prevent=\"viewDetail(item,index)\">（{{item.BusinessCode}}）</v-touch></p>\r\n                        <p v-if=\"item.BusinessType==6\" class=\"text\">新增 {{item.ApplyUserName}} {{item.BranchName}} {{item.RoleName}} 权限管理{{item.CheckLevel}}级审核。</p>\r\n                        <p v-if=\"item.BusinessType==7\" class=\"text\">移除 {{item.ApplyUserName}} {{item.BranchName}} {{item.RoleName}} 权限管理{{item.CheckLevel}}级审核。</p>\r\n                        <p v-if=\"item.BusinessType==8\" class=\"text\">新增 {{item.ApplyUserName}} {{item.RoleName}} 权限管理功能。</p>\r\n                        <p v-if=\"item.BusinessType==9\" class=\"text\">移除 {{item.ApplyUserName}} {{item.RoleName}} 权限管理功能。</p>\r\n                        <p v-if=\"item.BusinessType==10\" class=\"text\">新增 {{item.ApplyUserName}} 系统管理员身份。</p>\r\n                        <p v-if=\"item.BusinessType==11\" class=\"text\">移除 {{item.ApplyUserName}} 系统管理员身份。</p>\r\n                        <p v-if=\"item.BusinessType==12\" class=\"text\">新增 {{item.RoleName}} 所管理的权限。</p>\r\n                        <p v-if=\"item.BusinessType==16\" class=\"text\">变更 {{item.RoleName}} 所管理的权限。</p>\r\n                        <p v-if=\"item.BusinessType==13\" class=\"text\">移除了 {{config.isSelf ? '我' : item.ApplyUserName}} 的所有权限</p>\r\n                        <p v-if=\"item.BusinessType==14 || item.BusinessType==15\" class=\"text\">移除了 {{config.isSelf ? '我' : item.ApplyUserName}} 的 {{item.BranchName || ''}}“{{item.MenuName}}”权限</p>\r\n                    </div>\r\n                </li>\r\n            </ul>\r\n            <div v-if=\"data.list && data.list.length<=0\" class=\"no-data\">暂无数据</div>\r\n        </div>\r\n        <div v-if=\"data.list.length>0\" class=\"ui ui-scrollRefresh\">\r\n            <template v-if=\"!config.isLoadAll\">\r\n                <i class=\"iconfont icon-load\"></i><span>加载中</span>\r\n            </template>\r\n            <template v-if=\"config.isLoadAll\">\r\n                <span>没有更多了</span>\r\n            </template>\r\n        </div>\r\n    </div>\r\n</div></template>\r\n\r\n<script scoped>\r\n    var initData = function () {\r\n        return {\r\n            data: {\r\n                list: [],\r\n            },\r\n            config: {\r\n                userId: 0, // 被查询的员工id\r\n                isSelf: false, // 是否本人\r\n                pageIndex: 1,\r\n                pageSize: 20,\r\n                isLoadAll: false, // 是否加载所有数据\r\n                isSendAjax: false, // 是否发起请求\r\n                isSendFirst: false, // 是否已发起第一次请求\r\n                searchAjaxVal: '',\r\n                searchBox: {\r\n                    searchVal: '',\r\n                    placeholder: '关键字搜索',\r\n                }\r\n            }\r\n        }\r\n    };\r\n    export default {\r\n        data() {\r\n            return new initData()\r\n        },\r\n        activated: function () {\r\n            let self = this;\r\n            // 获取url参数赋值\r\n            self.config.userId = parseInt(Bestone.util.query().UserId,10);\r\n            self.config.isSelf = !!Bestone.util.query().isSelf;\r\n\r\n            Bestone.ui.pageInit({\r\n                setTitle: '权限日志',\r\n                reviewCallBack: function () {\r\n                    // 获取日志\r\n                    self.config.isSendAjax = true;\r\n                    Bestone.util.ajax({\r\n                        url: !!self.config.userId ? 'api/UserManage/GetUserLogList' : 'api/UserManage/GetLogList',\r\n                        data: JSON.stringify({\r\n                            PageIndex: 1,\r\n                            PageSize: self.config.pageSize,\r\n                            Keyword: self.config.searchAjaxVal,\r\n                            UserId: self.config.userId\r\n                        }),\r\n                        success: function (ajaxData) {\r\n                            self.config.isSendFirst = true;\r\n                            if(ajaxData.data.list.length<self.config.pageSize) {\r\n                                self.config.isLoadAll = true;\r\n                            }else {\r\n                                self.config.isLoadAll = false;\r\n                            }\r\n                            self.data.list = ajaxData.data.list || [];\r\n                        },\r\n                        complete: function () {\r\n                            self.config.isSendAjax = false;\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n\r\n            // 滚动加载\r\n            Bestone.util.scrollRefresh({\r\n                callback: function (height) {\r\n                    if(!self.config.isSendAjax && !self.config.isLoadAll) {\r\n                        self.config.isSendAjax = true;\r\n                        Bestone.util.ajax({\r\n                            url: !!self.config.userId ? 'api/UserManage/GetUserLogList' : 'api/UserManage/GetLogList',\r\n                            showLoad: false,\r\n                            data: JSON.stringify({\r\n                                PageIndex: self.config.pageIndex + 1,\r\n                                PageSize: self.config.pageSize,\r\n                                UserId: self.config.userId,\r\n                                Keyword: self.config.searchAjaxVal\r\n                            }),\r\n                            success: function (ajaxData) {\r\n                                if(ajaxData.data.list.length<self.config.pageSize) {\r\n                                    self.config.isLoadAll = true;\r\n                                }\r\n                                self.config.pageIndex = ajaxData.data.page; // 更新pageIndex\r\n                                self.data.list.push(...ajaxData.data.list); // 更新数组\r\n                            },\r\n                            complete: function () {\r\n                                self.config.isSendAjax = false;\r\n                            }\r\n                        });\r\n                    }\r\n                }\r\n            })\r\n        },\r\n        deactivated: function () {\r\n            var self = this;\r\n            // 回退时清除数据\r\n            Bestone.util.resetData(function () {\r\n                self.data = initData().data;\r\n                self.config = initData().config;\r\n            });\r\n        },\r\n        methods: {\r\n            // 搜索点击\r\n            searchClickDeal: function (str) {\r\n                let self = this;\r\n                self.config.isSendAjax = true;\r\n                Bestone.util.ajax({\r\n                    url: !!self.config.userId ? 'api/UserManage/GetUserLogList' : 'api/UserManage/GetLogList',\r\n                    data: JSON.stringify({\r\n                        PageIndex: 1,\r\n                        PageSize: self.config.pageSize,\r\n                        UserId: self.config.userId,\r\n                        Keyword: str\r\n                    }),\r\n                    success: function (ajaxData) {\r\n                        self.config.searchAjaxVal = str;\r\n                        self.config.pageIndex = 1;\r\n                        if(ajaxData.data.list.length<self.config.pageSize) {\r\n                            self.config.isLoadAll = true;\r\n                        }else {\r\n                            self.config.isLoadAll = false;\r\n                        }\r\n                        self.data.list = ajaxData.data.list || [];\r\n                    },\r\n                    complete: function () {\r\n                        self.config.isSendAjax = false;\r\n                    }\r\n                });\r\n            },\r\n            // 输入框值改变\r\n            searchValChangeDeal: function (str) {\r\n                this.config.searchBox.searchVal=str; // 必须，用于父子组件数据双向绑定\r\n            },\r\n            // 查看详细\r\n            viewDetail: function (item,index) {\r\n                Bestone.util.vueJump({\r\n                    path: '/applyRecord/applyRecordDetail',\r\n                    query: {\r\n                        ApplyId: item.ApplyId\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n    #my-log {\r\n        padding-top: 10px;\r\n        & > .search {\r\n            background-color: #fff;\r\n            padding: 10px 15px;\r\n        }\r\n        & > .list {\r\n            padding: 10px 10px 0px;\r\n            & > ul {\r\n                & > li {\r\n                    min-height: 45px;\r\n                    padding: 5px 10px;\r\n                    background-color: #fff;\r\n                    border-radius: 5px;\r\n                    font-size: 12px;\r\n                    color: #404040;\r\n                    margin-bottom: 10px;\r\n                    & > .time {\r\n                        line-height: 20px;\r\n                        min-height: 20px;\r\n                    }\r\n                    & > .content {\r\n                        line-height: 20px;\r\n                        min-height: 20px;\r\n                        margin-top: 5px;\r\n                        overflow: hidden;\r\n                        & > .name {\r\n                            float: left;\r\n                            width: 50px;\r\n                            padding-right: 10px;\r\n                            height: 20px;\r\n                            line-height: 20px;\r\n                            overflow: hidden;\r\n                            white-space: nowrap;\r\n                            text-overflow: ellipsis;\r\n                        }\r\n                        &>.text {\r\n                            overflow: hidden;\r\n                            &>a {\r\n                                color: #0066CC;\r\n                                display: inline-block;\r\n                                height: 20px;\r\n                                &:active {\r\n                                    background-color: #eee;\r\n                                }\r\n                            }\r\n                            &>span {\r\n                                color: #0066CC;\r\n                            }\r\n                        }\r\n                    }\r\n                    &:last-child {\r\n                        margin-bottom: 0px;\r\n                    }\r\n                }\r\n            }\r\n            &>.no-data {\r\n                color: #999;\r\n                font-size: 12px;\r\n                line-height: 20px;\r\n                text-align: center;\r\n                margin-top: 40px;\r\n            }\r\n        }\r\n    }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// userLog.vue?9854517e"],"sourceRoot":""}